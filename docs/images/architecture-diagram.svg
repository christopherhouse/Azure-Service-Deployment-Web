<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="950" viewBox="0 0 1200 950" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Purple background gradient to match original -->
    <linearGradient id="backgroundGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#7C3AED;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6D28D9;stop-opacity:1" />
    </linearGradient>
    
    <!-- Component gradients matching original colors -->
    <linearGradient id="blueGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1D4ED8;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="redOrangeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F97316;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#EA580C;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="orangeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FB923C;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#F97316;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="greenGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="purpleGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7C3AED;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="darkGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#374151;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1F2937;stop-opacity:1" />
    </linearGradient>
    
    <!-- Shadow filter -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="3" dy="3" stdDeviation="4" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Purple gradient background -->
  <rect width="1200" height="950" fill="url(#backgroundGradient)"/>
  
  <!-- Title -->
  <text x="600" y="50" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="28" font-weight="bold" fill="white">
    🎯 Azure ARM Template Deployment Architecture
  </text>

  <!-- Central .NET 8 MVC Web App (hub) -->
  <g id="webapp-center">
    <rect x="450" y="400" width="300" height="120" rx="15" ry="15" 
          fill="url(#redOrangeGradient)" filter="url(#shadow)"/>
    <text x="600" y="430" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="18" font-weight="bold" fill="white">🚀 .NET 8 MVC</text>
    <text x="600" y="455" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="18" font-weight="bold" fill="white">Web App</text>
    <text x="600" y="480" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="14" fill="white">Core Application</text>
    <text x="600" y="500" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="14" fill="white">ARM Template Processing</text>
  </g>

  <!-- User Browser (top-left) -->
  <g id="user-browser">
    <rect x="100" y="150" width="200" height="100" rx="15" ry="15" 
          fill="url(#blueGradient)" filter="url(#shadow)"/>
    <text x="200" y="180" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="16" font-weight="bold" fill="white">👤 User Browser</text>
    <text x="200" y="205" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="14" fill="white">Web Interface</text>
    <text x="200" y="225" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="14" fill="white">ARM Template Upload</text>
  </g>

  <!-- Microsoft Entra ID (top-right) -->
  <g id="entra-id">
    <rect x="900" y="150" width="200" height="100" rx="15" ry="15" 
          fill="url(#purpleGradient)" filter="url(#shadow)"/>
    <text x="1000" y="180" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="16" font-weight="bold" fill="white">🔐 Microsoft</text>
    <text x="1000" y="200" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="16" font-weight="bold" fill="white">Entra ID</text>
    <text x="1000" y="225" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="14" fill="white">Authentication</text>
  </g>

  <!-- Azure Key Vault (left) -->
  <g id="keyvault">
    <rect x="100" y="400" width="200" height="100" rx="15" ry="15" 
          fill="url(#orangeGradient)" filter="url(#shadow)"/>
    <text x="200" y="430" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="16" font-weight="bold" fill="white">🔑 Azure</text>
    <text x="200" y="450" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="16" font-weight="bold" fill="white">Key Vault</text>
    <text x="200" y="475" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="14" fill="white">Secrets Management</text>
  </g>

  <!-- Redis Cache (right) -->
  <g id="redis">
    <rect x="900" y="400" width="200" height="100" rx="15" ry="15" 
          fill="url(#orangeGradient)" filter="url(#shadow)"/>
    <text x="1000" y="430" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="16" font-weight="bold" fill="white">⚡ Redis</text>
    <text x="1000" y="450" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="16" font-weight="bold" fill="white">Cache</text>
    <text x="1000" y="475" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="14" fill="white">API Response Caching</text>
  </g>

  <!-- Application Insights (bottom-left) -->
  <g id="app-insights">
    <rect x="100" y="650" width="200" height="100" rx="15" ry="15" 
          fill="url(#greenGradient)" filter="url(#shadow)"/>
    <text x="200" y="680" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="16" font-weight="bold" fill="white">📊 Application</text>
    <text x="200" y="700" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="16" font-weight="bold" fill="white">Insights</text>
    <text x="200" y="725" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="14" fill="white">Telemetry &amp; Monitoring</text>
  </g>

  <!-- Azure SignalR (top-right of center) -->
  <g id="signalr">
    <rect x="900" y="650" width="200" height="100" rx="15" ry="15" 
          fill="url(#greenGradient)" filter="url(#shadow)"/>
    <text x="1000" y="680" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="16" font-weight="bold" fill="white">📡 Azure</text>
    <text x="1000" y="700" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="16" font-weight="bold" fill="white">SignalR</text>
    <text x="1000" y="725" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="14" fill="white">Real-time Updates</text>
  </g>

  <!-- Azure Resource Manager (bottom center) -->
  <g id="arm">
    <rect x="450" y="750" width="300" height="120" rx="15" ry="15" 
          fill="url(#darkGradient)" filter="url(#shadow)"/>
    <text x="600" y="785" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="18" font-weight="bold" fill="white">☁️ Azure Resource</text>
    <text x="600" y="810" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="18" font-weight="bold" fill="white">Manager</text>
    <text x="600" y="835" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
          font-size="14" fill="white">ARM Template Deployment Target</text>
  </g>

  <!-- Connection lines with dotted style matching original -->
  
  <!-- User Browser to Web App -->
  <line x1="300" y1="200" x2="450" y2="430" stroke="white" stroke-width="3" 
        stroke-dasharray="8,6" opacity="0.8"/>
  <text x="375" y="310" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="500" fill="white">HTTPS Requests</text>
  
  <!-- Web App to Entra ID -->
  <line x1="750" y1="430" x2="900" y2="200" stroke="white" stroke-width="3" 
        stroke-dasharray="8,6" opacity="0.8"/>
  <text x="825" y="310" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="500" fill="white">OAuth</text>
  
  <!-- Web App to Key Vault -->
  <line x1="450" y1="460" x2="300" y2="450" stroke="white" stroke-width="3" 
        stroke-dasharray="8,6" opacity="0.8"/>
  <text x="375" y="440" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="500" fill="white">Secrets</text>
  
  <!-- Web App to Redis -->
  <line x1="750" y1="460" x2="900" y2="450" stroke="white" stroke-width="3" 
        stroke-dasharray="8,6" opacity="0.8"/>
  <text x="825" y="440" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="500" fill="white">Caching</text>
  
  <!-- Web App to Application Insights -->
  <line x1="450" y1="490" x2="300" y2="650" stroke="white" stroke-width="3" 
        stroke-dasharray="8,6" opacity="0.8"/>
  <text x="375" y="580" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="500" fill="white">Telemetry</text>
  
  <!-- Web App to SignalR -->
  <line x1="750" y1="490" x2="900" y2="650" stroke="white" stroke-width="3" 
        stroke-dasharray="8,6" opacity="0.8"/>
  <text x="825" y="580" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="500" fill="white">WebSocket</text>
  
  <!-- Web App to ARM -->
  <line x1="600" y1="520" x2="600" y2="750" stroke="white" stroke-width="3" 
        stroke-dasharray="8,6" opacity="0.8"/>
  <text x="620" y="635" text-anchor="start" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="500" fill="white">ARM Deploy</text>

  <!-- SignalR to User Browser (real-time updates) -->
  <path d="M 900 680 Q 600 100 300 180" stroke="white" stroke-width="3" 
        fill="none" stroke-dasharray="8,6" opacity="0.8"/>
  <text x="600" y="120" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" 
        font-size="12" font-weight="500" fill="white">Real-time Updates</text>
</svg>