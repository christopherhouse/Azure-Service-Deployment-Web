<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="20" font-weight="bold" fill="#333">
    Azure ARM Template Deployment - Architecture
  </text>

  <!-- Central .NET 8 MVC Web App -->
  <rect x="300" y="250" width="200" height="80" rx="10" 
        fill="#0078d4" stroke="#005a9e" stroke-width="2"/>
  <text x="400" y="275" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="14" font-weight="bold" fill="white">🚀 .NET 8 MVC</text>
  <text x="400" y="295" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="14" font-weight="bold" fill="white">Web App</text>
  <text x="400" y="315" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="11" fill="white">Core Application</text>

  <!-- User Browser -->
  <rect x="50" y="100" width="150" height="60" rx="8" 
        fill="#2563eb" stroke="#1d4ed8" stroke-width="2"/>
  <text x="125" y="125" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="white">👤 User Browser</text>
  <text x="125" y="145" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="10" fill="white">Modern Web Interface</text>

  <!-- Microsoft Entra ID -->
  <rect x="600" y="100" width="150" height="60" rx="8" 
        fill="#8b5cf6" stroke="#7c3aed" stroke-width="2"/>
  <text x="675" y="125" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="white">🔐 Microsoft</text>
  <text x="675" y="145" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="10" fill="white">Entra ID</text>

  <!-- Azure Key Vault -->
  <rect x="50" y="250" width="150" height="60" rx="8" 
        fill="#f59e0b" stroke="#d97706" stroke-width="2"/>
  <text x="125" y="275" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="white">🔑 Azure</text>
  <text x="125" y="295" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="10" fill="white">Key Vault</text>

  <!-- Redis Cache -->
  <rect x="600" y="250" width="150" height="60" rx="8" 
        fill="#dc2626" stroke="#b91c1c" stroke-width="2"/>
  <text x="675" y="275" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="white">⚡ Redis</text>
  <text x="675" y="295" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="10" fill="white">Cache</text>

  <!-- Application Insights -->
  <rect x="50" y="400" width="150" height="60" rx="8" 
        fill="#10b981" stroke="#059669" stroke-width="2"/>
  <text x="125" y="425" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="white">📊 Application</text>
  <text x="125" y="445" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="10" fill="white">Insights</text>

  <!-- Azure SignalR -->
  <rect x="600" y="400" width="150" height="60" rx="8" 
        fill="#16a34a" stroke="#15803d" stroke-width="2"/>
  <text x="675" y="425" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="white">📡 Azure</text>
  <text x="675" y="445" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="10" fill="white">SignalR</text>

  <!-- Azure Resource Manager -->
  <rect x="300" y="500" width="200" height="60" rx="10" 
        fill="#374151" stroke="#1f2937" stroke-width="2"/>
  <text x="400" y="525" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="white">☁️ Azure Resource</text>
  <text x="400" y="545" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="10" fill="white">Manager</text>

  <!-- Connection lines -->
  
  <!-- User Browser to Web App -->
  <line x1="200" y1="130" x2="300" y2="270" stroke="#666" stroke-width="2"/>
  <text x="250" y="200" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" fill="#666">HTTPS Requests</text>
  
  <!-- Web App to Entra ID -->
  <line x1="500" y1="270" x2="600" y2="130" stroke="#666" stroke-width="2"/>
  <text x="550" y="200" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" fill="#666">OAuth</text>
  
  <!-- Web App to Key Vault -->
  <line x1="300" y1="280" x2="200" y2="280" stroke="#666" stroke-width="2"/>
  <text x="250" y="270" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" fill="#666">Secrets</text>
  
  <!-- Web App to Redis -->
  <line x1="500" y1="280" x2="600" y2="280" stroke="#666" stroke-width="2"/>
  <text x="550" y="270" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" fill="#666">Caching</text>
  
  <!-- Web App to Application Insights -->
  <line x1="300" y1="310" x2="200" y2="430" stroke="#666" stroke-width="2"/>
  <text x="250" y="370" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" fill="#666">Telemetry</text>
  
  <!-- Web App to SignalR -->
  <line x1="500" y1="310" x2="600" y2="430" stroke="#666" stroke-width="2"/>
  <text x="550" y="370" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" fill="#666">WebSocket</text>
  
  <!-- Web App to ARM -->
  <line x1="400" y1="330" x2="400" y2="500" stroke="#666" stroke-width="2"/>
  <text x="420" y="415" text-anchor="start" font-family="Arial, sans-serif" 
        font-size="12" fill="#666">ARM Deploy</text>

  <!-- SignalR to User Browser (real-time updates) -->
  <path d="M 600 430 Q 400 50 200 130" stroke="#666" stroke-width="2" 
        fill="none" stroke-dasharray="5,5"/>
  <text x="400" y="70" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" fill="#666">Real-time Updates</text>
</svg>