/*! For license information please see main.0f12f5f9.js.LICENSE.txt */
(()=>{"use strict";var e={105:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<o&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,p=null,h=3,m=!1,f=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function C(e){if(g=!1,S(e),!f)if(null!==r(c))f=!0,k||(k=!0,P());else{var t=r(u);null!==t&&M(C,t.startTime-e)}}var P,k=!1,T=-1,I=5,A=-1;function N(){return!!y||!(t.unstable_now()-A<I)}function R(){if(y=!1,k){var e=t.unstable_now();A=e;var n=!0;try{e:{f=!1,g&&(g=!1,b(T),T=-1),m=!0;var a=h;try{t:{for(S(e),p=r(c);null!==p&&!(p.expirationTime>e&&N());){var i=p.callback;if("function"===typeof i){p.callback=null,h=p.priorityLevel;var s=i(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){p.callback=s,S(e),n=!0;break t}p===r(c)&&o(c),S(e)}else o(c);p=r(c)}if(null!==p)n=!0;else{var l=r(u);null!==l&&M(C,l.startTime-e),n=!1}}break e}finally{p=null,h=a,m=!1}n=void 0}}finally{n?P():k=!1}}}if("function"===typeof w)P=function(){w(R)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,O=E.port2;E.port1.onmessage=R,P=function(){O.postMessage(null)}}else P=function(){v(R,0)};function M(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(T),T=-1):g=!0,M(C,a-i))):(e.sortIndex=s,n(c,e),f||m||(f=!0,k||(k=!0,P()))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},176:(e,t,n)=>{e.exports=n(713)},387:(e,t,n)=>{var r=n(442),o=n(176),a=n(989);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(i(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var R=Symbol.iterator;function E(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function M(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case P:return"Suspense";case k:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case S:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return M(e(t))}catch(n){}}return null}var _=Array.isArray,x=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},L=[],D=-1;function U(e){return{current:e}}function F(e){0>D||(e.current=L[D],L[D]=null,D--)}function j(e,t){D++,L[D]=e.current,e.current=t}var H=U(null),B=U(null),G=U(null),K=U(null);function W(e,t){switch(j(G,t),j(B,e),j(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(H),j(H,e)}function V(){F(H),F(B),F(G)}function Q(e){null!==e.memoizedState&&j(K,e);var t=H.current,n=ad(t,e.type);t!==n&&(j(B,e),j(H,n))}function J(e){B.current===e&&(F(H),F(B)),K.current===e&&(F(K),Qd._currentValue=q)}var $=Object.prototype.hasOwnProperty,Y=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,oe=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,ie=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function pe(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(me(e)/fe|0)|0},me=Math.log,fe=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,a=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?o=ve(r):0!==(i&=s)?o=ve(i):n||0!==(n=s&~e)&&(o=ve(n)):0!==(s=r&~a)?o=ve(s):0!==i?o=ve(i):n||0!==(n=r&~e)&&(o=ve(n)),0===o?0:0!==t&&t!==o&&0===(t&a)&&((a=o&-o)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:o}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Se(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Pe(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ie(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-he(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ae(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-he(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Ne(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ee(){var e=z.p;return 0!==e?e:void 0===(e=window.event)?32:cp(e.type)}var Oe=Math.random().toString(36).slice(2),Me="__reactFiber$"+Oe,_e="__reactProps$"+Oe,xe="__reactContainer$"+Oe,ze="__reactEvents$"+Oe,qe="__reactListeners$"+Oe,Le="__reactHandles$"+Oe,De="__reactResources$"+Oe,Ue="__reactMarker$"+Oe;function Fe(e){delete e[Me],delete e[_e],delete e[ze],delete e[qe],delete e[Le]}function je(e){var t=e[Me];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xe]||n[Me]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Me])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function He(e){if(e=e[Me]||e[xe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Be(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ge(e){var t=e[De];return t||(t=e[De]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[Ue]=!0}var We=new Set,Ve={};function Qe(e,t){Je(e,t),Je(e+"Capture",t)}function Je(e,t){for(Ve[e]=t,e=0;e<t.length;e++)We.add(t[e])}var $e,Ye,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(o=t,$.call(et,o)||!$.call(Ze,o)&&(Xe.test(o)?et[o]=!0:(Ze[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ot(e){if(void 0===$e)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$e=t&&t[1]||"",Ye=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$e+e+Ye}var at=!1;function it(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),i=a[0],s=a[1];if(i&&s){var l=i.split("\n"),c=s.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return ot("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function ft(e){return e.replace(mt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,o,a,i,s){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?vt(e,i,ct(t)):null!=n?vt(e,i,ct(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=a&&(e.defaultChecked=!!a),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function yt(e,t,n,r,o,a,i,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function vt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(_(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Pt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Pt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&kt(e,o,r)}else for(var a in t)t.hasOwnProperty(a)&&kt(e,a,t[a])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Et=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,_t=null;function xt(e){var t=He(e);if(t&&(e=t.stateNode)){var n=e[_e]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[_e]||null;if(!o)throw Error(i(90));gt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var zt=!1;function qt(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Mt||null!==_t)&&(jc(),Mt&&(t=Mt,e=_t,_t=Mt=null,xt(t),e)))for(t=0;t<e.length;t++)xt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[_e]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Dt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Dt)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(_p){Ut=!1}var jt=null,Ht=null,Bt=null;function Gt(){if(Bt)return Bt;var e,t,n=Ht,r=n.length,o="value"in jt?jt.value:jt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return Bt=o.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Vt(){return!1}function Qt(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Wt:Vt,this.isPropagationStopped=Vt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Jt,$t,Yt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Qt(Xt),en=p({},Xt,{view:0,detail:0}),tn=Qt(en),nn=p({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Jt=e.screenX-Yt.screenX,$t=e.screenY-Yt.screenY):$t=Jt=0,Yt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),rn=Qt(nn),on=Qt(p({},nn,{dataTransfer:0})),an=Qt(p({},en,{relatedTarget:0})),sn=Qt(p({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Qt(p({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Qt(p({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function mn(){return hn}var fn=Qt(p({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Qt(p({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Qt(p({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),vn=Qt(p({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Qt(p({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Qt(p({},Xt,{newState:0,oldState:0})),Sn=[9,13,27,32],Cn=Dt&&"CompositionEvent"in window,Pn=null;Dt&&"documentMode"in document&&(Pn=document.documentMode);var kn=Dt&&"TextEvent"in window&&!Pn,Tn=Dt&&(!Cn||Pn&&8<Pn&&11>=Pn),In=String.fromCharCode(32),An=!1;function Nn(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var En=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function _n(e,t,n,r){Mt?_t?_t.push(r):_t=[r]:Mt=r,0<(t=Gu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xn=null,zn=null;function qn(e){qu(e,0)}function Ln(e){if(pt(Be(e)))return e}function Dn(e,t){if("change"===e)return t}var Un=!1;if(Dt){var Fn;if(Dt){var jn="oninput"in document;if(!jn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),jn="function"===typeof Hn.oninput}Fn=jn}else Fn=!1;Un=Fn&&(!document.documentMode||9<document.documentMode)}function Bn(){xn&&(xn.detachEvent("onpropertychange",Gn),zn=xn=null)}function Gn(e){if("value"===e.propertyName&&Ln(zn)){var t=[];_n(t,zn,e,Ot(e)),qt(qn,t)}}function Kn(e,t,n){"focusin"===e?(Bn(),zn=n,(xn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Bn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(zn)}function Vn(e,t){if("click"===e)return Ln(t)}function Qn(e,t){if("input"===e||"change"===e)return Ln(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!$.call(t,o)||!Jn(e[o],t[o]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Dt&&"documentMode"in document&&11>=document.documentMode,rr=null,or=null,ar=null,ir=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ir||null==rr||rr!==ht(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&$n(ar,r)||(ar=r,0<(r=Gu(or,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function pr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Dt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var hr=pr("animationend"),mr=pr("animationiteration"),fr=pr("animationstart"),gr=pr("transitionrun"),yr=pr("transitionstart"),vr=pr("transitioncancel"),br=pr("transitionend"),wr=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){wr.set(e,t),Qe(t,[e])}Sr.push("scrollEnd");var Pr=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=Pr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Pr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Tr=[],Ir=0,Ar=0;function Nr(){for(var e=Ir,t=Ar=Ir=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var o=Tr[t];Tr[t++]=null;var a=Tr[t];if(Tr[t++]=null,null!==r&&null!==o){var i=r.pending;null===i?o.next=o:(o.next=i.next,i.next=o),r.pending=o}0!==a&&Mr(n,o,a)}}function Rr(e,t,n,r){Tr[Ir++]=e,Tr[Ir++]=t,Tr[Ir++]=n,Tr[Ir++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Er(e,t,n,r){return Rr(e,t,n,r),_r(e)}function Or(e,t){return Rr(e,null,null,t),_r(e)}function Mr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(o=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,o&&null!==t&&(o=31-he(n),null===(r=(e=a.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),a):null}function _r(e){if(50<Mc)throw Mc=0,_c=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var xr={};function zr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(e,t,n,r){return new zr(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dr(e,t){var n=e.alternate;return null===n?((n=qr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fr(e,t,n,r,o,a){var s=0;if(r=e,"function"===typeof e)Lr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=qr(31,n,t,o)).elementType=A,e.lanes=a,e;case g:return jr(n.children,o,a,t);case y:s=8,o|=24;break;case v:return(e=qr(12,n,t,2|o)).elementType=v,e.lanes=a,e;case P:return(e=qr(13,n,t,o)).elementType=P,e.lanes=a,e;case k:return(e=qr(19,n,t,o)).elementType=k,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case S:s=10;break e;case w:s=9;break e;case C:s=11;break e;case T:s=14;break e;case I:s=16,r=null;break e}s=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=qr(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function jr(e,t,n,r){return(e=qr(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=qr(6,e,null,t)).lanes=n,e}function Br(e,t,n){return(t=qr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=[],Kr=0,Wr=null,Vr=0,Qr=[],Jr=0,$r=null,Yr=1,Xr="";function Zr(e,t){Gr[Kr++]=Vr,Gr[Kr++]=Wr,Wr=e,Vr=t}function eo(e,t,n){Qr[Jr++]=Yr,Qr[Jr++]=Xr,Qr[Jr++]=$r,$r=e;var r=Yr;e=Xr;var o=32-he(r)-1;r&=~(1<<o),n+=1;var a=32-he(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Yr=1<<32-he(t)+o|n<<o|r,Xr=a+e}else Yr=1<<a|n<<o|r,Xr=e}function to(e){null!==e.return&&(Zr(e,1),eo(e,1,0))}function no(e){for(;e===Wr;)Wr=Gr[--Kr],Gr[Kr]=null,Vr=Gr[--Kr],Gr[Kr]=null;for(;e===$r;)$r=Qr[--Jr],Qr[Jr]=null,Xr=Qr[--Jr],Qr[Jr]=null,Yr=Qr[--Jr],Qr[Jr]=null}var ro=null,oo=null,ao=!1,io=null,so=!1,lo=Error(i(519));function co(e){throw go(kr(Error(i(418,"")),e)),lo}function uo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Me]=e,t[_e]=r,n){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(n=0;n<xu.length;n++)Lu(xu[n],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),St(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$u(t.textContent,n)?(null!=r.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=r.onScroll&&Lu("scroll",t),null!=r.onScrollEnd&&Lu("scrollend",t),null!=r.onClick&&(t.onclick=Yu),t=!0):t=!1,t||co(e)}function po(e){for(ro=e.return;ro;)switch(ro.tag){case 5:case 13:return void(so=!1);case 27:case 3:return void(so=!0);default:ro=ro.return}}function ho(e){if(e!==ro)return!1;if(!ao)return po(e),ao=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||id(e.type,e.memoizedProps)),t=!t),t&&oo&&co(e),po(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){oo=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}oo=null}}else 27===n?(n=oo,hd(e.type)?(e=vd,vd=null,oo=e):oo=n):oo=ro?yd(e.stateNode.nextSibling):null;return!0}function mo(){oo=ro=null,ao=!1}function fo(){var e=io;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),io=null),e}function go(e){null===io?io=[e]:io.push(e)}var yo=U(null),vo=null,bo=null;function wo(e,t,n){j(yo,t._currentValue),t._currentValue=n}function So(e){e._currentValue=yo.current,F(yo)}function Co(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Po(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var a=o.dependencies;if(null!==a){var s=o.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Co(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Co(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function ko(e,t,n,r){e=null;for(var o=t,a=!1;null!==o;){if(!a)if(0!==(524288&o.flags))a=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(i(387));if(null!==(s=s.memoizedProps)){var l=o.type;Jn(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===K.current){if(null===(s=o.alternate))throw Error(i(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}o=o.return}null!==e&&Po(t,e,n,r),t.flags|=262144}function To(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Io(e){vo=e,bo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ao(e){return Ro(vo,e)}function No(e,t){return null===vo&&Io(e),Ro(e,t)}function Ro(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bo){if(null===e)throw Error(i(308));bo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bo=bo.next=t;return n}var Eo="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Oo=r.unstable_scheduleCallback,Mo=r.unstable_NormalPriority,_o={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xo(){return{controller:new Eo,data:new Map,refCount:0}}function zo(e){e.refCount--,0===e.refCount&&Oo(Mo,(function(){e.controller.abort()}))}var qo=null,Lo=0,Do=0,Uo=null;function Fo(){if(0===--Lo&&null!==qo){null!==Uo&&(Uo.status="fulfilled");var e=qo;qo=null,Do=0,Uo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var jo=x.S;x.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===qo){var n=qo=[];Lo=0,Do=Ru(),Uo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Lo++,t.then(Fo,Fo)}(0,t),null!==jo&&jo(e,t)};var Ho=U(null);function Bo(){var e=Ho.current;return null!==e?e:rc.pooledCache}function Go(e,t){j(Ho,null===t?Ho.current:t.pool)}function Ko(){var e=Bo();return null===e?null:{parent:_o._currentValue,pool:e}}var Wo=Error(i(460)),Vo=Error(i(474)),Qo=Error(i(542)),Jo={then:function(){}};function $o(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yo(){}function Xo(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yo,Yo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ta(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yo,Yo);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ta(e=t.reason),e}throw Zo=t,Wo}}var Zo=null;function ea(){if(null===Zo)throw Error(i(459));var e=Zo;return Zo=null,e}function ta(e){if(e===Wo||e===Qo)throw Error(i(483))}var na=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ia(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=_r(e),Mr(e,null,n),t}return Rr(e,r,t,n),_r(e)}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}function la(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ca=!1;function ua(){if(ca){if(null!==Uo)throw Uo}}function da(e,t,n,r){ca=!1;var o=e.updateQueue;na=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=o.baseState;for(i=0,u=c=l=null,s=a;;){var h=-536870913&s.lane,m=h!==s.lane;if(m?(ac&h)===h:(r&h)===h){0!==h&&h===Do&&(ca=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var f=e,g=s;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(y,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(y,d,h):f)||void 0===h)break e;d=p({},d,h);break e;case 2:na=!0}}null!==(h=s.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=o.callbacks)?o.callbacks=[h]:m.push(h))}else m={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,i|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(m=s).next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===a&&(o.shared.lanes=0),hc|=i,e.lanes=i,e.memoizedState=d}}function pa(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function ha(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)pa(n[e],t)}var ma=U(null),fa=U(0);function ga(e,t){j(fa,e=dc),j(ma,t),dc=e|t.baseLanes}function ya(){j(fa,dc),j(ma,ma.current)}function va(){dc=fa.current,F(ma),F(fa)}var ba=0,wa=null,Sa=null,Ca=null,Pa=!1,ka=!1,Ta=!1,Ia=0,Aa=0,Na=null,Ra=0;function Ea(){throw Error(i(321))}function Oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function Ma(e,t,n,r,o,a){return ba=a,wa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,x.H=null===e||null===e.memoizedState?Wi:Vi,Ta=!1,a=n(r,o),Ta=!1,ka&&(a=xa(t,n,r,o)),_a(e),a}function _a(e){x.H=Ki;var t=null!==Sa&&null!==Sa.next;if(ba=0,Ca=Sa=wa=null,Pa=!1,Aa=0,Na=null,t)throw Error(i(300));null===e||As||null!==(e=e.dependencies)&&To(e)&&(As=!0)}function xa(e,t,n,r){wa=e;var o=0;do{if(ka&&(Na=null),Aa=0,ka=!1,25<=o)throw Error(i(301));if(o+=1,Ca=Sa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}x.H=Qi,a=t(n,r)}while(ka);return a}function za(){var e=x.H,t=e.useState()[0];return t="function"===typeof t.then?ja(t):t,e=e.useState()[0],(null!==Sa?Sa.memoizedState:null)!==e&&(wa.flags|=1024),t}function qa(){var e=0!==Ia;return Ia=0,e}function La(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Da(e){if(Pa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Pa=!1}ba=0,Ca=Sa=wa=null,ka=!1,Aa=Ia=0,Na=null}function Ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ca?wa.memoizedState=Ca=e:Ca=Ca.next=e,Ca}function Fa(){if(null===Sa){var e=wa.alternate;e=null!==e?e.memoizedState:null}else e=Sa.next;var t=null===Ca?wa.memoizedState:Ca.next;if(null!==t)Ca=t,Sa=e;else{if(null===e){if(null===wa.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Sa=e).memoizedState,baseState:Sa.baseState,baseQueue:Sa.baseQueue,queue:Sa.queue,next:null},null===Ca?wa.memoizedState=Ca=e:Ca=Ca.next=e}return Ca}function ja(e){var t=Aa;return Aa+=1,null===Na&&(Na=[]),e=Xo(Na,e,t),t=wa,null===(null===Ca?t.memoizedState:Ca.next)&&(t=t.alternate,x.H=null===t||null===t.memoizedState?Wi:Vi),e}function Ha(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ja(e);if(e.$$typeof===S)return Ao(e)}throw Error(i(438,String(e)))}function Ba(e){var t=null,n=wa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=N;return t.index++,n}function Ga(e,t){return"function"===typeof t?t(e):t}function Ka(e){return Wa(Fa(),Sa,e)}function Wa(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var o=e.baseQueue,a=r.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}t.baseQueue=o=a,r.pending=null}if(a=e.baseState,null===o)e.memoizedState=a;else{var l=s=null,c=null,u=t=o.next,d=!1;do{var p=-536870913&u.lane;if(p!==u.lane?(ac&p)===p:(ba&p)===p){var h=u.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),p===Do&&(d=!0);else{if((ba&h)===h){u=u.next,h===Do&&(d=!0);continue}p={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=a):c=c.next=p,wa.lanes|=h,hc|=h}p=u.action,Ta&&n(a,p),a=u.hasEagerState?u.eagerState:n(a,p)}else h={lane:p,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=a):c=c.next=h,wa.lanes|=p,hc|=p;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!Jn(a,e.memoizedState)&&(As=!0,d&&null!==(n=Uo)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,r.lastRenderedState=a}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Va(e){var t=Fa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);Jn(a,t.memoizedState)||(As=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Qa(e,t,n){var r=wa,o=Fa(),a=ao;if(a){if(void 0===n)throw Error(i(407));n=n()}else n=t();var s=!Jn((Sa||o).memoizedState,n);if(s&&(o.memoizedState=n,As=!0),o=o.queue,yi(2048,8,Ya.bind(null,r,o,e),[e]),o.getSnapshot!==t||s||null!==Ca&&1&Ca.memoizedState.tag){if(r.flags|=2048,mi(9,{destroy:void 0,resource:void 0},$a.bind(null,r,o,n,t),null),null===rc)throw Error(i(349));a||0!==(124&ba)||Ja(r,t,n)}return n}function Ja(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function $a(e,t,n,r){t.value=n,t.getSnapshot=r,Xa(t)&&Za(e)}function Ya(e,t,n){return n((function(){Xa(t)&&Za(e)}))}function Xa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function Za(e){var t=Or(e,2);null!==t&&qc(t,e,2)}function ei(e){var t=Ua();if("function"===typeof e){var n=e;if(e=n(),Ta){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:e},t}function ti(e,t,n,r){return e.baseState=n,Wa(e,Sa,"function"===typeof r?r:Ga)}function ni(e,t,n,r,o){if(Hi(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==x.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ri(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ri(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var a=x.T,i={};x.T=i;try{var s=n(o,r),l=x.S;null!==l&&l(i,s),oi(e,t,s)}catch(c){ii(e,t,c)}finally{x.T=a}}else try{oi(e,t,a=n(o,r))}catch(u){ii(e,t,u)}}function oi(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){ai(e,t,n)}),(function(n){return ii(e,t,n)})):ai(e,t,n)}function ai(e,t,n){t.status="fulfilled",t.value=n,si(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ri(e,n)))}function ii(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,si(t),t=t.next}while(t!==r)}e.action=null}function si(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function li(e,t){return t}function ci(e,t){if(ao){var n=rc.formState;if(null!==n){e:{var r=wa;if(ao){if(oo){t:{for(var o=oo,a=so;8!==o.nodeType;){if(!a){o=null;break t}if(null===(o=yd(o.nextSibling))){o=null;break t}}o="F!"===(a=o.data)||"F"===a?o:null}if(o){oo=yd(o.nextSibling),r="F!"===o.data;break e}}co(r)}r=!1}r&&(t=n[0])}}return(n=Ua()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},n.queue=r,n=Ui.bind(null,wa,r),r.dispatch=n,r=ei(!1),a=ji.bind(null,wa,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=Ua()).queue=o,n=ni.bind(null,wa,o,a,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function ui(e){return di(Fa(),Sa,e)}function di(e,t,n){if(t=Wa(e,t,li)[0],e=Ka(Ga)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ja(t)}catch(i){if(i===Wo)throw Qo;throw i}else r=t;var o=(t=Fa()).queue,a=o.dispatch;return n!==t.memoizedState&&(wa.flags|=2048,mi(9,{destroy:void 0,resource:void 0},pi.bind(null,o,n),null)),[r,a,e]}function pi(e,t){e.action=t}function hi(e){var t=Fa(),n=Sa;if(null!==n)return di(t,n,e);Fa(),t=t.memoizedState;var r=(n=Fa()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function mi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fi(){return Fa().memoizedState}function gi(e,t,n,r){var o=Ua();r=void 0===r?null:r,wa.flags|=e,o.memoizedState=mi(1|t,{destroy:void 0,resource:void 0},n,r)}function yi(e,t,n,r){var o=Fa();r=void 0===r?null:r;var a=o.memoizedState.inst;null!==Sa&&null!==r&&Oa(r,Sa.memoizedState.deps)?o.memoizedState=mi(t,a,n,r):(wa.flags|=e,o.memoizedState=mi(1|t,a,n,r))}function vi(e,t){gi(8390656,8,e,t)}function bi(e,t){yi(2048,8,e,t)}function wi(e,t){return yi(4,2,e,t)}function Si(e,t){return yi(4,4,e,t)}function Ci(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Pi(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yi(4,4,Ci.bind(null,t,e),n)}function ki(){}function Ti(e,t){var n=Fa();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ii(e,t){var n=Fa();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Oa(t,r[1]))return r[0];if(r=e(),Ta){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r}function Ai(e,t,n){return void 0===n||0!==(1073741824&ba)?e.memoizedState=t:(e.memoizedState=n,e=zc(),wa.lanes|=e,hc|=e,n)}function Ni(e,t,n,r){return Jn(n,t)?n:null!==ma.current?(e=Ai(e,n,r),Jn(e,t)||(As=!0),e):0===(42&ba)?(As=!0,e.memoizedState=n):(e=zc(),wa.lanes|=e,hc|=e,t)}function Ri(e,t,n,r,o){var a=z.p;z.p=0!==a&&8>a?a:8;var i=x.T,s={};x.T=s,ji(e,!1,t,n);try{var l=o(),c=x.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Fi(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),xc());else Fi(e,t,r,xc())}catch(u){Fi(e,t,{then:function(){},status:"rejected",reason:u},xc())}finally{z.p=a,x.T=i}}function Ei(){}function Oi(e,t,n,r){if(5!==e.tag)throw Error(i(476));var o=Mi(e).queue;Ri(e,o,t,q,null===n?Ei:function(){return _i(e),n(r)})}function Mi(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:q},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function _i(e){Fi(e,Mi(e).next.queue,{},xc())}function xi(){return Ao(Qd)}function zi(){return Fa().memoizedState}function qi(){return Fa().memoizedState}function Li(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=xc(),r=ia(t,e=aa(n),n);return null!==r&&(qc(r,t,n),sa(r,t,n)),t={cache:xo()},void(e.payload=t)}t=t.return}}function Di(e,t,n){var r=xc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Hi(e)?Bi(t,n):null!==(n=Er(e,t,n,r))&&(qc(n,e,r),Gi(n,t,r))}function Ui(e,t,n){Fi(e,t,n,xc())}function Fi(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hi(e))Bi(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=a(i,n);if(o.hasEagerState=!0,o.eagerState=s,Jn(s,i))return Rr(e,t,o,0),null===rc&&Nr(),!1}catch(l){}if(null!==(n=Er(e,t,o,r)))return qc(n,e,r),Gi(n,t,r),!0}return!1}function ji(e,t,n,r){if(r={lane:2,revertLane:Ru(),action:r,hasEagerState:!1,eagerState:null,next:null},Hi(e)){if(t)throw Error(i(479))}else null!==(t=Er(e,n,r,2))&&qc(t,e,2)}function Hi(e){var t=e.alternate;return e===wa||null!==t&&t===wa}function Bi(e,t){ka=Pa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gi(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}var Ki={readContext:Ao,use:Ha,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useLayoutEffect:Ea,useInsertionEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useSyncExternalStore:Ea,useId:Ea,useHostTransitionStatus:Ea,useFormState:Ea,useActionState:Ea,useOptimistic:Ea,useMemoCache:Ea,useCacheRefresh:Ea},Wi={readContext:Ao,use:Ha,useCallback:function(e,t){return Ua().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:vi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gi(4194308,4,Ci.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gi(4194308,4,e,t)},useInsertionEffect:function(e,t){gi(4,2,e,t)},useMemo:function(e,t){var n=Ua();t=void 0===t?null:t;var r=e();if(Ta){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ua();if(void 0!==n){var o=n(t);if(Ta){pe(!0);try{n(t)}finally{pe(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Di.bind(null,wa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ua().memoizedState=e},useState:function(e){var t=(e=ei(e)).queue,n=Ui.bind(null,wa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ki,useDeferredValue:function(e,t){return Ai(Ua(),e,t)},useTransition:function(){var e=ei(!1);return e=Ri.bind(null,wa,e.queue,!0,!1),Ua().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wa,o=Ua();if(ao){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===rc)throw Error(i(349));0!==(124&ac)||Ja(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,vi(Ya.bind(null,r,a,e),[e]),r.flags|=2048,mi(9,{destroy:void 0,resource:void 0},$a.bind(null,r,a,n,t),null),n},useId:function(){var e=Ua(),t=rc.identifierPrefix;if(ao){var n=Xr;t="\xab"+t+"R"+(n=(Yr&~(1<<32-he(Yr)-1)).toString(32)+n),0<(n=Ia++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ra++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:xi,useFormState:ci,useActionState:ci,useOptimistic:function(e){var t=Ua();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ji.bind(null,wa,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ba,useCacheRefresh:function(){return Ua().memoizedState=Li.bind(null,wa)}},Vi={readContext:Ao,use:Ha,useCallback:Ti,useContext:Ao,useEffect:bi,useImperativeHandle:Pi,useInsertionEffect:wi,useLayoutEffect:Si,useMemo:Ii,useReducer:Ka,useRef:fi,useState:function(){return Ka(Ga)},useDebugValue:ki,useDeferredValue:function(e,t){return Ni(Fa(),Sa.memoizedState,e,t)},useTransition:function(){var e=Ka(Ga)[0],t=Fa().memoizedState;return["boolean"===typeof e?e:ja(e),t]},useSyncExternalStore:Qa,useId:zi,useHostTransitionStatus:xi,useFormState:ui,useActionState:ui,useOptimistic:function(e,t){return ti(Fa(),0,e,t)},useMemoCache:Ba,useCacheRefresh:qi},Qi={readContext:Ao,use:Ha,useCallback:Ti,useContext:Ao,useEffect:bi,useImperativeHandle:Pi,useInsertionEffect:wi,useLayoutEffect:Si,useMemo:Ii,useReducer:Va,useRef:fi,useState:function(){return Va(Ga)},useDebugValue:ki,useDeferredValue:function(e,t){var n=Fa();return null===Sa?Ai(n,e,t):Ni(n,Sa.memoizedState,e,t)},useTransition:function(){var e=Va(Ga)[0],t=Fa().memoizedState;return["boolean"===typeof e?e:ja(e),t]},useSyncExternalStore:Qa,useId:zi,useHostTransitionStatus:xi,useFormState:hi,useActionState:hi,useOptimistic:function(e,t){var n=Fa();return null!==Sa?ti(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ba,useCacheRefresh:qi},Ji=null,$i=0;function Yi(e){var t=$i;return $i+=1,null===Ji&&(Ji=[]),Xo(Ji,e,t)}function Xi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zi(e,t){if(t.$$typeof===h)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Dr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===I&&es(a)===t.type)?(Xi(t=o(t,n.props),n),t.return=e,t):(Xi(t=Fr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Br(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=jr(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return Xi(n=Fr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Br(t,e.mode,n)).return=e,t;case I:return p(e,t=(0,t._init)(t._payload),n)}if(_(t)||E(t))return(t=jr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,Yi(t),n);if(t.$$typeof===S)return p(e,No(e,t),n);Zi(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===o?c(e,t,n,r):null;case f:return n.key===o?u(e,t,n,r):null;case I:return h(e,t,n=(o=n._init)(n._payload),r)}if(_(n)||E(n))return null!==o?null:d(e,t,n,r,null);if("function"===typeof n.then)return h(e,t,Yi(n),r);if(n.$$typeof===S)return h(e,t,No(e,n),r);Zi(e,n)}return null}function y(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case I:return y(e,t,n,r=(0,r._init)(r._payload),o)}if(_(r)||E(r))return d(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return y(e,t,n,Yi(r),o);if(r.$$typeof===S)return y(e,t,n,No(t,r),o);Zi(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=o(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===I&&es(b)===c.type){n(l,c.sibling),Xi(d=o(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=jr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xi(d=Fr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case f:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=o(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Br(u,l.mode,d)).return=l,l=d}return s(l);case I:return v(l,c,u=(b=u._init)(u._payload),d)}if(_(u))return function(o,i,s,l){for(var c=null,u=null,d=i,m=i=0,f=null;null!==d&&m<s.length;m++){d.index>m?(f=d,d=null):f=d.sibling;var g=h(o,d,s[m],l);if(null===g){null===d&&(d=f);break}e&&d&&null===g.alternate&&t(o,d),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g,d=f}if(m===s.length)return n(o,d),ao&&Zr(o,m),c;if(null===d){for(;m<s.length;m++)null!==(d=p(o,s[m],l))&&(i=a(d,i,m),null===u?c=d:u.sibling=d,u=d);return ao&&Zr(o,m),c}for(d=r(d);m<s.length;m++)null!==(f=y(d,o,m,s[m],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?m:f.key),i=a(f,i,m),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(o,e)})),ao&&Zr(o,m),c}(l,c,u,d);if(E(u)){if("function"!==typeof(b=E(u)))throw Error(i(150));return function(o,s,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,m=s,f=s=0,g=null,v=l.next();null!==m&&!v.done;f++,v=l.next()){m.index>f?(g=m,m=null):g=m.sibling;var b=h(o,m,v.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,f),null===d?u=b:d.sibling=b,d=b,m=g}if(v.done)return n(o,m),ao&&Zr(o,f),u;if(null===m){for(;!v.done;f++,v=l.next())null!==(v=p(o,v.value,c))&&(s=a(v,s,f),null===d?u=v:d.sibling=v,d=v);return ao&&Zr(o,f),u}for(m=r(m);!v.done;f++,v=l.next())null!==(v=y(m,o,f,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?f:v.key),s=a(v,s,f),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(o,e)})),ao&&Zr(o,f),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Yi(u),d);if(u.$$typeof===S)return v(l,c,No(l,u),d);Zi(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=o(c,u)).return=l,l=d):(n(l,c),(d=Hr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{$i=0;var o=v(e,t,n,r);return Ji=null,o}catch(i){if(i===Wo||i===Qo)throw i;var a=qr(29,i,null,e.mode);return a.lanes=r,a.return=e,a}}}var ns=ts(!0),rs=ts(!1),os=U(null),as=null;function is(e){var t=e.alternate;j(us,1&us.current),j(os,e),null===as&&(null===t||null!==ma.current||null!==t.memoizedState)&&(as=e)}function ss(e){if(22===e.tag){if(j(us,us.current),j(os,e),null===as){var t=e.alternate;null!==t&&null!==t.memoizedState&&(as=e)}}else ls()}function ls(){j(us,us.current),j(os,os.current)}function cs(e){F(os),as===e&&(as=null),F(us)}var us=U(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ps(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var hs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xc(),o=aa(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=ia(e,o,r))&&(qc(t,e,r),sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xc(),o=aa(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=ia(e,o,r))&&(qc(t,e,r),sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xc(),r=aa(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ia(e,r,n))&&(qc(t,e,n),sa(t,e,n))}};function ms(e,t,n,r,o,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(o,a))}function fs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hs.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=p({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var ys="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vs(e){ys(e)}function bs(e){console.error(e)}function ws(e){ys(e)}function Ss(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Cs(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Ps(e,t,n){return(n=aa(n)).tag=3,n.payload={element:null},n.callback=function(){Ss(e,t)},n}function ks(e){return(e=aa(e)).tag=3,e}function Ts(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var a=r.value;e.payload=function(){return o(a)},e.callback=function(){Cs(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Cs(t,n,r),"function"!==typeof o&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Is=Error(i(461)),As=!1;function Ns(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function Rs(e,t,n,r,o){n=n.render;var a=t.ref;if("ref"in r){var i={};for(var s in r)"ref"!==s&&(i[s]=r[s])}else i=r;return Io(t),r=Ma(e,t,n,i,a,o),s=qa(),null===e||As?(ao&&s&&to(t),t.flags|=1,Ns(e,t,r,o),t.child):(La(e,t,o),Js(e,t,o))}function Es(e,t,n,r,o){if(null===e){var a=n.type;return"function"!==typeof a||Lr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Fr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Os(e,t,a,r,o))}if(a=e.child,!$s(e,o)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(i,r)&&e.ref===t.ref)return Js(e,t,o)}return t.flags|=1,(e=Dr(a,r)).ref=t.ref,e.return=t,t.child=e}function Os(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if($n(a,r)&&e.ref===t.ref){if(As=!1,t.pendingProps=r=a,!$s(e,o))return t.lanes=e.lanes,Js(e,t,o);0!==(131072&e.flags)&&(As=!0)}}return zs(e,t,n,r,o)}function Ms(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(o=t.child=e.child,a=0;null!==o;)a=a|o.lanes|o.childLanes,o=o.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return _s(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,_s(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Go(0,null!==a?a.cachePool:null),null!==a?ga(t,a):ya(),ss(t)}else null!==a?(Go(0,a.cachePool),ga(t,a),ls(),t.memoizedState=null):(null!==e&&Go(0,null),ya(),ls());return Ns(e,t,o,n),t.child}function _s(e,t,n,r){var o=Bo();return o=null===o?null:{parent:_o._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Go(0,null),ya(),ss(t),null!==e&&ko(e,t,r,!0),null}function xs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function zs(e,t,n,r,o){return Io(t),n=Ma(e,t,n,r,void 0,o),r=qa(),null===e||As?(ao&&r&&to(t),t.flags|=1,Ns(e,t,n,o),t.child):(La(e,t,o),Js(e,t,o))}function qs(e,t,n,r,o,a){return Io(t),t.updateQueue=null,n=xa(t,r,n,o),_a(e),r=qa(),null===e||As?(ao&&r&&to(t),t.flags|=1,Ns(e,t,n,a),t.child):(La(e,t,a),Js(e,t,a))}function Ls(e,t,n,r,o){if(Io(t),null===t.stateNode){var a=xr,i=n.contextType;"object"===typeof i&&null!==i&&(a=Ao(i)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=hs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ra(t),i=n.contextType,a.context="object"===typeof i&&null!==i?Ao(i):xr,a.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(ps(t,n,i,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(i=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),i!==a.state&&hs.enqueueReplaceState(a,a.state,null),da(t,r,a,o),ua(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=gs(n,s);a.props=l;var c=a.context,u=n.contextType;i=xr,"object"===typeof u&&null!==u&&(i=Ao(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==i)&&fs(t,a,r,i),na=!1;var p=t.memoizedState;a.state=p,da(t,r,a,o),ua(),c=t.memoizedState,s||p!==c||na?("function"===typeof d&&(ps(t,n,d,r),c=t.memoizedState),(l=na||ms(t,n,l,r,p,c,i))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=i,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,oa(e,t),u=gs(n,i=t.memoizedProps),a.props=u,d=t.pendingProps,p=a.context,c=n.contextType,l=xr,"object"===typeof c&&null!==c&&(l=Ao(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(i!==d||p!==l)&&fs(t,a,r,l),na=!1,p=t.memoizedState,a.state=p,da(t,r,a,o),ua();var h=t.memoizedState;i!==d||p!==h||na||null!==e&&null!==e.dependencies&&To(e.dependencies)?("function"===typeof s&&(ps(t,n,s,r),h=t.memoizedState),(u=na||ms(t,n,u,r,p,h,l)||null!==e&&null!==e.dependencies&&To(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,xs(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,o),t.child=ns(t,null,n,o)):Ns(e,t,n,o),t.memoizedState=a.state,e=t.child):e=Js(e,t,o),e}function Ds(e,t,n,r){return mo(),t.flags|=256,Ns(e,t,n,r),t.child}var Us={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fs(e){return{baseLanes:e,cachePool:Ko()}}function js(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Hs(e,t,n){var r,o=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ao){if(a?is(t):ls(),ao){var l,c=oo;if(l=c){e:{for(l=c,c=so;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==$r?{id:Yr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=qr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ro=t,oo=null,l=!0):l=!1}l||co(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=o.children,o=o.fallback,a?(ls(),c=Gs({mode:"hidden",children:c},a=t.mode),o=jr(o,a,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,(a=t.child).memoizedState=Fs(n),a.childLanes=js(e,r,n),t.memoizedState=Us,o):(is(t),Bs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(is(t),t.flags&=-257,t=Ks(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),a=o.fallback,c=t.mode,o=Gs({mode:"visible",children:o.children},c),(a=jr(a,c,n,null)).flags|=2,o.return=t,a.return=t,o.sibling=a,t.child=o,ns(t,e.child,null,n),(o=t.child).memoizedState=Fs(n),o.childLanes=js(e,r,n),t.memoizedState=Us,t=a);else if(is(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(i(419))).stack="",o.digest=r,go({value:o,source:null,stack:null}),t=Ks(e,t,n)}else if(As||ko(e,t,n,!1),r=0!==(n&e.childLanes),As||r){if(null!==(r=rc)&&(0!==(o=0!==((o=0!==(42&(o=n&-n))?1:Ne(o))&(r.suspendedLanes|n))?0:o)&&o!==l.retryLane))throw l.retryLane=o,Or(e,o),qc(r,e,o),Is;"$?"===c.data||Vc(),t=Ks(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,oo=yd(c.nextSibling),ro=t,ao=!0,io=null,so=!1,null!==e&&(Qr[Jr++]=Yr,Qr[Jr++]=Xr,Qr[Jr++]=$r,Yr=e.id,Xr=e.overflow,$r=t),(t=Bs(t,o.children)).flags|=4096);return t}return a?(ls(),a=o.fallback,c=t.mode,u=(l=e.child).sibling,(o=Dr(l,{mode:"hidden",children:o.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=Dr(u,a):(a=jr(a,c,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,null===(c=e.child.memoizedState)?c=Fs(n):(null!==(l=c.cachePool)?(u=_o._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ko(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=js(e,r,n),t.memoizedState=Us,o):(is(t),e=(n=e.child).sibling,(n=Dr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Bs(e,t){return(t=Gs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Gs(e,t){return(e=qr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ks(e,t,n){return ns(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ws(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,n)}function Vs(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Qs(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Ns(e,t,r.children,n),0!==(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ws(e,n,t);else if(19===e.tag)Ws(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(j(us,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Vs(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ds(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Js(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ko(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Dr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $s(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!To(e))}function Ys(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)As=!0;else{if(!$s(e,n)&&0===(128&t.flags))return As=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),wo(0,_o,e.memoizedState.cache),mo();break;case 27:case 5:Q(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:wo(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(is(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Hs(e,t,n):(is(t),null!==(e=Js(e,t,n))?e.sibling:null);is(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ko(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return Qs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),j(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,Ms(e,t,n);case 24:wo(0,_o,e.memoizedState.cache)}return Js(e,t,n)}(e,t,n);As=0!==(131072&e.flags)}else As=!1,ao&&0!==(1048576&t.flags)&&eo(t,Vr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((o=r.$$typeof)===C){t.tag=11,t=Rs(null,t,r,e,n);break e}if(o===T){t.tag=14,t=Es(null,t,r,e,n);break e}}throw t=M(r)||r,Error(i(306,t,""))}Lr(r)?(e=gs(r,e),t.tag=1,t=Ls(null,t,r,e,n)):(t.tag=0,t=zs(null,t,r,e,n))}return t;case 0:return zs(e,t,t.type,t.pendingProps,n);case 1:return Ls(e,t,r=t.type,o=gs(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var a=t.memoizedState;o=a.element,oa(e,t),da(t,r,null,n);var s=t.memoizedState;if(r=s.cache,wo(0,_o,r),r!==a.cache&&Po(t,[_o],n,!0),ua(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ds(e,t,r,n);break e}if(r!==o){go(o=kr(Error(i(424)),t)),t=Ds(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(oo=yd(e.firstChild),ro=t,ao=!0,io=null,so=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mo(),r===o){t=Js(e,t,n);break e}Ns(e,t,r,n)}t=t.child}return t;case 26:return xs(e,t),null===e?(n=Nd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ao||(n=t.type,e=t.pendingProps,(r=rd(G.current).createElement(n))[Me]=t,r[_e]=e,ed(r,n,e),Ke(r),t.stateNode=r):t.memoizedState=Nd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ao&&(r=t.stateNode=wd(t.type,t.pendingProps,G.current),ro=t,so=!0,o=oo,hd(t.type)?(vd=o,oo=yd(r.firstChild)):oo=o),Ns(e,t,t.pendingProps.children,n),xs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ao&&((o=r=oo)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===a)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,so))?(t.stateNode=r,ro=t,oo=yd(r.firstChild),so=!1,o=!0):o=!1),o||co(t)),Q(t),o=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,id(o,a)?r=null:null!==s&&id(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=Ma(e,t,za,null,null,n),Qd._currentValue=o),xs(e,t),Ns(e,t,r,n),t.child;case 6:return null===e&&ao&&((e=n=oo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,so))?(t.stateNode=n,ro=t,oo=null,e=!0):e=!1),e||co(t)),null;case 13:return Hs(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):Ns(e,t,r,n),t.child;case 11:return Rs(e,t,t.type,t.pendingProps,n);case 7:return Ns(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ns(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wo(0,t.type,r.value),Ns(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Io(t),r=r(o=Ao(o)),t.flags|=1,Ns(e,t,r,n),t.child;case 14:return Es(e,t,t.type,t.pendingProps,n);case 15:return Os(e,t,t.type,t.pendingProps,n);case 19:return Qs(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Gs(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Dr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ms(e,t,n);case 24:return Io(t),r=Ao(_o),null===e?(null===(o=Bo())&&(o=rc,a=xo(),o.pooledCache=a,a.refCount++,null!==a&&(o.pooledCacheLanes|=n),o=a),t.memoizedState={parent:r,cache:o},ra(t),wo(0,_o,o)):(0!==(e.lanes&n)&&(oa(e,t),da(t,null,null,n),ua()),o=e.memoizedState,a=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),wo(0,_o,r)):(r=a.cache,wo(0,_o,r),r!==o.cache&&Po(t,[_o],n,!0))),Ns(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Xs(e){e.flags|=4}function Zs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!jd(t)){if(null!==(t=os.current)&&((4194048&ac)===ac?null!==as:(62914560&ac)!==ac&&0===(536870912&ac)||t!==as))throw Zo=Jo,Vo;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(no(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),So(_o),V(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ho(t)?Xs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fo())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xs(t),null!==n?(nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xs(t),nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xs(t),nl(t),t.flags&=-16777217),null;case 27:J(t),n=G.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return nl(t),null}e=H.current,ho(t)?uo(t):(e=wd(o,r,n),t.stateNode=e,Xs(t))}return nl(t),null;case 5:if(J(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return nl(t),null}if(e=H.current,ho(t))uo(t);else{switch(o=rd(G.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?o.createElement(n,{is:r.is}):o.createElement(n)}}e[Me]=t,e[_e]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xs(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=G.current,ho(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=ro))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Me]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$u(e.nodeValue,n)))||co(t)}else(e=rd(e).createTextNode(r))[Me]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[Me]=t}else mo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),o=!1}else o=fo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==o&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return V(),null===e&&Fu(t.stateNode.containerInfo),nl(t),null;case 10:return So(t.type),nl(t),null;case 19:if(F(us),null===(o=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(a=o.rendering))if(r)tl(o,!1);else{if(0!==pc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ds(e))){for(t.flags|=128,tl(o,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return j(us,1&us.current|2),t.child}e=e.sibling}null!==o.tail&&te()>Cc&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ds(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!a.alternate&&!ao)return nl(t),null}else 2*te()-o.renderingStartTime>Cc&&536870912!==n&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=o.last)?e.sibling=a:t.child=a,o.last=a)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=te(),t.sibling=null,e=us.current,j(us,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),va(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&F(Ho),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),So(_o),nl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function ol(e,t){switch(no(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return So(_o),V(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));mo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(us),null;case 4:return V(),null;case 10:return So(t.type),null;case 22:case 23:return cs(t),va(),null!==e&&F(Ho),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return So(_o),null;default:return null}}function al(e,t){switch(no(t),t.tag){case 3:So(_o),V();break;case 26:case 27:case 5:J(t);break;case 4:V();break;case 13:cs(t);break;case 19:F(us);break;case 10:So(t.type);break;case 22:case 23:cs(t),va(),null!==e&&F(Ho);break;case 24:So(_o)}}function il(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var a=n.create,i=n.inst;r=a(),i.destroy=r}n=n.next}while(n!==o)}}catch(s){uu(t,t.return,s)}}function sl(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var a=o.next;r=a;do{if((r.tag&e)===e){var i=r.inst,s=i.destroy;if(void 0!==s){i.destroy=void 0,o=t;var l=n,c=s;try{c()}catch(u){uu(o,l,u)}}}r=r.next}while(r!==a)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ha(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(o){uu(e,t,o)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){uu(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){uu(e,t,a)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){uu(e,e.return,o)}}function hl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,a=null,s=null,l=null,c=null,u=null,d=null;for(m in n){var p=n[m];if(n.hasOwnProperty(m)&&null!=p)switch(m){case"checked":case"value":break;case"defaultValue":c=p;default:r.hasOwnProperty(m)||Xu(e,t,m,null,r,p)}}for(var h in r){var m=r[h];if(p=n[h],r.hasOwnProperty(h)&&(null!=m||null!=p))switch(h){case"type":a=m;break;case"name":o=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:m!==p&&Xu(e,t,h,m,r,p)}}return void gt(e,s,l,c,u,d,a,o);case"select":for(a in m=s=l=h=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(a)||Xu(e,t,a,null,r,c)}for(o in r)if(a=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=a||null!=c))switch(o){case"value":h=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&Xu(e,t,o,a,r,c)}return t=l,n=s,r=m,void(null!=h?bt(e,!!n,h,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=h=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,r,o)}for(s in r)if(o=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=o||null!=a))switch(s){case"value":h=o;break;case"defaultValue":m=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(i(91));break;default:o!==a&&Xu(e,t,s,o,r,a)}return void wt(e,h,m);case"option":for(var f in n)if(h=n[f],n.hasOwnProperty(f)&&null!=h&&!r.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Xu(e,t,f,null,r,h);for(c in r)if(h=r[c],m=n[c],r.hasOwnProperty(c)&&h!==m&&(null!=h||null!=m))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Xu(e,t,c,h,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g)&&Xu(e,t,g,null,r,h);for(u in r)if(h=r[u],m=n[u],r.hasOwnProperty(u)&&h!==m&&(null!=h||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:Xu(e,t,u,h,r,m)}return;default:if(It(t)){for(var y in n)h=n[y],n.hasOwnProperty(y)&&void 0!==h&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,h);for(d in r)h=r[d],m=n[d],!r.hasOwnProperty(d)||h===m||void 0===h&&void 0===m||Zu(e,t,d,h,r,m);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&null!=h&&!r.hasOwnProperty(v)&&Xu(e,t,v,null,r,h);for(p in r)h=r[p],m=n[p],!r.hasOwnProperty(p)||h===m||null==h&&null==m||Xu(e,t,p,h,r,m)}(r,e.type,n,t),r[_e]=t}catch(o){uu(e,e.return,o)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hd(e.type)||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yu));else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ed(t,r,n),t[Me]=e,t[_e]=n}catch(a){uu(e,e.return,a)}}var bl=!1,wl=!1,Sl=!1,Cl="function"===typeof WeakSet?WeakSet:Set,Pl=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&il(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){uu(n,n.return,i)}else{var o=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(n,n.return,s)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ha(e,t)}catch(i){uu(n,n.return,i)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&pl(n),512&r&&ul(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&El(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=mu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,o=bl;var a=wl;bl=r,(wl=t)&&!a?Ul(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),bl=o,wl=a}break;case 30:break;default:Ll(e,n)}}function Tl(e){var t=e.alternate;null!==t&&(e.alternate=null,Tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Fe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Il=null,Al=!1;function Nl(e,t,n){for(n=n.child;null!==n;)Rl(e,t,n),n=n.sibling}function Rl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(a){}switch(n.tag){case 26:wl||dl(n,t),Nl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=Il,o=Al;hd(n.type)&&(Il=n.stateNode,Al=!1),Nl(e,t,n),Sd(n.stateNode),Il=r,Al=o;break;case 5:wl||dl(n,t);case 6:if(r=Il,o=Al,Il=null,Nl(e,t,n),Al=o,null!==(Il=r))if(Al)try{(9===Il.nodeType?Il.body:"HTML"===Il.nodeName?Il.ownerDocument.body:Il).removeChild(n.stateNode)}catch(i){uu(n,t,i)}else try{Il.removeChild(n.stateNode)}catch(i){uu(n,t,i)}break;case 18:null!==Il&&(Al?(md(9===(e=Il).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ap(e)):md(Il,n.stateNode));break;case 4:r=Il,o=Al,Il=n.stateNode.containerInfo,Al=!0,Nl(e,t,n),Il=r,Al=o;break;case 0:case 11:case 14:case 15:wl||sl(2,n,t),wl||sl(4,n,t),Nl(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Nl(e,t,n);break;case 21:Nl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Nl(e,t,n),wl=r;break;default:Nl(e,t,n)}}function El(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ap(e)}catch(n){uu(t,t.return,n)}}function Ol(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Cl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Cl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach((function(t){var r=fu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(hd(l.type)){Il=l.stateNode,Al=!1;break e}break;case 5:Il=l.stateNode,Al=!1;break e;case 3:case 4:Il=l.stateNode.containerInfo,Al=!0;break e}l=l.return}if(null===Il)throw Error(i(160));Rl(a,s,o),Il=null,Al=!1,null!==(a=o.alternate)&&(a.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}var _l=null;function xl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ml(t,e),zl(e),4&r&&(sl(3,e,e.return),il(3,e),sl(5,e,e.return));break;case 1:Ml(t,e),zl(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=_l;if(Ml(t,e),zl(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(a=o.getElementsByTagName("title")[0])||a[Ue]||a[Me]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=o.createElement(r),o.head.insertBefore(a,o.querySelector("head > title"))),ed(a,r,n),a[Me]=e,Ke(a),r=a;break e;case"link":var s=Ud("link","href",o).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ed(a=o.createElement(r),r,n),o.head.appendChild(a);break;case"meta":if(s=Ud("meta","content",o).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ed(a=o.createElement(r),r,n),o.head.appendChild(a);break;default:throw Error(i(468,r))}a[Me]=e,Ke(a),r=a}e.stateNode=r}else Fd(o,e.type,e.stateNode);else e.stateNode=xd(o,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Fd(o,e.type,e.stateNode):xd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&hl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ml(t,e),zl(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&hl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ml(t,e),zl(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){o=e.stateNode;try{Ct(o,"")}catch(m){uu(e,e.return,m)}}4&r&&null!=e.stateNode&&hl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(Sl=!0);break;case 6:if(Ml(t,e),zl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){uu(e,e.return,m)}}break;case 3:if(Dd=null,o=_l,_l=kd(t.containerInfo),Ml(t,e),_l=o,zl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ap(t.containerInfo)}catch(m){uu(e,e.return,m)}Sl&&(Sl=!1,ql(e));break;case 4:r=_l,_l=kd(e.stateNode.containerInfo),Ml(t,e),zl(e),_l=r;break;case 12:default:Ml(t,e),zl(e);break;case 13:Ml(t,e),zl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Sc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ol(e,r)));break;case 22:o=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||o,wl=d||c,Ml(t,e),wl=d,bl=u,zl(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||c||bl||wl||Dl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,o)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var p=c.memoizedProps.style,h=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(m){uu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(m){uu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Ol(e,n))));break;case 19:Ml(t,e),zl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ol(e,r)));case 30:case 21:}}function zl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ml(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var o=n.stateNode;yl(e,fl(e),o);break;case 5:var a=n.stateNode;32&n.flags&&(Ct(a,""),n.flags&=-33),yl(e,fl(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;gl(e,fl(e),s);break;default:throw Error(i(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function Dl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Dl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Dl(t);break;case 27:Sd(t.stateNode);case 26:case 5:dl(t,t.return),Dl(t);break;case 22:null===t.memoizedState&&Dl(t);break;default:Dl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,a=t,i=a.flags;switch(a.tag){case 0:case 11:case 15:Ul(o,a,n),il(4,a);break;case 1:if(Ul(o,a,n),"function"===typeof(o=(r=a).stateNode).componentDidMount)try{o.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(o=(r=a).updateQueue)){var s=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)pa(l[o],s)}catch(c){uu(r,r.return,c)}}n&&64&i&&ll(a),ul(a,a.return);break;case 27:vl(a);case 26:case 5:Ul(o,a,n),n&&null===r&&4&i&&pl(a),ul(a,a.return);break;case 12:Ul(o,a,n);break;case 13:Ul(o,a,n),n&&4&i&&El(o,a);break;case 22:null===a.memoizedState&&Ul(o,a,n),ul(a,a.return);break;case 30:break;default:Ul(o,a,n)}t=t.sibling}}function Fl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zo(n))}function jl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zo(e))}function Hl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Bl(e,t,n,r),t=t.sibling}function Bl(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Hl(e,t,n,r),2048&o&&il(9,t);break;case 1:case 13:default:Hl(e,t,n,r);break;case 3:Hl(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zo(e)));break;case 12:if(2048&o){Hl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,i=a.id,s=a.onPostCommit;"function"===typeof s&&s(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Hl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,i=t.alternate,null!==t.memoizedState?2&a._visibility?Hl(e,t,n,r):Kl(e,t):2&a._visibility?Hl(e,t,n,r):(a._visibility|=2,Gl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&o&&Fl(i,t);break;case 24:Hl(e,t,n,r),2048&o&&jl(t.alternate,t)}}function Gl(e,t,n,r,o){for(o=o&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,i=t,s=n,l=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:Gl(a,i,s,l,o),il(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?Gl(a,i,s,l,o):Kl(a,i):(u._visibility|=2,Gl(a,i,s,l,o)),o&&2048&c&&Fl(i.alternate,i);break;case 24:Gl(a,i,s,l,o),o&&2048&c&&jl(i.alternate,i);break;default:Gl(a,i,s,l,o)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:Kl(n,r),2048&o&&Fl(r.alternate,r);break;case 24:Kl(n,r),2048&o&&jl(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var Wl=8192;function Vl(e){if(e.subtreeFlags&Wl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Vl(e),e.flags&Wl&&null!==e.memoizedState&&function(e,t,n){if(null===Hd)throw Error(i(475));var r=Hd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var o=Rd(n.href),a=e.querySelector(Ed(o));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Gd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void Ke(a);a=e.ownerDocument||e,n=Od(n),(o=Cd.get(o))&&qd(n,o),Ke(a=a.createElement("link"));var s=a;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),ed(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Gd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(_l,e.memoizedState,e.memoizedProps);break;case 5:default:Vl(e);break;case 3:case 4:var t=_l;_l=kd(e.stateNode.containerInfo),Vl(e),_l=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wl,Wl=16777216,Vl(e),Wl=t):Vl(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Pl=r,Zl(r,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):$l(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Pl=r,Zl(r,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Pl;){var n=Pl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Pl=r;else e:for(n=e;null!==Pl;){var o=(r=Pl).sibling,a=r.return;if(Tl(r),r===n){Pl=null;break e}if(null!==o){o.return=a,Pl=o;break e}Pl=a}}}var ec={getCacheForType:function(e){var t=Ao(_o),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,oc=null,ac=0,ic=0,sc=null,lc=!1,cc=!1,uc=!1,dc=0,pc=0,hc=0,mc=0,fc=0,gc=0,yc=0,vc=null,bc=null,wc=!1,Sc=0,Cc=1/0,Pc=null,kc=null,Tc=0,Ic=null,Ac=null,Nc=0,Rc=0,Ec=null,Oc=null,Mc=0,_c=null;function xc(){if(0!==(2&nc)&&0!==ac)return ac&-ac;if(null!==x.T){return 0!==Do?Do:Ru()}return Ee()}function zc(){0===gc&&(gc=0===(536870912&ac)||ao?Ce():536870912);var e=os.current;return null!==e&&(e.flags|=32),gc}function qc(e,t,n){(e!==rc||2!==ic&&9!==ic)&&null===e.cancelPendingCommit||(Bc(e,0),Fc(e,ac,gc,!1)),Te(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(mc|=n),4===pc&&Fc(e,ac,gc,!1)),Cu(e))}function Lc(e,t,n){if(0!==(6&nc))throw Error(i(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),o=r?function(e,t){var n=nc;nc|=2;var r=Kc(),o=Wc();rc!==e||ac!==t?(Pc=null,Cc=te()+500,Bc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==ic&&null!==oc){t=oc;var a=sc;t:switch(ic){case 1:ic=0,sc=null,Zc(e,t,a,1);break;case 2:case 9:if($o(a)){ic=0,sc=null,Xc(t);break}t=function(){2!==ic&&9!==ic||rc!==e||(ic=7),Cu(e)},a.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:$o(a)?(ic=0,sc=null,Xc(t)):(ic=0,sc=null,Zc(e,t,a,7));break;case 5:var s=null;switch(oc.tag){case 26:s=oc.memoizedState;case 5:case 27:var l=oc;if(!s||jd(s)){ic=0,sc=null;var c=l.sibling;if(null!==c)oc=c;else{var u=l.return;null!==u?(oc=u,eu(u)):oc=null}break t}}ic=0,sc=null,Zc(e,t,a,5);break;case 6:ic=0,sc=null,Zc(e,t,a,6);break;case 8:Hc(),pc=6;break e;default:throw Error(i(462))}}$c();break}catch(d){Gc(e,d)}return bo=vo=null,x.H=r,x.A=o,nc=n,null!==oc?0:(rc=null,ac=0,Nr(),pc)}(e,t):Qc(e,t,!0),a=r;;){if(0===o){cc&&!r&&Fc(e,t,0,!1);break}if(n=e.current.alternate,!a||Uc(n)){if(2===o){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Bc(l,s).flags|=256),2!==(s=Qc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=a,mc|=a,o=4;break e}a=bc,bc=o,null!==a&&(null===bc?bc=a:bc.push.apply(bc,a))}o=s}if(a=!1,2!==o)continue}}if(1===o){Bc(e,0),Fc(e,t,0,!0);break}e:{switch(r=e,a=o){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Fc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(o=Sc+300-te())){if(Fc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Dc.bind(null,r,n,bc,Pc,wc,t,gc,mc,yc,lc,a,2,-0,0),o)}else Dc(r,n,bc,Pc,wc,t,gc,mc,yc,lc,a,0,-0,0)}break}o=Qc(e,t,!1),a=!1}Cu(e)}function Dc(e,t,n,r,o,a,s,l,c,u,d,p,h,m){if(e.timeoutHandle=-1,(8192&(p=t.subtreeFlags)||16785408===(16785408&p))&&(Hd={stylesheets:null,count:0,unsuspend:Bd},Ql(t),null!==(p=function(){if(null===Hd)throw Error(i(475));var e=Hd;return e.stylesheets&&0===e.count&&Wd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Wd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=p(nu.bind(null,e,t,a,n,r,o,s,l,c,d,1,h,m)),void Fc(e,a,s,!u);nu(e,t,a,n,r,o,s,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Jn(a(),o))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fc(e,t,n,r){t&=~fc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var a=31-he(o),i=1<<a;r[a]=-1,o&=~i}0!==n&&Ie(e,n,t)}function jc(){return 0!==(6&nc)||(Pu(0,!1),!1)}function Hc(){if(null!==oc){if(0===ic)var e=oc.return;else bo=vo=null,Da(e=oc),Ji=null,$i=0,e=oc;for(;null!==e;)al(e.alternate,e),e=e.return;oc=null}}function Bc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hc(),rc=e,oc=n=Dr(e.current,null),ac=t,ic=0,sc=null,lc=!1,cc=we(e,t),uc=!1,yc=gc=fc=mc=hc=pc=0,bc=vc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-he(r),a=1<<o;t|=e[o],r&=~a}return dc=t,Nr(),n}function Gc(e,t){wa=null,x.H=Ki,t===Wo||t===Qo?(t=ea(),ic=3):t===Vo?(t=ea(),ic=4):ic=t===Is?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===oc&&(pc=1,Ss(e,kr(t,e.current)))}function Kc(){var e=x.H;return x.H=Ki,null===e?Ki:e}function Wc(){var e=x.A;return x.A=ec,e}function Vc(){pc=4,lc||(4194048&ac)!==ac&&null!==os.current||(cc=!0),0===(134217727&hc)&&0===(134217727&mc)||null===rc||Fc(rc,ac,gc,!1)}function Qc(e,t,n){var r=nc;nc|=2;var o=Kc(),a=Wc();rc===e&&ac===t||(Pc=null,Bc(e,t)),t=!1;var i=pc;e:for(;;)try{if(0!==ic&&null!==oc){var s=oc,l=sc;switch(ic){case 8:Hc(),i=6;break e;case 3:case 2:case 9:case 6:null===os.current&&(t=!0);var c=ic;if(ic=0,sc=null,Zc(e,s,l,c),n&&cc){i=0;break e}break;default:c=ic,ic=0,sc=null,Zc(e,s,l,c)}}Jc(),i=pc;break}catch(u){Gc(e,u)}return t&&e.shellSuspendCounter++,bo=vo=null,nc=r,x.H=o,x.A=a,null===oc&&(rc=null,ac=0,Nr()),i}function Jc(){for(;null!==oc;)Yc(oc)}function $c(){for(;null!==oc&&!Z();)Yc(oc)}function Yc(e){var t=Ys(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):oc=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=qs(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=qs(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:Da(t);default:al(n,t),t=Ys(n,t=oc=Ur(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):oc=t}function Zc(e,t,n,r){bo=vo=null,Da(t),Ji=null,$i=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ko(t,n,o,!0),null!==(n=os.current)){switch(n.tag){case 13:return null===as?Vc():null===n.alternate&&0===pc&&(pc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===Jo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,o)),!1;case 22:return n.flags|=65536,r===Jo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,o)),!1}throw Error(i(435,n.tag))}return du(e,r,o),Vc(),!1}if(ao)return null!==(t=os.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==lo&&go(kr(e=Error(i(422),{cause:r}),n))):(r!==lo&&go(kr(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=kr(r,n),la(e,o=Ps(e.stateNode,r,o)),4!==pc&&(pc=2)),!1;var a=Error(i(520),{cause:r});if(a=kr(a,n),null===vc?vc=[a]:vc.push(a),4!==pc&&(pc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,la(n,e=Ps(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===kc||!kc.has(a))))return n.flags|=65536,o&=-o,n.lanes|=o,Ts(o=ks(o),e,n,r),la(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,ac))return pc=1,Ss(e,kr(n,e.current)),void(oc=null)}catch(a){if(null!==o)throw oc=o,a;return pc=1,Ss(e,kr(n,e.current)),void(oc=null)}32768&t.flags?(ao||1===r?e=!0:cc||0!==(536870912&ac)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=os.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(oc=n);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===pc&&(pc=5)}function tu(e,t){do{var n=ol(e.alternate,e);if(null!==n)return n.flags&=32767,void(oc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=n}while(null!==e);pc=6,oc=null}function nu(e,t,n,r,o,a,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==Tc);if(0!==(6&nc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,o,a){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-he(n),d=1<<u;s[u]=0,l[u]=-1;var p=c[u];if(null!==p)for(c[u]=null,u=0;u<p.length;u++){var h=p[u];null!==h&&(h.lane&=-536870913)}n&=~d}0!==r&&Ie(e,r,0),0!==a&&0===o&&0!==e.tag&&(e.suspendedLanes|=a&~(i&~t))}(e,n,a|=Ar,s,l,c),e===rc&&(oc=rc=null,ac=0),Ac=t,Ic=e,Nc=n,Rc=a,Ec=o,Oc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Y(ae,(function(){return lu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=x.T,x.T=null,o=z.p,z.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=np,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var m;p!==n||0!==o&&3!==p.nodeType||(l=s+o),p!==a||0!==r&&3!==p.nodeType||(c=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(m=p.firstChild);)h=p,p=m;for(;;){if(p===e)break t;if(h===n&&++u===o&&(l=s),h===a&&++d===r&&(c=s),null!==(m=p.nextSibling))break;h=(p=h).parentNode}p=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},np=!1,Pl=t;null!==Pl;)if(e=(t=Pl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Pl=e;else for(;null!==Pl;){switch(a=(t=Pl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,o=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var f=gs(n.type,o,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(f,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))fd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Pl=e;break}Pl=t.return}}(e,t)}finally{nc=s,z.p=o,x.T=r}}Tc=1,ru(),ou(),au()}}function ru(){if(1===Tc){Tc=0;var e=Ic,t=Ac,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=x.T,x.T=null;var r=z.p;z.p=2;var o=nc;nc|=4;try{xl(t,e);var a=nd,i=er(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(i!==s&&s&&s.ownerDocument&&Zn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var h=p.getSelection(),m=s.textContent.length,f=Math.min(l.start,m),g=void 0===l.end?f:Math.min(l.end,m);!h.extend&&f>g&&(i=g,g=f,f=i);var y=Xn(s,f),v=Xn(s,g);if(y&&v&&(1!==h.rangeCount||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),h.removeAllRanges(),f>g?(h.addRange(b),h.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),h.addRange(b))}}}}for(d=[],h=s;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}np=!!td,nd=td=null}finally{nc=o,z.p=r,x.T=n}}e.current=t,Tc=2}}function ou(){if(2===Tc){Tc=0;var e=Ic,t=Ac,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=x.T,x.T=null;var r=z.p;z.p=2;var o=nc;nc|=4;try{kl(e,t.alternate,t)}finally{nc=o,z.p=r,x.T=n}}Tc=3}}function au(){if(4===Tc||3===Tc){Tc=0,ee();var e=Ic,t=Ac,n=Nc,r=Oc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Tc=5:(Tc=0,Ac=Ic=null,iu(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(kc=null),Re(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=x.T,o=z.p,z.p=2,x.T=null;try{for(var a=e.onRecoverableError,i=0;i<r.length;i++){var s=r[i];a(s.value,{componentStack:s.stack})}}finally{x.T=t,z.p=o}}0!==(3&Nc)&&su(),Cu(e),o=e.pendingLanes,0!==(4194090&n)&&0!==(42&o)?e===_c?Mc++:(Mc=0,_c=e):Mc=0,Pu(0,!1)}}function iu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zo(t)))}function su(e){return ru(),ou(),au(),lu()}function lu(){if(5!==Tc)return!1;var e=Ic,t=Rc;Rc=0;var n=Re(Nc),r=x.T,o=z.p;try{z.p=32>n?32:n,x.T=null,n=Ec,Ec=null;var a=Ic,s=Nc;if(Tc=0,Ac=Ic=null,Nc=0,0!==(6&nc))throw Error(i(331));var l=nc;if(nc|=4,Yl(a.current),Bl(a,a.current,s,n),nc=l,Pu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,a)}catch(c){}return!0}finally{z.p=o,x.T=r,iu(e,t)}}function cu(e,t,n){t=kr(n,t),null!==(e=ia(e,t=Ps(e.stateNode,t,2),2))&&(Te(e,2),Cu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=kr(n,e),null!==(r=ia(t,n=ks(2),2))&&(Ts(n,r,t,e),Te(r,2),Cu(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(uc=!0,o.add(n),e=pu.bind(null,e,t,n),t.then(e,e))}function pu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ac&n)===n&&(4===pc||3===pc&&(62914560&ac)===ac&&300>te()-Sc?0===(2&nc)&&Bc(e,0):fc|=n,yc===ac&&(yc=0)),Cu(e)}function hu(e,t){0===t&&(t=Pe()),null!==(e=Or(e,t))&&(Te(e,t),Cu(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hu(e,n)}function fu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),hu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,wu=!1,Su=0;function Cu(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd((function(){0!==(6&nc)?Y(re,ku):Tu()})))}function Pu(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var a=0;else{var i=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-he(42|e)+1)-1,a=201326741&(a&=o&~(i&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Nu(r,a))}else a=ac,0===(3&(a=be(r,r===rc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,a)||(n=!0,Nu(r,a));r=r.next}}while(n);wu=!1}}function ku(){Tu()}function Tu(){bu=vu=!1;var e=0;0!==Su&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=Su),Su=0);for(var t=te(),n=null,r=gu;null!==r;){var o=r.next,a=Iu(r,t);0===a?(r.next=null,null===n?gu=o:n.next=o,null===o&&(yu=n)):(n=r,(0!==e||0!==(3&a))&&(bu=!0)),r=o}Pu(e,!1)}function Iu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var i=31-he(a),s=1<<i,l=o[i];-1===l?0!==(s&n)&&0===(s&r)||(o[i]=Se(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=ac,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ic||9===ic)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),Re(n)){case 2:case 8:n=oe;break;case 32:default:n=ae;break;case 268435456:n=se}return r=Au.bind(null,e),n=Y(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Au(e,t){if(0!==Tc&&5!==Tc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var r=ac;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,r,t),Iu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Au.bind(null,e):null)}function Nu(e,t){if(su())return null;Lc(e,t,!0)}function Ru(){return 0===Su&&(Su=Ce()),Su}function Eu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function Ou(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Mu=0;Mu<Sr.length;Mu++){var _u=Sr[Mu];Cr(_u.toLowerCase(),"on"+(_u[0].toUpperCase()+_u.slice(1)))}Cr(hr,"onAnimationEnd"),Cr(mr,"onAnimationIteration"),Cr(fr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(gr,"onTransitionRun"),Cr(yr,"onTransitionStart"),Cr(vr,"onTransitionCancel"),Cr(br,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function qu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;a=s,o.currentTarget=c;try{a(o)}catch(u){ys(u)}o.currentTarget=null,a=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,c=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;a=s,o.currentTarget=c;try{a(o)}catch(u){ys(u)}o.currentTarget=null,a=l}}}}function Lu(e,t){var n=t[ze];void 0===n&&(n=t[ze]=new Set);var r=e+"__bubble";n.has(r)||(ju(t,e,2,!1),n.add(r))}function Du(e,t,n){var r=0;t&&(r|=4),ju(n,e,r,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Fu(e){if(!e[Uu]){e[Uu]=!0,We.forEach((function(t){"selectionchange"!==t&&(zu.has(t)||Du(t,!1,e),Du(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,Du("selectionchange",!1,t))}}function ju(e,t,n,r){switch(cp(t)){case 2:var o=rp;break;case 8:o=op;break;default:o=ap}n=o.bind(null,t,n,e),o=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hu(e,t,n,r,o){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===o)return;i=i.return}for(;null!==s;){if(null===(i=je(s)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=a=i;continue e}s=s.parentNode}}r=r.return}qt((function(){var r=a,o=Ot(n),i=[];e:{var s=wr.get(e);if(void 0!==s){var c=Zt,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=fn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case hr:case mr:case fr:c=sn;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),p=!d&&("scroll"===e||"scrollend"===e),h=d?null!==s?s+"Capture":null:s;d=[];for(var m,f=r;null!==f;){var g=f;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===h||null!=(g=Lt(f,h))&&d.push(Bu(f,g,m)),p)break;f=f.return}0<d.length&&(s=new c(s,u,null,n,o),i.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Et||!(u=n.relatedTarget||n.fromElement)||!je(u)&&!u[xe])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?je(u):null)&&(p=l(u),d=u.tag,u!==p||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",h="onPointerEnter",f="pointer"),p=null==c?s:Be(c),m=null==u?s:Be(u),(s=new d(g,f+"leave",c,n,o)).target=p,s.relatedTarget=m,g=null,je(o)===r&&((d=new d(h,f+"enter",u,n,o)).target=m,d.relatedTarget=p,g=d),p=g,c&&u)e:{for(h=u,f=0,m=d=c;m;m=Ku(m))f++;for(m=0,g=h;g;g=Ku(g))m++;for(;0<f-m;)d=Ku(d),f--;for(;0<m-f;)h=Ku(h),m--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=Ku(d),h=Ku(h)}d=null}else d=null;null!==c&&Wu(i,s,c,d,!1),null!==u&&null!==p&&Wu(i,p,u,d,!0)}if("select"===(c=(s=r?Be(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Dn;else if(Mn(s))if(Un)y=Qn;else{y=Wn;var v=Kn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&It(r.elementType)&&(y=Dn):y=Vn;switch(y&&(y=y(e,r))?_n(i,y,n,o):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&vt(s,"number",s.value)),v=r?Be(r):window,e){case"focusin":(Mn(v)||"true"===v.contentEditable)&&(rr=v,or=r,ar=null);break;case"focusout":ar=or=rr=null;break;case"mousedown":ir=!0;break;case"contextmenu":case"mouseup":case"dragend":ir=!1,sr(i,n,o);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(i,n,o)}var b;if(Cn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else En?Nn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Tn&&"ko"!==n.locale&&(En||"onCompositionStart"!==w?"onCompositionEnd"===w&&En&&(b=Gt()):(Ht="value"in(jt=o)?jt.value:jt.textContent,En=!0)),0<(v=Gu(r,w)).length&&(w=new cn(w,e,null,n,o),i.push({event:w,listeners:v}),b?w.data=b:null!==(b=Rn(n))&&(w.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(An=!0,In);case"textInput":return(e=t.data)===In&&An?null:e;default:return null}}(e,n):function(e,t){if(En)return"compositionend"===e||!Cn&&Nn(e,t)?(e=Gt(),Bt=Ht=jt=null,En=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Gu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,o),i.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var a=Eu((o[_e]||null).action),i=r.submitter;i&&null!==(t=(t=i[_e]||null)?Eu(t.formAction):i.getAttribute("formAction"))&&(a=t,i=null);var s=new Zt("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Su){var e=i?Ou(o,i):new FormData(o);Oi(n,{pending:!0,data:e,method:o.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=i?Ou(o,i):new FormData(o),Oi(n,{pending:!0,data:e,method:o.method,action:a},a,e))},currentTarget:o}]})}}(i,e,r,n,o)}qu(i,t)}))}function Bu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gu(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===a||(null!=(o=Lt(e,n))&&r.unshift(Bu(e,o,a)),null!=(o=Lt(e,t))&&r.push(Bu(e,o,a))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,o?null!=(c=Lt(n,a))&&i.unshift(Bu(n,c,l)):o||null!=(c=Lt(n,a))&&i.push(Bu(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Vu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Ju(e){return("string"===typeof e?e:""+e).replace(Vu,"\n").replace(Qu,"")}function $u(e,t){return t=Ju(t),Ju(e)===t}function Yu(){}function Xu(e,t,n,r,o,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Ct(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Tt(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Xu(e,t,"name",o.name,o,null),Xu(e,t,"formEncType",o.formEncType,o,null),Xu(e,t,"formMethod",o.formMethod,o,null),Xu(e,t,"formTarget",o.formTarget,o,null)):(Xu(e,t,"encType",o.encType,o,null),Xu(e,t,"method",o.method,o,null),Xu(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Yu);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Rt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=At.get(n)||n,r)}}function Zu(e,t,n,r,o,a){switch(n){case"style":Tt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&Ct(e,""+r);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ve.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(a=null!=(a=e[_e]||null)?a[n]:null)&&e.removeEventListener(t,a,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var r,o=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":o=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Xu(e,t,r,s,n,null)}}return a&&Xu(e,t,"srcSet",n.srcSet,n,null),void(o&&Xu(e,t,"src",n.src,n,null));case"input":Lu("invalid",e);var l=r=s=a=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:Xu(e,t,o,d,n,null)}}return yt(e,r,l,c,u,s,a,!1),void dt(e);case"select":for(a in Lu("invalid",e),o=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:Xu(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!o,void(null!=t?bt(e,!!o,t,!1):null!=n&&bt(e,!!o,n,!0));case"textarea":for(s in Lu("invalid",e),r=a=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Xu(e,t,s,l,n,null)}return St(e,o,a,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else Xu(e,t,c,o,n,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(o=0;o<xu.length;o++)Lu(xu[o],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Xu(e,t,u,o,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&Zu(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&Xu(e,t,l,o,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function id(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(pd)}:ld;function pd(e){setTimeout((function(){throw e}))}function hd(e){return"head"===e}function md(e,t){var n=t,r=0,o=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var i=e.ownerDocument;if(1&n&&Sd(i.documentElement),2&n&&Sd(i.body),4&n)for(Sd(n=i.head),i=n.firstChild;i;){var s=i.nextSibling,l=i.nodeName;i[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=s}}if(0===o)return e.removeChild(a),void Ap(t);o--}else"$"===n||"$?"===n||"$!"===n?o++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Ap(t)}function fd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fd(n),Fe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function Sd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fe(e)}var Cd=new Map,Pd=new Set;function kd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Td=z.d;z.d={f:function(){var e=Td.f(),t=jc();return e||t},r:function(e){var t=He(e);null!==t&&5===t.tag&&"form"===t.type?_i(t):Td.r(e)},D:function(e){Td.D(e),Ad("dns-prefetch",e,null)},C:function(e,t){Td.C(e,t),Ad("preconnect",e,t)},L:function(e,t,n){Td.L(e,t,n);var r=Id;if(r&&e&&t){var o='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+ft(n.imageSizes)+'"]')):o+='[href="'+ft(e)+'"]';var a=o;switch(t){case"style":a=Rd(e);break;case"script":a=Md(e)}Cd.has(a)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Cd.set(a,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Ed(a))||"script"===t&&r.querySelector(_d(a))||(ed(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}},m:function(e,t){Td.m(e,t);var n=Id;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+ft(r)+'"][href="'+ft(e)+'"]',a=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Md(e)}if(!Cd.has(a)&&(e=p({rel:"modulepreload",href:e},t),Cd.set(a,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_d(a)))return}ed(r=n.createElement("link"),"link",e),Ke(r),n.head.appendChild(r)}}},X:function(e,t){Td.X(e,t);var n=Id;if(n&&e){var r=Ge(n).hoistableScripts,o=Md(e),a=r.get(o);a||((a=n.querySelector(_d(o)))||(e=p({src:e,async:!0},t),(t=Cd.get(o))&&Ld(e,t),Ke(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(o,a))}},S:function(e,t,n){Td.S(e,t,n);var r=Id;if(r&&e){var o=Ge(r).hoistableStyles,a=Rd(e);t=t||"default";var i=o.get(a);if(!i){var s={loading:0,preload:null};if(i=r.querySelector(Ed(a)))s.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Cd.get(a))&&qd(e,n);var l=i=r.createElement("link");Ke(l),ed(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,zd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:s},o.set(a,i)}}},M:function(e,t){Td.M(e,t);var n=Id;if(n&&e){var r=Ge(n).hoistableScripts,o=Md(e),a=r.get(o);a||((a=n.querySelector(_d(o)))||(e=p({src:e,async:!0,type:"module"},t),(t=Cd.get(o))&&Ld(e,t),Ke(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(o,a))}}};var Id="undefined"===typeof document?null:document;function Ad(e,t,n){var r=Id;if(r&&"string"===typeof t&&t){var o=ft(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),Pd.has(o)||(Pd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(ed(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}}function Nd(e,t,n,r){var o=(o=G.current)?kd(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Rd(n.href),(r=(n=Ge(o).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Rd(n.href);var a=Ge(o).hoistableStyles,s=a.get(e);if(s||(o=o.ownerDocument||o,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=o.querySelector(Ed(e)))&&!a._p&&(s.instance=a,s.state.loading=5),Cd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Cd.set(e,n),a||function(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",(function(){return r.loading|=1})),t.addEventListener("error",(function(){return r.loading|=2})),ed(t,"link",n),Ke(t),e.head.appendChild(t))}(o,e,n,s.state))),t&&null===r)throw Error(i(528,""));return s}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Md(n),(r=(n=Ge(o).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Rd(e){return'href="'+ft(e)+'"'}function Ed(e){return'link[rel="stylesheet"]['+e+"]"}function Od(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Md(e){return'[src="'+ft(e)+'"]'}function _d(e){return"script[async]"+e}function xd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(r)return t.instance=r,Ke(r),r;var o=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ke(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",o),zd(r,n.precedence,e),t.instance=r;case"stylesheet":o=Rd(n.href);var a=e.querySelector(Ed(o));if(a)return t.state.loading|=4,t.instance=a,Ke(a),a;r=Od(n),(o=Cd.get(o))&&qd(r,o),Ke(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),ed(a,"link",r),t.state.loading|=4,zd(a,n.precedence,e),t.instance=a;case"script":return a=Md(n.src),(o=e.querySelector(_d(a)))?(t.instance=o,Ke(o),o):(r=n,(o=Cd.get(a))&&Ld(r=p({},n),o),Ke(o=(e=e.ownerDocument||e).createElement("script")),ed(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,zd(r,n.precedence,e));return t.instance}function zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,a=o,i=0;i<r.length;i++){var s=r[i];if(s.dataset.precedence===t)a=s;else if(a!==o)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function qd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Dd=null;function Ud(e,t,n){if(null===Dd){var r=new Map,o=Dd=new Map;o.set(n,r)}else(r=(o=Dd).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var a=n[o];if(!(a[Ue]||a[Me]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var i=a.getAttribute(t)||"";i=e+i;var s=r.get(i);s?s.push(a):r.set(i,[a])}}return r}function Fd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function jd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Hd=null;function Bd(){}function Gd(){if(this.count--,0===this.count)if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kd=null;function Wd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kd=new Map,t.forEach(Vd,e),Kd=null,Gd.call(e))}function Vd(e,t){if(!(4&t.state.loading)){var n=Kd.get(e);if(n)var r=n.get(null);else{n=new Map,Kd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<o.length;a++){var i=o[a];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(o=t.instance).getAttribute("data-precedence"),(a=n.get(i)||r)===r&&n.set(null,o),n.set(i,o),this.count++,r=Gd.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),a?a.parentNode.insertBefore(o,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:S,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function Jd(e,t,n,r,o,a,i,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function $d(e,t,n,r,o,a,i,s,l,c,u,d){return e=new Jd(e,t,n,i,s,l,c,d),t=1,!0===a&&(t|=24),a=qr(3,null,null,t),e.current=a,a.stateNode=e,(t=xo()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ra(a),e}function Yd(e){return e?e=xr:xr}function Xd(e,t,n,r,o,a){o=Yd(o),null===r.context?r.context=o:r.pendingContext=o,(r=aa(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=ia(e,r,t))&&(qc(n,0,t),sa(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ep(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function tp(e){if(13===e.tag){var t=Or(e,67108864);null!==t&&qc(t,0,67108864),ep(e,67108864)}}var np=!0;function rp(e,t,n,r){var o=x.T;x.T=null;var a=z.p;try{z.p=2,ap(e,t,n,r)}finally{z.p=a,x.T=o}}function op(e,t,n,r){var o=x.T;x.T=null;var a=z.p;try{z.p=8,ap(e,t,n,r)}finally{z.p=a,x.T=o}}function ap(e,t,n,r){if(np){var o=ip(r);if(null===o)Hu(e,t,r,sp,n),vp(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return dp=bp(dp,e,t,n,r,o),!0;case"dragenter":return pp=bp(pp,e,t,n,r,o),!0;case"mouseover":return hp=bp(hp,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return mp.set(a,bp(mp.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,fp.set(a,bp(fp.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(vp(e,r),4&t&&-1<yp.indexOf(e)){for(;null!==o;){var a=He(o);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var i=ve(a.pendingLanes);if(0!==i){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;i;){var l=1<<31-he(i);s.entanglements[1]|=l,i&=~l}Cu(a),0===(6&nc)&&(Cc=te()+500,Pu(0,!1))}}break;case 13:null!==(s=Or(a,2))&&qc(s,0,2),jc(),ep(a,2)}if(null===(a=ip(r))&&Hu(e,t,r,sp,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else Hu(e,t,r,null,n)}}function ip(e){return lp(e=Ot(e))}var sp=null;function lp(e){if(sp=null,null!==(e=je(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sp=e,null}function cp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case oe:return 8;case ae:case ie:return 32;case se:return 268435456;default:return 32}default:return 32}}var up=!1,dp=null,pp=null,hp=null,mp=new Map,fp=new Map,gp=[],yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vp(e,t){switch(e){case"focusin":case"focusout":dp=null;break;case"dragenter":case"dragleave":pp=null;break;case"mouseover":case"mouseout":hp=null;break;case"pointerover":case"pointerout":mp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fp.delete(t.pointerId)}}function bp(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=He(t))&&tp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function wp(e){var t=je(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=z.p;try{return z.p=e,t()}finally{z.p=n}}(e.priority,(function(){if(13===n.tag){var e=xc();e=Ne(e);var t=Or(n,e);null!==t&&qc(t,0,e),ep(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Sp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ip(e.nativeEvent);if(null!==n)return null!==(t=He(n))&&tp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Et=r,n.target.dispatchEvent(r),Et=null,t.shift()}return!0}function Cp(e,t,n){Sp(e)&&n.delete(t)}function Pp(){up=!1,null!==dp&&Sp(dp)&&(dp=null),null!==pp&&Sp(pp)&&(pp=null),null!==hp&&Sp(hp)&&(hp=null),mp.forEach(Cp),fp.forEach(Cp)}function kp(e,t){e.blockedOn===t&&(e.blockedOn=null,up||(up=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Pp)))}var Tp=null;function Ip(e){Tp!==e&&(Tp=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Tp===e&&(Tp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===lp(r||n))continue;break}var a=He(n);null!==a&&(e.splice(t,3),t-=3,Oi(a,{pending:!0,data:o,method:n.method,action:r},r,o))}})))}function Ap(e){function t(t){return kp(t,e)}null!==dp&&kp(dp,e),null!==pp&&kp(pp,e),null!==hp&&kp(hp,e),mp.forEach(t),fp.forEach(t);for(var n=0;n<gp.length;n++){var r=gp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gp.length&&null===(n=gp[0]).blockedOn;)wp(n),null===n.blockedOn&&gp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],a=n[r+1],i=o[_e]||null;if("function"===typeof a)i||Ip(n);else if(i){var s=null;if(a&&a.hasAttribute("formAction")){if(o=a,i=a[_e]||null)s=i.formAction;else if(null!==lp(o))continue}else s=i.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Ip(n)}}}function Np(e){this._internalRoot=e}function Rp(e){this._internalRoot=e}Rp.prototype.render=Np.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Xd(t.current,xc(),e,t,null,null)},Rp.prototype.unmount=Np.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),jc(),t[xe]=null}},Rp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ee();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gp.length&&0!==t&&t<gp[n].priority;n++);gp.splice(n,0,e),0===n&&wp(e)}};var Ep=o.version;if("19.1.0"!==Ep)throw Error(i(527,Ep,"19.1.0"));z.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return u(o),e;if(a===r)return u(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,r=a;break}if(c===r){s=!0,r=o,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=o;break}if(c===r){s=!0,r=a,n=o;break}c=c.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Op={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mp.isDisabled&&Mp.supportsFiber)try{ue=Mp.inject(Op),de=Mp}catch(xp){}}t.createRoot=function(e,t){if(!s(e))throw Error(i(299));var n=!1,r="",o=vs,a=bs,l=ws;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$d(e,1,!1,null,0,n,r,o,a,l,0,null),e[xe]=t.current,Fu(e),new Np(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(i(299));var r=!1,o="",a=vs,l=bs,c=ws,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=$d(e,1,!0,t,0,r,o,a,l,c,0,u)).context=Yd(null),n=t.current,(o=aa(r=Ne(r=xc()))).callback=null,ia(n,o,r),n=r,t.current.lanes=n,Te(t,n),Cu(t),e[xe]=t.current,Fu(e),new Rp(t)},t.version="19.1.0"},442:(e,t,n)=>{e.exports=n(105)},454:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(387)},713:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,f(w,y.prototype),w.isPureReactComponent=!0;var S=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function k(e,t,r,o,a,i){return r=i.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:i}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(){}function R(e,t,o,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case p:return R((u=e._init)(e._payload),t,o,a,i)}}if(u)return i=i(e),u=""===a?"."+A(e,0):a,S(i)?(o="",null!=u&&(o=u.replace(I,"$&/")+"/"),R(i,t,o,"",(function(e){return e}))):null!=i&&(T(i)&&(l=i,c=o+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(I,"$&/")+"/")+u,i=k(l.type,c,void 0,0,0,l.props)),t.push(i)),1;u=0;var d,m=""===a?".":a+":";if(S(e))for(var f=0;f<e.length;f++)u+=R(a=e[f],t,o,s=m+A(a,f),i);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(a=e.next()).done;)u+=R(a=a.value,t,o,s=m+A(a,f++),i);else if("object"===s){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function E(e,t,n){if(null==e)return e;var r=[],o=0;return R(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function _(){}t.Children={map:E,forEach:function(e,t,n){E(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return E(e,(function(){t++})),t},toArray:function(e){return E(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=f({},e.props),o=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!P.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var i=Array(a),s=0;s<a;s++)i[s]=arguments[s+2];r.children=i}return k(e.type,o,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,o={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)P.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var i=arguments.length-2;if(1===i)o.children=n;else if(1<i){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+2];o.children=s}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===o[r]&&(o[r]=i[r]);return k(e,a,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),o=C.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(_,M)}catch(a){M(a)}finally{C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=C.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.1.0"},812:(e,t,n)=>{e.exports=n(950)},905:(e,t,n)=>{var r=n(176);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(o(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:a}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},950:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},989:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(905)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".6f746f1f.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="web-app:";n.l=(r,o,a,i)=>{if(e[r])e[r].push(o);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[o];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=a);var i=n.p+n.u(t),s=new Error;n.l(i,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,o[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,a,i=r[0],s=r[1],l=r[2],c=0;if(i.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)l(n)}for(t&&t(r);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkweb_app=self.webpackChunkweb_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{Alias:()=>nf,AliasPath:()=>rf,AliasPathMetadata:()=>af,AliasPattern:()=>of,ApiProfile:()=>lf,BasicDependency:()=>uf,CloudError:()=>Lm,DebugSetting:()=>Qm,Dependency:()=>cf,Deployment:()=>Fm,DeploymentDiagnosticsDefinition:()=>mf,DeploymentExportResult:()=>gf,DeploymentExtended:()=>Ym,DeploymentExtendedFilter:()=>sg,DeploymentExtensionConfigItem:()=>Vm,DeploymentExtensionDefinition:()=>df,DeploymentListResult:()=>yf,DeploymentOperation:()=>Yf,DeploymentOperationProperties:()=>Xf,DeploymentOperationsListResult:()=>ng,DeploymentParameter:()=>Bm,DeploymentProperties:()=>jm,DeploymentPropertiesExtended:()=>Xm,DeploymentValidateResult:()=>ff,DeploymentWhatIf:()=>kf,DeploymentWhatIfProperties:()=>pg,DeploymentWhatIfSettings:()=>wf,DeploymentsWhatIfAtManagementGroupScopeHeaders:()=>gg,DeploymentsWhatIfAtSubscriptionScopeHeaders:()=>yg,DeploymentsWhatIfAtTenantScopeHeaders:()=>fg,DeploymentsWhatIfHeaders:()=>vg,ErrorAdditionalInfo:()=>Um,ErrorResponse:()=>Dm,ExportTemplateRequest:()=>Bf,ExpressionEvaluationOptions:()=>$m,ExtendedLocation:()=>Uf,GenericResource:()=>hg,GenericResourceExpanded:()=>mg,GenericResourceFilter:()=>lg,HttpMessage:()=>tg,Identity:()=>qf,IdentityUserAssignedIdentitiesValue:()=>Lf,KeyVaultParameterReference:()=>Gm,KeyVaultReference:()=>Km,OnErrorDeployment:()=>Jm,OnErrorDeploymentExtended:()=>pf,Operation:()=>zm,OperationDisplay:()=>qm,OperationListResult:()=>xm,ParametersLink:()=>Wm,Permission:()=>Nf,Plan:()=>xf,Provider:()=>Zm,ProviderConsentDefinition:()=>Ef,ProviderExtendedLocation:()=>tf,ProviderListResult:()=>Of,ProviderPermission:()=>If,ProviderPermissionListResult:()=>Tf,ProviderRegistrationRequest:()=>Rf,ProviderResourceType:()=>ef,ProviderResourceTypeListResult:()=>Mf,Resource:()=>Df,ResourceGroup:()=>Ff,ResourceGroupExportResult:()=>Gf,ResourceGroupFilter:()=>cg,ResourceGroupListResult:()=>Kf,ResourceGroupPatchable:()=>Hf,ResourceGroupProperties:()=>jf,ResourceGroupsDeleteHeaders:()=>bg,ResourceListResult:()=>_f,ResourceProviderOperationDisplayProperties:()=>ug,ResourceReference:()=>hf,ResourcesMoveInfo:()=>Wf,RoleDefinition:()=>Af,ScopedDeployment:()=>vf,ScopedDeploymentWhatIf:()=>bf,Sku:()=>zf,StatusMessage:()=>Zf,SubResource:()=>dg,TagCount:()=>Qf,TagDetails:()=>Jf,TagValue:()=>Vf,Tags:()=>ag,TagsCreateOrUpdateAtScopeHeaders:()=>wg,TagsDeleteAtScopeHeaders:()=>Cg,TagsListResult:()=>$f,TagsPatchResource:()=>ig,TagsResource:()=>og,TagsUpdateAtScopeHeaders:()=>Sg,TargetResource:()=>eg,TemplateHashResult:()=>rg,TemplateLink:()=>Hm,WhatIfChange:()=>Cf,WhatIfOperationResult:()=>Sf,WhatIfPropertyChange:()=>Pf,ZoneMapping:()=>sf});var o=n(176),a=n(454);const i={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},s=200,l=400,c=400,u=499,d=500,p=599,h=[i.OPENID_SCOPE,i.PROFILE_SCOPE,i.OFFLINE_ACCESS_SCOPE],m=[...h,i.EMAIL_SCOPE],f="Content-Type",g="Content-Length",y="Retry-After",v="X-AnchorMailbox",b="x-ms-request-id",w="x-ms-httpver",S="active-account-filters",C="common",P="organizations",k="consumers",T="access_token",I="xms_cc",A={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},N={PLAIN:"plain",S256:"S256"},R="code",E="id_token token refresh_token",O="query",M="fragment",_="query",x="authorization_code",z="refresh_token",q="MSSTS",L="ADFS",D="Generic",U="-",F=".",j={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},H="appmetadata",B="1",G="authority-metadata",K=86400,W="config",V="cache",Q="network",J="hardcoded_values",$={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Y={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},X=60,Z=3600,ee="throttling",te="retry-after, h429",ne="invalid_grant",re="client_mismatch",oe="1",ae="3",ie="4",se="2",le="4",ce="5",ue="0",de="1",pe="2",he="3",me="4",fe="pop",ge="unexpected_error",ye="post_request_failed",ve={[ge]:"Unexpected error in authentication.",[ye]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class be extends Error{constructor(e,t,n){super(t?"".concat(e,": ").concat(t):e),Object.setPrototypeOf(this,be.prototype),this.errorCode=e||i.EMPTY_STRING,this.errorMessage=t||i.EMPTY_STRING,this.subError=n||i.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function we(e,t){return new be(e,t?"".concat(ve[e]," ").concat(t):ve[e])}const Se="storage_not_supported",Ce="stubbed_public_client_application_called",Pe="in_mem_redirect_unavailable",ke={[Se]:"Given storage configuration option was not supported.",[Ce]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Pe]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class Te extends be{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Te.prototype)}}function Ie(e){return new Te(e,ke[e])}const Ae={initialize:()=>Promise.reject(Ie(Ce)),acquireTokenPopup:()=>Promise.reject(Ie(Ce)),acquireTokenRedirect:()=>Promise.reject(Ie(Ce)),acquireTokenSilent:()=>Promise.reject(Ie(Ce)),acquireTokenByCode:()=>Promise.reject(Ie(Ce)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(Ie(Ce)),loginPopup:()=>Promise.reject(Ie(Ce)),loginRedirect:()=>Promise.reject(Ie(Ce)),logout:()=>Promise.reject(Ie(Ce)),logoutRedirect:()=>Promise.reject(Ie(Ce)),logoutPopup:()=>Promise.reject(Ie(Ce)),ssoSilent:()=>Promise.reject(Ie(Ce)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw Ie(Ce)},getLogger:()=>{throw Ie(Ce)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw Ie(Ce)},hydrateCache:()=>Promise.reject(Ie(Ce)),clearCache:()=>Promise.reject(Ie(Ce))},Ne="invalid_grant",Re=483,Ee=600,Oe="msal",Me=30,_e="msal.js.browser",xe="53ee284d-920a-4b59-9d30-a60315b26836",ze="ppnbnpeolgkicgegkbkbjmhlideopiji",qe="MATS",Le="MicrosoftEntra",De="DOM API",Ue="get-token-and-sign-out",Fe="PlatformAuthDOMHandler",je="PlatformAuthExtensionHandler",He="Handshake",Be="HandshakeResponse",Ge="GetToken",Ke="Response",We="localStorage",Ve="sessionStorage",Qe="memoryStorage",Je="GET",$e="POST",Ye="signin",Xe="signout",Ze="request.origin",et="urlHash",tt="request.params",nt="code.verifier",rt="interaction.status",ot="request.native",at="msal.account.keys",it="msal.token.keys",st="msal.version",lt="wrapper.sku",ct="wrapper.version",ut=861,dt=862,pt=863,ht=865,mt=866,ft=61,gt=961,yt=962;var vt;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(vt||(vt={}));const bt="startup",wt="login",St="logout",Ct="acquireToken",Pt="ssoSilent",kt="handleRedirect",Tt="none",It={scopes:h},At="@azure/msal-react",Nt="msal.db",Rt="".concat(Nt,".keys"),Et=0,Ot=1,Mt=2,_t=3,xt=4,zt=5,qt=[Et,zt,xt],Lt="msal.browser.platform.auth.dom";var Dt;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(Dt||(Dt={}));class Ut{constructor(e,t,n){this.level=Dt.Info;const r=e||Ut.createDefaultLoggerOptions();this.localCallback=r.loggerCallback||(()=>{}),this.piiLoggingEnabled=r.piiLoggingEnabled||!1,this.level="number"===typeof r.logLevel?r.logLevel:Dt.Info,this.correlationId=r.correlationId||i.EMPTY_STRING,this.packageName=t||i.EMPTY_STRING,this.packageVersion=n||i.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Dt.Info}}clone(e,t,n){return new Ut({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=(new Date).toUTCString(),r="[".concat(n,"] : [").concat(t.correlationId||this.correlationId||"","]"),o="".concat(r," : ").concat(this.packageName,"@").concat(this.packageVersion," : ").concat(Dt[t.logLevel]," - ").concat(e);this.executeCallback(t.logLevel,o,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:Dt.Error,containsPii:!1,correlationId:t||i.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:Dt.Error,containsPii:!0,correlationId:t||i.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:Dt.Warning,containsPii:!1,correlationId:t||i.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:Dt.Warning,containsPii:!0,correlationId:t||i.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:Dt.Info,containsPii:!1,correlationId:t||i.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:Dt.Info,containsPii:!0,correlationId:t||i.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:Dt.Verbose,containsPii:!1,correlationId:t||i.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:Dt.Verbose,containsPii:!0,correlationId:t||i.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:Dt.Trace,containsPii:!1,correlationId:t||i.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:Dt.Trace,containsPii:!0,correlationId:t||i.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const Ft={instance:Ae,inProgress:Tt,accounts:[],logger:new Ut({})},jt=o.createContext(Ft);jt.Consumer;function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function Bt(e){var t=function(e,t){if("object"!=Ht(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ht(t)?t:t+""}function Gt(e,t,n){return(t=Bt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){Gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Vt="msal:initializeStart",Qt="msal:initializeEnd",Jt="msal:accountAdded",$t="msal:accountRemoved",Yt="msal:activeAccountChanged",Xt="msal:loginStart",Zt="msal:loginSuccess",en="msal:loginFailure",tn="msal:acquireTokenStart",nn="msal:acquireTokenSuccess",rn="msal:acquireTokenFailure",on="msal:acquireTokenFromNetworkStart",an="msal:ssoSilentStart",sn="msal:ssoSilentSuccess",ln="msal:ssoSilentFailure",cn="msal:acquireTokenByCodeStart",un="msal:acquireTokenByCodeSuccess",dn="msal:acquireTokenByCodeFailure",pn="msal:handleRedirectStart",hn="msal:handleRedirectEnd",mn="msal:popupOpened",fn="msal:logoutStart",gn="msal:logoutSuccess",yn="msal:logoutFailure",vn="msal:logoutEnd",bn="msal:restoreFromBFCache";class wn{static getInteractionStatusFromEvent(e,t){switch(e.eventType){case Xt:return wt;case an:return Pt;case tn:if(e.interactionType===vt.Redirect||e.interactionType===vt.Popup)return Ct;break;case pn:return kt;case fn:return St;case sn:case ln:if(t&&t!==Pt)break;return Tt;case vn:if(t&&t!==St)break;return Tt;case hn:if(t&&t!==kt)break;return Tt;case Zt:case en:case nn:case rn:case bn:if(e.interactionType===vt.Redirect||e.interactionType===vt.Popup){if(t&&t!==wt&&t!==Ct)break;return Tt}}return null}}function Sn(e,t){if(e.length!==t.length)return!1;const n=[...t];return e.every((e=>{const t=n.shift();return!(!e||!t)&&(e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username)}))}const Cn="3.0.12",Pn="UNBLOCK_INPROGRESS",kn="EVENT",Tn=(e,t)=>{const{type:n,payload:r}=t;let o=e.inProgress;switch(n){case Pn:e.inProgress===bt&&(o=Tt,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case kn:const t=r.message,a=wn.getInteractionStatusFromEvent(t,e.inProgress);a&&(r.logger.info("MsalProvider - ".concat(t.eventType," results in setting inProgress from ").concat(e.inProgress," to ").concat(a)),o=a);break;default:throw new Error("Unknown action type: ".concat(n))}if(o===bt)return e;const a=r.instance.getAllAccounts();return o===e.inProgress||Sn(a,e.accounts)?o!==e.inProgress?Wt(Wt({},e),{},{inProgress:o}):Sn(a,e.accounts)?e:Wt(Wt({},e),{},{accounts:a}):Wt(Wt({},e),{},{inProgress:o,accounts:a})};function In(e){let{instance:t,children:n}=e;(0,o.useEffect)((()=>{t.initializeWrapperLibrary(At,Cn)}),[t]);const r=(0,o.useMemo)((()=>t.getLogger().clone("@azure/msal-react",Cn)),[t]),[a,i]=(0,o.useReducer)(Tn,void 0,(()=>({inProgress:bt,accounts:[]})));(0,o.useEffect)((()=>{const e=t.addEventCallback((e=>{i({payload:{instance:t,logger:r,message:e},type:kn})}));return r.verbose("MsalProvider - Registered event callback with id: ".concat(e)),t.initialize().then((()=>{t.handleRedirectPromise().catch((()=>{})).finally((()=>{i({payload:{instance:t,logger:r},type:Pn})}))})).catch((()=>{})),()=>{e&&(r.verbose("MsalProvider - Removing event callback ".concat(e)),t.removeEventCallback(e))}}),[t,r]);const s={instance:t,inProgress:a.inProgress,accounts:a.accounts,logger:r};return o.createElement(jt.Provider,{value:s},n)}const An=()=>(0,o.useContext)(jt);const Nn="AAD",Rn="OIDC",En="EAR",On="none",Mn="client_info_decoding_error",_n="client_info_empty_error",xn="token_parsing_error",zn="null_or_empty_token",qn="endpoints_resolution_error",Ln="network_error",Dn="openid_config_error",Un="hash_not_deserialized",Fn="invalid_state",jn="state_mismatch",Hn="state_not_found",Bn="nonce_mismatch",Gn="auth_time_not_found",Kn="max_age_transpired",Wn="multiple_matching_tokens",Vn="multiple_matching_accounts",Qn="multiple_matching_appMetadata",Jn="request_cannot_be_made",$n="cannot_remove_empty_scope",Yn="cannot_append_scopeset",Xn="empty_input_scopeset",Zn="device_code_polling_cancelled",er="device_code_expired",tr="device_code_unknown_error",nr="no_account_in_silent_request",rr="invalid_cache_record",or="invalid_cache_environment",ar="no_account_found",ir="no_crypto_object",sr="unexpected_credential_type",lr="invalid_assertion",cr="invalid_client_credential",ur="token_refresh_required",dr="user_timeout_reached",pr="token_claims_cnf_required_for_signedjwt",hr="authorization_code_missing_from_server_response",mr="binding_key_not_removed",fr="end_session_endpoint_not_supported",gr="key_id_missing",yr="no_network_connectivity",vr="user_canceled",br="missing_tenant_id_error",wr="method_not_implemented",Sr="nested_app_auth_bridge_disabled",Cr={[Mn]:"The client info could not be parsed/decoded correctly",[_n]:"The client info was empty",[xn]:"Token cannot be parsed",[zn]:"The token is null or empty",[qn]:"Endpoints cannot be resolved",[Ln]:"Network request failed",[Dn]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Un]:"The hash parameters could not be deserialized",[Fn]:"State was not the expected format",[jn]:"State mismatch error",[Hn]:"State not found",[Bn]:"Nonce mismatch error",[Gn]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Kn]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[Wn]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[Vn]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Qn]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Jn]:"Token request cannot be made without authorization code or refresh token.",[$n]:"Cannot remove null or empty scope from ScopeSet",[Yn]:"Cannot append ScopeSet",[Xn]:"Empty input ScopeSet cannot be processed",[Zn]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[er]:"Device code is expired.",[tr]:"Device code stopped polling for unknown reasons.",[nr]:"Please pass an account object, silent flow is not supported without account information",[rr]:"Cache record object was null or undefined.",[or]:"Invalid environment when attempting to create cache entry",[ar]:"No account found in cache for given key.",[ir]:"No crypto object detected.",[sr]:"Unexpected credential type.",[lr]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[cr]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[ur]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[dr]:"User defined timeout for device code polling reached",[pr]:"Cannot generate a POP jwt if the token_claims are not populated",[hr]:"Server response does not contain an authorization code to proceed",[mr]:"Could not remove the credential's binding key from storage.",[fr]:"The provided authority does not support logout",[gr]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[yr]:"No network connectivity. Check your internet connection.",[vr]:"User cancelled the flow.",[br]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[wr]:"This method has not been implemented",[Sr]:"The nested app auth bridge is disabled"};class Pr extends be{constructor(e,t){super(e,t?"".concat(Cr[e],": ").concat(t):Cr[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Pr.prototype)}}function kr(e,t){return new Pr(e,t)}const Tr={createNewGuid:()=>{throw kr(wr)},base64Decode:()=>{throw kr(wr)},base64Encode:()=>{throw kr(wr)},base64UrlEncode:()=>{throw kr(wr)},encodeKid:()=>{throw kr(wr)},async getPublicKeyThumbprint(){throw kr(wr)},async removeTokenBindingKey(){throw kr(wr)},async clearKeystore(){throw kr(wr)},async signJwt(){throw kr(wr)},async hashString(){throw kr(wr)}},Ir="@azure/msal-common",Ar="15.7.0";function Nr(e,t){const n=function(e){if(!e)throw kr(zn);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw kr(xn);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(r){throw kr(xn)}}function Rr(e,t){if(0===t||Date.now()-3e5>e+t)throw kr(Kn)}function Er(){return Math.round((new Date).getTime()/1e3)}function Or(e){return e.getTime()/1e3}function Mr(e){return e?new Date(1e3*Number(e)):new Date}function _r(e,t){const n=Number(e)||0;return Er()+t>n}function xr(e){return[Ur(e),Fr(e),jr(e),Hr(e),Br(e)].join(U).toLowerCase()}function zr(e,t,n,r,o){return{credentialType:j.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:o}}function qr(e,t,n,r,o,a,i,s,l,c,u,d,p,h,m){var f,g;const y={homeAccountId:e,credentialType:j.ACCESS_TOKEN,secret:n,cachedAt:Er().toString(),expiresOn:i.toString(),extendedExpiresOn:s.toString(),environment:t,clientId:r,realm:o,target:a,tokenType:u||Y.BEARER};if(d&&(y.userAssertionHash=d),c&&(y.refreshOn=c.toString()),h&&(y.requestedClaims=h,y.requestedClaimsHash=m),(null===(f=y.tokenType)||void 0===f?void 0:f.toLowerCase())!==Y.BEARER.toLowerCase())switch(y.credentialType=j.ACCESS_TOKEN_WITH_AUTH_SCHEME,y.tokenType){case Y.POP:const e=Nr(n,l);if(null===e||void 0===e||null===(g=e.cnf)||void 0===g||!g.kid)throw kr(pr);y.keyId=e.cnf.kid;break;case Y.SSH:y.keyId=p}return y}function Lr(e,t,n,r,o,a,i){const s={credentialType:j.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return a&&(s.userAssertionHash=a),o&&(s.familyId=o),i&&(s.expiresOn=i.toString()),s}function Dr(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function Ur(e){return[e.homeAccountId,e.environment].join(U).toLowerCase()}function Fr(e){const t=e.credentialType===j.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(U).toLowerCase()}function jr(e){return(e.target||"").toLowerCase()}function Hr(e){return(e.requestedClaimsHash||"").toLowerCase()}function Br(e){return e.tokenType&&e.tokenType.toLowerCase()!==Y.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function Gr(){return Er()+K}function Kr(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function Wr(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function Vr(e){return e.expiresAt<=Er()}const Qr="redirect_uri_empty",Jr="claims_request_parsing_error",$r="authority_uri_insecure",Yr="url_parse_error",Xr="empty_url_error",Zr="empty_input_scopes_error",eo="invalid_prompt_value",to="invalid_claims",no="token_request_empty",ro="logout_request_empty",oo="invalid_code_challenge_method",ao="pkce_params_missing",io="invalid_cloud_discovery_metadata",so="invalid_authority_metadata",lo="untrusted_authority",co="missing_ssh_jwk",uo="missing_ssh_kid",po="missing_nonce_authentication_header",ho="invalid_authentication_header",mo="cannot_set_OIDCOptions",fo="cannot_allow_platform_broker",go="authority_mismatch",yo={[Qr]:"A redirect URI is required for all calls, and none has been set.",[Jr]:"Could not parse the given claims request object.",[$r]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Yr]:"URL could not be parsed into appropriate segments.",[Xr]:"URL was empty or null.",[Zr]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[eo]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[to]:"Given claims parameter must be a stringified JSON object.",[no]:"Token request was empty and not found in cache.",[ro]:"The logout request was null or undefined.",[oo]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[ao]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[io]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[so]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[lo]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[co]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[uo]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[po]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[ho]:"Invalid authentication header provided",[mo]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[fo]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[go]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class vo extends be{constructor(e){super(e,yo[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,vo.prototype)}}function bo(e){return new vo(e)}class wo{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(t){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,o]=e.split(/=(.+)/g,2);n&&o&&(t[r(n)]=r(o))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(t){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class So{constructor(e){const t=e?wo.trimArrayEntries([...e]):[],n=t?wo.removeEmptyStringsFromArray(t):[];if(!n||!n.length)throw bo(Zr);this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||i.EMPTY_STRING).split(" ");return new So(t)}static createSearchScopes(e){const t=new So(e);return t.containsOnlyOIDCScopes()?t.removeScope(i.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new So(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return m.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(t){throw kr(Yn)}}removeScope(e){if(!e)throw kr($n);this.scopes.delete(e.trim())}removeOIDCScopes(){m.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw kr(Xn);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw kr(Xn);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return i.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function Co(e,t){if(!e)throw kr(_n);try{const n=t(e);return JSON.parse(n)}catch(n){throw kr(Mn)}}function Po(e){if(!e)throw kr(Mn);const t=e.split(F,2);return{uid:t[0],utid:t.length<2?i.EMPTY_STRING:t[1]}}function ko(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const To=["isHomeTenant"],Io=["isHomeTenant"];function Ao(e,t){return!!e&&!!t&&e===t.split(".")[1]}function No(e,t,n,r){if(r){const{oid:t,sub:n,tid:o,name:a,tfp:i,acr:s}=r,l=o||i||s||"";return{tenantId:l,localAccountId:t||n||"",name:a,isHomeTenant:Ao(l,e)}}return{tenantId:n,localAccountId:t,isHomeTenant:Ao(n,e)}}function Ro(e,t,n,r){let o=e;if(t){const{isHomeTenant:n}=t,r=ko(t,To);o=Wt(Wt({},e),r)}if(n){const t=No(e.homeAccountId,e.localAccountId,e.tenantId,n),{isHomeTenant:a}=t,i=ko(t,Io);return o=Wt(Wt(Wt({},o),i),{},{idTokenClaims:n,idToken:r}),o}return o}const Eo=0,Oo=1,Mo=2,_o=3;function xo(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class zo{generateAccountId(){return[this.homeAccountId,this.environment].join(U).toLowerCase()}generateAccountKey(){return zo.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(U).toLowerCase()}static createAccount(e,t,n){var r,o,a,i,s,l,c,u;const d=new zo;let p;t.authorityType===Oo?d.authorityType=L:t.protocolMode===Rn?d.authorityType=D:d.authorityType=q,e.clientInfo&&n&&(p=Co(e.clientInfo,n)),d.clientInfo=e.clientInfo,d.homeAccountId=e.homeAccountId,d.nativeAccountId=e.nativeAccountId;const h=e.environment||t&&t.getPreferredCache();if(!h)throw kr(or);d.environment=h,d.realm=(null===(r=p)||void 0===r?void 0:r.utid)||xo(e.idTokenClaims)||"",d.localAccountId=(null===(o=p)||void 0===o?void 0:o.uid)||(null===(a=e.idTokenClaims)||void 0===a?void 0:a.oid)||(null===(i=e.idTokenClaims)||void 0===i?void 0:i.sub)||"";const m=(null===(s=e.idTokenClaims)||void 0===s?void 0:s.preferred_username)||(null===(l=e.idTokenClaims)||void 0===l?void 0:l.upn),f=null!==(c=e.idTokenClaims)&&void 0!==c&&c.emails?e.idTokenClaims.emails[0]:null;if(d.username=m||f||"",d.name=(null===(u=e.idTokenClaims)||void 0===u?void 0:u.name)||"",d.cloudGraphHostName=e.cloudGraphHostName,d.msGraphHost=e.msGraphHost,e.tenantProfiles)d.tenantProfiles=e.tenantProfiles;else{const t=No(e.homeAccountId,d.localAccountId,d.realm,e.idTokenClaims);d.tenantProfiles=[t]}return d}static createFromAccountInfo(e,t,n){var r;const o=new zo;return o.authorityType=e.authorityType||D,o.homeAccountId=e.homeAccountId,o.localAccountId=e.localAccountId,o.nativeAccountId=e.nativeAccountId,o.realm=e.tenantId,o.environment=e.environment,o.username=e.username,o.name=e.name,o.cloudGraphHostName=t,o.msGraphHost=n,o.tenantProfiles=Array.from((null===(r=e.tenantProfiles)||void 0===r?void 0:r.values())||[]),o}static generateHomeAccountId(e,t,n,r,o){if(t!==Oo&&t!==Mo){if(e)try{const t=Co(e,r.base64Decode);if(t.uid&&t.utid)return"".concat(t.uid,".").concat(t.utid)}catch(a){}n.warning("No client info in response")}return(null===o||void 0===o?void 0:o.sub)||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},o=t.idTokenClaims||{};r=n.iat===o.iat&&n.nonce===o.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function qo(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function Lo(e){if(!e||e.indexOf("=")<0)return null;try{const t=qo(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch(t){throw kr(Un)}return null}function Do(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=new Array;return e.forEach(((e,o)=>{!t&&n&&o in n?r.push("".concat(o,"=").concat(e)):r.push("".concat(o,"=").concat(encodeURIComponent(e)))})),r.join("&")}class Uo{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw bo(Xr);e.includes("#")||(this._urlString=Uo.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return wo.endsWith(t,"?")?t=t.slice(0,-1):wo.endsWith(t,"?/")&&(t=t.slice(0,-2)),wo.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(t){throw bo(Yr)}if(!e.HostNameAndPort||!e.PathSegments)throw bo(Yr);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw bo($r)}static appendQueryString(e,t){return t?e.indexOf("?")<0?"".concat(e,"?").concat(t):"".concat(e,"&").concat(t):e}static removeHashFromUrl(e){return Uo.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==C&&n[0]!==P||(n[0]=e),Uo.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw bo(Yr);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter((e=>e&&e.length>0)),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw bo(Yr);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===i.FORWARD_SLASH){const n=new Uo(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Uo(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Lo(e)}}const Fo={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},jo={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},Ho=new Set;function Bo(e,t,n,r){if(null===r||void 0===r||r.trace("getAliasesFromMetadata called with source: ".concat(n)),e&&t){const o=Go(t,e);if(o)return null===r||void 0===r||r.trace("getAliasesFromMetadata: found cloud discovery metadata in ".concat(n,", returning aliases")),o.aliases;null===r||void 0===r||r.trace("getAliasesFromMetadata: did not find cloud discovery metadata in ".concat(n))}return null}function Go(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}jo.metadata.forEach((e=>{e.aliases.forEach((e=>{Ho.add(e)}))}));const Ko="cache_quota_exceeded",Wo="cache_error_unknown",Vo={[Ko]:"Exceeded cache storage capacity.",[Wo]:"Unexpected error occurred when using cache storage."};class Qo extends Error{constructor(e,t){const n=t||(Vo[e]?Vo[e]:Vo[Wo]);super("".concat(e,": ").concat(n)),Object.setPrototypeOf(this,Qo.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class Jo{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(Ir,Ar),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getTenantProfilesFromAccountEntity(e,null===t||void 0===t?void 0:t.tenantId,t)))}getTenantedAccountInfoByFilter(e,t,n,r){let o,a=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const i=this.getIdToken(e,t,n.tenantId);return i&&(o=Nr(i.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,r))?null:(a=Ro(e,n,o,null===i||void 0===i?void 0:i.secret),a)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let o=r.tenantProfiles||new Map;const a=this.getTokenKeys();if(t){const e=o.get(t);if(!e)return[];o=new Map([[t,e]])}const i=[];return o.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,a,e,n);t&&i.push(t)})),i}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw kr(rr);try{e.account&&await this.setAccount(e.account,t),e.idToken&&!1!==(null===n||void 0===n?void 0:n.idToken)&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&!1!==(null===n||void 0===n?void 0:n.accessToken)&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&!1!==(null===n||void 0===n?void 0:n.refreshToken)&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(s){var r,o;if(null===(r=this.commonLogger)||void 0===r||r.error("CacheManager.saveCacheRecord: failed"),s instanceof Error){var a,i;if(null===(a=this.commonLogger)||void 0===a||a.errorPii("CacheManager.saveCacheRecord: ".concat(s.message),t),"QuotaExceededError"===s.name||"NS_ERROR_DOM_QUOTA_REACHED"===s.name||s.message.includes("exceeded the quota"))throw null===(i=this.commonLogger)||void 0===i||i.error("CacheManager.saveCacheRecord: exceeded storage quota",t),new Qo(Ko);throw new Qo(s.name,s.message)}throw null===(o=this.commonLogger)||void 0===o||o.errorPii("CacheManager.saveCacheRecord: ".concat(s),t),new Qo(Wo)}}async saveAccessToken(e,t){const n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),o=So.fromString(e.target),a=[];r.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,n,!1))return;const t=this.getAccessTokenCredential(e);if(t&&this.credentialMatchesFilter(t,n)){So.fromString(t.target).intersectingScopeSets(o)&&a.push(this.removeAccessToken(e))}})),await Promise.all(a),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{var r;if(!this.isAccountKey(t,e.homeAccountId))return;const o=this.getAccount(t,this.commonLogger);if(!o)return;if(e.homeAccountId&&!this.matchHomeAccountId(o,e.homeAccountId))return;if(e.username&&!this.matchUsername(o.username,e.username))return;if(e.environment&&!this.matchEnvironment(o,e.environment))return;if(e.realm&&!this.matchRealm(o,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(o,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(o,e.authorityType))return;const a={localAccountId:null===e||void 0===e?void 0:e.localAccountId,name:null===e||void 0===e?void 0:e.name},i=null===(r=o.tenantProfiles)||void 0===r?void 0:r.filter((e=>this.tenantProfileMatchesFilter(e,a)));i&&0===i.length||n.push(o)})),n}isAccountKey(e,t,n){return!(e.split(U).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split(U).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(j.ID_TOKEN.toLowerCase())&&-1===t.indexOf(j.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(j.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(j.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(j.REFRESH_TOKEN.toLowerCase())>-1){const e="".concat(j.REFRESH_TOKEN).concat(U).concat(this.clientId).concat(U),n="".concat(j.REFRESH_TOKEN).concat(U).concat(B).concat(U);if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===j.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===Y.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach((t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))})),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===j.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===Y.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(n){throw kr(mr)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=zo.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getIdToken called");const a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:j.ID_TOKEN,clientId:this.clientId,realm:n},i=this.getIdTokensByFilter(a,t),s=i.size;if(s<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(s>1){let t=i;if(!n){const n=new Map;i.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),i.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),r&&o&&r.addFields({multiMatchedID:i.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),i.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,Wt({clientId:this.clientId},e)))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,r,o,a){this.commonLogger.trace("CacheManager - getAccessToken called");const i=So.createSearchScopes(t.scopes),s=t.authenticationScheme||Y.BEARER,l=s&&s.toLowerCase()!==Y.BEARER.toLowerCase()?j.ACCESS_TOKEN_WITH_AUTH_SCHEME:j.ACCESS_TOKEN,c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:l,clientId:this.clientId,realm:r||e.tenantId,target:i,tokenType:s,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},u=n&&n.accessToken||this.getTokenKeys().accessToken,d=[];u.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,c,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,c)&&d.push(t)}}));const p=d.length;return p<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):p>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),d.forEach((e=>{this.removeAccessToken(xr(e))})),o&&a&&o.addFields({multiMatchedAT:d.length},a),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),d[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const a=t?B:void 0,i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:j.REFRESH_TOKEN,clientId:this.clientId,familyId:a},s=n&&n.refreshToken||this.getTokenKeys().refreshToken,l=[];s.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,i)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,i)&&l.push(t)}}));const c=l.length;return c<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(c>1&&r&&o&&r.addFields({multiMatchedRT:c},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),o=r.length;if(o<1)return null;if(o>1)throw kr(Qn);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==B)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){var n;return!(t.toLowerCase()!==(null===(n=e.name)||void 0===n?void 0:n.toLowerCase()))}matchUsername(e,t){return!(!e||"string"!==typeof e||(null===t||void 0===t?void 0:t.toLowerCase())!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){var o;const a=new Uo(r).getUrlComponents().HostNameAndPort;n=Bo(a,null===(o=e.cloudDiscoveryMetadata)||void 0===o?void 0:o.metadata,W,t)||Bo(a,jo.metadata,J,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){var n;return!((null===(n=e.realm)||void 0===n?void 0:n.toLowerCase())!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==j.ACCESS_TOKEN&&e.credentialType!==j.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return So.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(H)}isAuthorityMetadata(e){return-1!==e.indexOf(G)}generateAuthorityMetadataCacheKey(e){return"".concat(G,"-").concat(this.clientId,"-").concat(e)}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class $o extends Jo{async setAccount(){throw kr(wr)}getAccount(){throw kr(wr)}async setIdTokenCredential(){throw kr(wr)}getIdTokenCredential(){throw kr(wr)}async setAccessTokenCredential(){throw kr(wr)}getAccessTokenCredential(){throw kr(wr)}async setRefreshTokenCredential(){throw kr(wr)}getRefreshTokenCredential(){throw kr(wr)}setAppMetadata(){throw kr(wr)}getAppMetadata(){throw kr(wr)}setServerTelemetry(){throw kr(wr)}getServerTelemetry(){throw kr(wr)}setAuthorityMetadata(){throw kr(wr)}getAuthorityMetadata(){throw kr(wr)}getAuthorityMetadataKeys(){throw kr(wr)}setThrottlingCache(){throw kr(wr)}getThrottlingCache(){throw kr(wr)}removeItem(){throw kr(wr)}getKeys(){throw kr(wr)}getAccountKeys(){throw kr(wr)}getTokenKeys(){throw kr(wr)}}const Yo={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},Xo={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Dt.Info,correlationId:i.EMPTY_STRING},Zo={claimsBasedCachingEnabled:!1},ea={async sendGetRequestAsync(){throw kr(wr)},async sendPostRequestAsync(){throw kr(wr)}},ta={sku:i.SKU,version:Ar,cpu:i.EMPTY_STRING,os:i.EMPTY_STRING},na={clientSecret:i.EMPTY_STRING,clientAssertion:void 0},ra={azureCloudInstance:On,tenant:"".concat(i.DEFAULT_COMMON_TENANT)},oa={application:{appName:"",appVersion:""}};function aa(e){return e.authOptions.authority.options.protocolMode===Rn}const ia={sendGetRequestAsync:()=>Promise.reject(kr(wr)),sendPostRequestAsync:()=>Promise.reject(kr(wr))},sa="acquireTokenByCode",la="acquireTokenByRefreshToken",ca="acquireTokenSilent",ua="acquireTokenSilentAsync",da="acquireTokenPopup",pa="acquireTokenPreRedirect",ha="acquireTokenRedirect",ma="cryptoOptsGetPublicKeyThumbprint",fa="cryptoOptsSignJwt",ga="silentCacheClientAcquireToken",ya="silentIframeClientAcquireToken",va="awaitConcurrentIframe",ba="silentRefreshClientAcquireToken",wa="ssoSilent",Sa="standardInteractionClientGetDiscoveredAuthority",Ca="nativeInteractionClientAcquireToken",Pa="networkClientSendPostRequestAsync",ka="refreshTokenClientExecutePostToTokenEndpoint",Ta="authorizationCodeClientExecutePostToTokenEndpoint",Ia="refreshTokenClientExecuteTokenRequest",Aa="refreshTokenClientAcquireToken",Na="refreshTokenClientAcquireTokenWithCachedRefreshToken",Ra="refreshTokenClientAcquireTokenByRefreshToken",Ea="refreshTokenClientCreateTokenRequestBody",Oa="acquireTokenFromCache",Ma="silentFlowClientAcquireCachedToken",_a="silentFlowClientGenerateResultFromCacheRecord",xa="acquireTokenBySilentIframe",za="initializeBaseRequest",qa="initializeSilentRequest",La="initializeClientApplication",Da="initializeCache",Ua="silentIframeClientTokenHelper",Fa="silentHandlerInitiateAuthRequest",ja="silentHandlerMonitorIframeForHash",Ha="silentHandlerLoadFrame",Ba="silentHandlerLoadFrameSync",Ga="standardInteractionClientCreateAuthCodeClient",Ka="standardInteractionClientGetClientConfiguration",Wa="standardInteractionClientInitializeAuthorizationRequest",Va="getAuthCodeUrl",Qa="getStandardParams",Ja="handleCodeResponseFromServer",$a="handleCodeResponse",Ya="handleResponseEar",Xa="handleResponsePlatformBroker",Za="handleResponseCode",ei="updateTokenEndpointAuthority",ti="authClientAcquireToken",ni="authClientExecuteTokenRequest",ri="authClientCreateTokenRequestBody",oi="popTokenGenerateCnf",ai="popTokenGenerateKid",ii="handleServerTokenResponse",si="deserializeResponse",li="authorityFactoryCreateDiscoveredInstance",ci="authorityResolveEndpointsAsync",ui="authorityGetCloudDiscoveryMetadataFromNetwork",di="authorityUpdateCloudDiscoveryMetadata",pi="authorityGetEndpointMetadataFromNetwork",hi="authorityUpdateEndpointMetadata",mi="authorityUpdateMetadataWithRegionalInformation",fi="regionDiscoveryDetectRegion",gi="regionDiscoveryGetRegionFromIMDS",yi="regionDiscoveryGetCurrentVersion",vi="acquireTokenByCodeAsync",bi="handleRedirectPromise",wi="handleNativeRedirectPromise",Si="nativeMessageHandlerHandshake",Ci="removeHiddenIframe",Pi="clearTokensAndKeysWithClaims",ki="cacheManagerGetRefreshToken",Ti="importExistingCache",Ii="setUserData",Ai="localStorageUpdated",Ni="generatePkceCodes",Ri="generateCodeVerifier",Ei="generateCodeChallengeFromVerifier",Oi="sha256Digest",Mi="getRandomValues",_i="generateHKDF",xi="generateBaseKey",zi="base64Decode",qi="urlEncodeArr",Li="encrypt",Di="decrypt",Ui="generateEarKey",Fi="decryptEarResponse",ji=(new Map([[sa,"ATByCode"],[la,"ATByRT"],[ca,"ATS"],[ua,"ATSAsync"],[da,"ATPopup"],[ha,"ATRedirect"],[ma,"CryptoGetPKThumb"],[fa,"CryptoSignJwt"],[ga,"SltCacheClientAT"],[ya,"SltIframeClientAT"],[ba,"SltRClientAT"],[wa,"SsoSlt"],[Sa,"StdIntClientGetDiscAuth"],["fetchAccountIdWithNativeBroker","FetchAccIdWithNtvBroker"],[Ca,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[Pa,"NetClientSendPost"],[ka,"RTClientExecPost"],[Ta,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[Ia,"RTClientExecTReq"],[Aa,"RTClientAT"],[Na,"RTClientATWithCachedRT"],[Ra,"RTClientATByRT"],[Ea,"RTClientCreateTReqBody"],[Oa,"ATFromCache"],[Ma,"SltFlowClientATCached"],[_a,"SltFlowClientGenResFromCache"],[xa,"ATBySltIframe"],[za,"InitBaseReq"],[qa,"InitSltReq"],[La,"InitClientApplication"],[Da,"InitCache"],[Ti,"importCache"],[Ii,"setUserData"],[Ai,"localStorageUpdated"],[Ua,"SIClientTHelper"],[Fa,"SHandlerInitAuthReq"],[ja,"SltHandlerMonitorIframeForHash"],[Ha,"SHandlerLoadFrame"],[Ba,"SHandlerLoadFrameSync"],[Ga,"StdIntClientCreateAuthCodeClient"],[Ka,"StdIntClientGetClientConf"],[Wa,"StdIntClientInitAuthReq"],[Va,"GetAuthCodeUrl"],[Ja,"HandleCodeResFromServer"],[$a,"HandleCodeResp"],[Ya,"HandleRespEar"],[Za,"HandleRespCode"],[Xa,"HandleRespPlatBroker"],[ei,"UpdTEndpointAuth"],[ti,"AuthClientAT"],[ni,"AuthClientExecTReq"],[ri,"AuthClientCreateTReqBody"],[oi,"PopTGenCnf"],[ai,"PopTGenKid"],[ii,"HandleServerTRes"],[si,"DeserializeRes"],[li,"AuthFactCreateDiscInst"],[ci,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[ui,"AuthGetCDMetaFromNet"],[di,"AuthUpdCDMeta"],[pi,"AuthUpdCDMetaFromNet"],[hi,"AuthUpdEndpointMeta"],[mi,"AuthUpdMetaWithRegInfo"],[fi,"RegDiscDetectReg"],[gi,"RegDiscGetRegFromIMDS"],[yi,"RegDiscGetCurrentVer"],[vi,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[bi,"HandleRedirectPromise"],[wi,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[Si,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[Ci,"RemoveHiddenIframe"],[Pi,"ClearTAndKeysWithClaims"],[ki,"CacheManagerGetRT"],[Ni,"GenPkceCodes"],[Ri,"GenCodeVerifier"],[Ei,"GenCodeChallengeFromVerifier"],[Oi,"Sha256Digest"],[Mi,"GetRandomValues"],[_i,"genHKDF"],[xi,"genBaseKey"],[zi,"b64Decode"],[qi,"urlEncArr"],[Li,"encrypt"],[Di,"decrypt"],[Ui,"genEarKey"],[Fi,"decryptEarResp"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT","unencryptedCacheCount","encryptedCacheExpiredCount"]);class Hi{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class Bi{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:ji,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new Hi}}startPerformanceMeasurement(){return new Hi}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}class Gi{navigateInternal(e,t){return Gi.defaultNavigateWindow(e,t)}navigateExternal(e,t){return Gi.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}class Ki extends be{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Ki.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}}function Wi(e,t,n,r){return e.errorMessage="".concat(e.errorMessage,", additionalErrorInfo: error.name:").concat(null===r||void 0===r?void 0:r.name,", error.message:").concat(null===r||void 0===r?void 0:r.message),new Ki(e,t,n)}const Vi="pkce_not_created",Qi="ear_jwk_empty",Ji="ear_jwe_empty",$i="crypto_nonexistent",Yi="empty_navigate_uri",Xi="hash_empty_error",Zi="no_state_in_hash",es="hash_does_not_contain_known_properties",ts="unable_to_parse_state",ns="state_interaction_type_mismatch",rs="interaction_in_progress",os="popup_window_error",as="empty_window_error",is="user_cancelled",ss="monitor_popup_timeout",ls="monitor_window_timeout",cs="redirect_in_iframe",us="block_iframe_reload",ds="block_nested_popups",ps="iframe_closed_prematurely",hs="silent_logout_unsupported",ms="no_account_error",fs="silent_prompt_value_error",gs="no_token_request_cache_error",ys="unable_to_parse_token_request_cache_error",vs="auth_request_not_set_error",bs="invalid_cache_type",ws="non_browser_environment",Ss="database_not_open",Cs="no_network_connectivity",Ps="post_request_failed",ks="get_request_failed",Ts="failed_to_parse_response",Is="unable_to_load_token",As="crypto_key_not_found",Ns="auth_code_required",Rs="auth_code_or_nativeAccountId_required",Es="spa_code_and_nativeAccountId_present",Os="database_unavailable",Ms="unable_to_acquire_token_from_native_platform",_s="native_handshake_timeout",xs="native_extension_not_installed",zs="native_connection_not_established",qs="uninitialized_public_client_application",Ls="native_prompt_not_supported",Ds="invalid_base64_string",Us="invalid_pop_token_request",Fs="failed_to_build_headers",js="failed_to_parse_headers",Hs="failed_to_decrypt_ear_response",Bs="For more visit: aka.ms/msaljs/browser-errors",Gs={[Vi]:"The PKCE code challenge and verifier could not be generated.",[Qi]:"No EAR encryption key provided. This is unexpected.",[Ji]:"Server response does not contain ear_jwe property. This is unexpected.",[$i]:"The crypto object or function is not available.",[Yi]:"Navigation URI is empty. Please check stack trace for more info.",[Xi]:"Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ".concat(Bs),[Zi]:"Hash does not contain state. Please verify that the request originated from msal.",[es]:"Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ".concat(Bs),[ts]:"Unable to parse state. Please verify that the request originated from msal.",[ns]:"Hash contains state but the interaction type does not match the caller.",[rs]:"Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ".concat(Bs),[os]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[as]:"window.open returned null or undefined window object.",[is]:"User cancelled the flow.",[ss]:"Token acquisition in popup failed due to timeout.  ".concat(Bs),[ls]:"Token acquisition in iframe failed due to timeout.  ".concat(Bs),[cs]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[us]:"Request was blocked inside an iframe because MSAL detected an authentication response.  ".concat(Bs),[ds]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[ps]:"The iframe being monitored was closed prematurely.",[hs]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[ms]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[fs]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[gs]:"No token request found in cache.",[ys]:"The cached token request could not be parsed.",[vs]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[bs]:"Invalid cache type",[ws]:"Login and token requests are not supported in non-browser environments.",[Ss]:"Database is not open!",[Cs]:"No network connectivity. Check your internet connection.",[Ps]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[ks]:"Network request failed. Please check the network trace to determine root cause.",[Ts]:"Failed to parse network response. Check network trace.",[Is]:"Error loading token to cache.",[As]:"Cryptographic Key or Keypair not found in browser storage.",[Ns]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Rs]:"An authorization code or nativeAccountId must be provided to this flow.",[Es]:"Request cannot contain both spa code and native account id.",[Os]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[Ms]:"Unable to acquire token from native platform.  ".concat(Bs),[_s]:"Timed out while attempting to establish connection to browser extension",[xs]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[zs]:"Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ".concat(Bs),[qs]:"You must call and await the initialize function before attempting to call any other MSAL API.  ".concat(Bs),[Ls]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Ds]:"Invalid base64 encoded string.",[Us]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[Fs]:"Failed to build request headers object.",[js]:"Failed to parse response headers",[Hs]:"Failed to decrypt ear response"};class Ks extends be{constructor(e,t){super(e,Gs[e],t),Object.setPrototypeOf(this,Ks.prototype),this.name="BrowserAuthError"}}function Ws(e,t){return new Ks(e,t)}class Vs{async sendGetRequestAsync(e,t){let n,r={},o=0;const a=Qs(t);try{n=await fetch(e,{method:Je,headers:a})}catch(i){throw Wi(Ws(window.navigator.onLine?ks:Cs),void 0,void 0,i)}r=Js(n.headers);try{return o=n.status,{headers:r,body:await n.json(),status:o}}catch(i){throw Wi(Ws(Ts),o,r,i)}}async sendPostRequestAsync(e,t){const n=t&&t.body||"",r=Qs(t);let o,a=0,i={};try{o=await fetch(e,{method:$e,headers:r,body:n})}catch(s){throw Wi(Ws(window.navigator.onLine?Ps:Cs),void 0,void 0,s)}i=Js(o.headers);try{return a=o.status,{headers:i,body:await o.json(),status:a}}catch(s){throw Wi(Ws(Ts),a,i,s)}}}function Qs(e){try{const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.entries(n).forEach((e=>{let[n,r]=e;t.append(n,r)})),t}catch(t){throw Wi(Ws(Fs),void 0,void 0,t)}}function Js(e){try{const t={};return e.forEach(((e,n)=>{t[n]=e})),t}catch(t){throw Ws(js)}}function $s(e){return encodeURIComponent(Xs(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Ys(e){return Zs(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xs(e){return Zs((new TextEncoder).encode(e))}function Zs(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}function el(e){return(new TextDecoder).decode(tl(e))}function tl(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Ws(Ds)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}const nl="AES-GCM",rl="HKDF",ol="SHA-256",al=new Uint8Array([1,0,1]),il="0123456789abcdef",sl=new Uint32Array(1),ll="raw",cl="encrypt",ul="decrypt",dl={name:"RSASSA-PKCS1-v1_5",hash:ol,modulusLength:2048,publicExponent:al};async function pl(e,t,n){null===t||void 0===t||t.addQueueMeasurement(Oi,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(ol,r)}function hl(e){return window.crypto.getRandomValues(e)}function ml(){return window.crypto.getRandomValues(sl),sl[0]}function fl(){const e=Date.now(),t=1024*ml()+(1023&ml()),n=new Uint8Array(16),r=Math.trunc(t/2**30),o=t&2**30-1,a=ml();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|o>>>24,n[9]=o>>>16,n[10]=o>>>8,n[11]=o,n[12]=a>>>24,n[13]=a>>>16,n[14]=a>>>8,n[15]=a;let i="";for(let s=0;s<n.length;s++)i+=il.charAt(n[s]>>>4),i+=il.charAt(15&n[s]),3!==s&&5!==s&&7!==s&&9!==s||(i+="-");return i}async function gl(e){return window.crypto.subtle.exportKey("jwk",e)}async function yl(){const e=await bl(),t={alg:"dir",kty:"oct",k:Ys(new Uint8Array(e))};return Xs(JSON.stringify(t))}async function vl(e,t){const n=t.split(".");if(5!==n.length)throw Ws(Hs,"jwe_length");const r=await async function(e){const t=el(e),n=tl(JSON.parse(t).k);return window.crypto.subtle.importKey(ll,n,nl,!1,[ul])}(e).catch((()=>{throw Ws(Hs,"import_key")}));try{const e=(new TextEncoder).encode(n[0]),t=tl(n[2]),o=tl(n[3]),a=tl(n[4]),i=8*a.byteLength,s=new Uint8Array(o.length+a.length);s.set(o),s.set(a,o.length);const l=await window.crypto.subtle.decrypt({name:nl,iv:t,tagLength:i,additionalData:e},r,s);return(new TextDecoder).decode(l)}catch(o){throw Ws(Hs,"decrypt")}}async function bl(){const e=await window.crypto.subtle.generateKey({name:nl,length:256},!0,[cl,ul]);return window.crypto.subtle.exportKey(ll,e)}async function wl(e){return window.crypto.subtle.importKey(ll,e,rl,!1,["deriveKey"])}async function Sl(e,t,n){return window.crypto.subtle.deriveKey({name:rl,salt:t,hash:ol,info:(new TextEncoder).encode(n)},e,{name:nl,length:256},!1,[cl,ul])}async function Cl(e,t,n){const r=(new TextEncoder).encode(t),o=window.crypto.getRandomValues(new Uint8Array(16)),a=await Sl(e,o,n),i=await window.crypto.subtle.encrypt({name:nl,iv:new Uint8Array(12)},a,r);return{data:Ys(new Uint8Array(i)),nonce:Ys(o)}}async function Pl(e,t,n,r){const o=tl(r),a=await Sl(e,tl(t),n),i=await window.crypto.subtle.decrypt({name:nl,iv:new Uint8Array(12)},a,o);return(new TextDecoder).decode(i)}async function kl(e){const t=await pl(e);return Ys(new Uint8Array(t))}function Tl(e){e.location.hash="","function"===typeof e.history.replaceState&&e.history.replaceState(null,"","".concat(e.location.origin).concat(e.location.pathname).concat(e.location.search))}function Il(){return window.parent!==window}function Al(){return"undefined"!==typeof window&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function Nl(){if("undefined"!==typeof window&&window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf("".concat(Oe,".")))throw Ws(ds)}function Rl(){if("undefined"===typeof window)throw Ws(ws)}function El(e){if(!e)throw Ws(qs)}function Ol(e){Rl(),function(){if(Uo.hashContainsKnownProperties(window.location.hash)&&Il())throw Ws(us)}(),Nl(),El(e)}function Ml(e,t){if(Ol(e),function(e){if(Il()&&!e)throw Ws(cs)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===Qe&&!t.cache.storeAuthStateInCookie)throw Ie(Pe)}function _l(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch(e){}}),1e4)}const xl=1e4;const zl="4.13.1";class ql{static loggerCallback(e,t){switch(e){case Dt.Error:return void console.error(t);case Dt.Info:return void console.info(t);case Dt.Verbose:return void console.debug(t);case Dt.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){var t,n;let r;this.browserEnvironment="undefined"!==typeof window,this.config=function(e,t){let{auth:n,cache:r,system:o,telemetry:a}=e;const s={clientId:i.EMPTY_STRING,authority:"".concat(i.DEFAULT_AUTHORITY),knownAuthorities:[],cloudDiscoveryMetadata:i.EMPTY_STRING,authorityMetadata:i.EMPTY_STRING,redirectUri:"undefined"!==typeof window?Al():"",postLogoutRedirectUri:i.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Nn,OIDCOptions:{serverResponseType:M,defaultScopes:[i.OPENID_SCOPE,i.PROFILE_SCOPE,i.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:On,tenant:i.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},l={cacheLocation:Ve,temporaryCacheLocation:Ve,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==We),claimsBasedCachingEnabled:!1},c={loggerCallback:()=>{},logLevel:Dt.Info,piiLoggingEnabled:!1},u=Wt(Wt({},Yo),{},{loggerOptions:c,networkClient:t?new Vs:ia,navigationClient:new Gi,loadFrameTimeout:0,windowHashTimeout:(null===o||void 0===o?void 0:o.loadFrameTimeout)||6e4,iframeHashTimeout:(null===o||void 0===o?void 0:o.loadFrameTimeout)||xl,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(null===o||void 0===o?void 0:o.nativeBrokerHandshakeTimeout)||2e3,pollIntervalMilliseconds:Me}),d=Wt(Wt(Wt({},u),o),{},{loggerOptions:(null===o||void 0===o?void 0:o.loggerOptions)||c}),p={application:{appName:i.EMPTY_STRING,appVersion:i.EMPTY_STRING},client:new Bi};(null===n||void 0===n?void 0:n.protocolMode)!==Rn&&null!==n&&void 0!==n&&n.OIDCOptions&&new Ut(d.loggerOptions).warning(JSON.stringify(bo(mo)));if(null!==n&&void 0!==n&&n.protocolMode&&n.protocolMode===Rn&&null!==d&&void 0!==d&&d.allowPlatformBroker)throw bo(fo);return{auth:Wt(Wt(Wt({},s),n),{},{OIDCOptions:Wt(Wt({},s.OIDCOptions),null===n||void 0===n?void 0:n.OIDCOptions)}),cache:Wt(Wt({},l),r),system:d,telemetry:Wt(Wt({},p),a)}}(e,this.browserEnvironment);try{r=window[Ve]}catch(u){}const o=null===(t=r)||void 0===t?void 0:t.getItem("msal.browser.log.level"),a=null===(n=r)||void 0===n||null===(n=n.getItem("msal.browser.log.pii"))||void 0===n?void 0:n.toLowerCase(),s="true"===a||"false"!==a&&void 0,l=Wt({},this.config.system.loggerOptions),c=o&&Object.keys(Dt).includes(o)?Dt[o]:void 0;c&&(l.loggerCallback=ql.loggerCallback,l.logLevel=c),void 0!==s&&(l.piiLoggingEnabled=s),this.logger=new Ut(l,"@azure/msal-browser",zl),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class Ll extends ql{getModuleName(){return Ll.MODULE_NAME}getId(){return Ll.ID}async initialize(){return this.available="undefined"!==typeof window,this.available}}Ll.MODULE_NAME="",Ll.ID="StandardOperatingContext";const Dl="missing_kid_error",Ul="missing_alg_error",Fl={[Dl]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Ul]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class jl extends be{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,jl.prototype)}}function Hl(e){return new jl(e,Fl[e])}class Bl{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Hl(Dl);if(!e.alg)throw Hl(Ul);const t=new Bl({typ:e.typ||fe,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}class Gl{constructor(){this.dbName=Nt,this.version=1,this.tableName=Rt,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t(Ws(Os))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Ws(Ss));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r(Ws(Ss));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);o.addEventListener("success",(()=>{this.closeConnection(),n()})),o.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Ws(Ss));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t(Ws(Ss));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Ws(Ss));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(Nt),r=setTimeout((()=>t(!1)),200);n.addEventListener("success",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("blocked",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("error",(()=>(clearTimeout(r),t(!1))))}))}}class Kl{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class Wl{constructor(e){this.inMemoryCache=new Kl,this.indexedDBCache=new Gl,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof Ks&&e.errorCode===Os))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}class Vl{constructor(e,t,n){this.logger=e,function(e){if(!window)throw Ws(ws);if(!window.crypto)throw Ws($i);if(!e&&!window.crypto.subtle)throw Ws($i,"crypto_subtle_undefined")}(null!==n&&void 0!==n&&n),this.cache=new Wl(this.logger),this.performanceClient=t}createNewGuid(){return fl()}base64Encode(e){return Xs(e)}base64Decode(e){return el(e)}base64UrlEncode(e){return $s(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var t;const n=null===(t=this.performanceClient)||void 0===t?void 0:t.startMeasurement(ma,e.correlationId),r=await async function(e,t){return window.crypto.subtle.generateKey(dl,e,t)}(Vl.EXTRACTABLE,Vl.POP_KEY_USAGES),o=await gl(r.publicKey),a=Ql({e:o.e,kty:o.kty,n:o.n}),i=await this.hashString(a),s=await gl(r.privateKey),l=await async function(e,t,n){return window.crypto.subtle.importKey("jwk",e,dl,t,n)}(s,!1,["sign"]);return await this.cache.setItem(i,{privateKey:l,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),i}async removeTokenBindingKey(e){await this.cache.removeItem(e);return!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error("Clearing keystore failed with error: ".concat(e.message)):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){var o;const a=null===(o=this.performanceClient)||void 0===o?void 0:o.startMeasurement(fa,r),i=await this.cache.getItem(t);if(!i)throw Ws(As);const s=await gl(i.publicKey),l=Ql(s),c=$s(JSON.stringify({kid:t})),u=$s(Bl.getShrHeaderString(Wt(Wt({},null===n||void 0===n?void 0:n.header),{},{alg:s.alg,kid:c})));e.cnf={jwk:JSON.parse(l)};const d=$s(JSON.stringify(e)),p="".concat(u,".").concat(d),h=(new TextEncoder).encode(p),m=await async function(e,t){return window.crypto.subtle.sign(dl,e,t)}(i.privateKey,h),f=Ys(new Uint8Array(m)),g="".concat(p,".").concat(f);return a&&a.end({success:!0}),g}async hashString(e){return kl(e)}}function Ql(e){return JSON.stringify(e,Object.keys(e).sort())}Vl.POP_KEY_USAGES=["sign","verify"],Vl.EXTRACTABLE=!0;const Jl=(e,t,n,r,o)=>function(){n.trace("Executing function ".concat(t));const a=null===r||void 0===r?void 0:r.startMeasurement(t,o);if(o){const e=t+"CallCount";null===r||void 0===r||r.incrementFields({[e]:1},o)}try{const r=e(...arguments);return null===a||void 0===a||a.end({success:!0}),n.trace("Returning result from ".concat(t)),r}catch(i){n.trace("Error occurred in ".concat(t));try{n.trace(JSON.stringify(i))}catch(i){n.trace("Unable to print error message.")}throw null===a||void 0===a||a.end({success:!1},i),i}},$l=(e,t,n,r,o)=>function(){n.trace("Executing function ".concat(t));const a=null===r||void 0===r?void 0:r.startMeasurement(t,o);if(o){const e=t+"CallCount";null===r||void 0===r||r.incrementFields({[e]:1},o)}return null===r||void 0===r||r.setPreQueueTime(t,o),e(...arguments).then((e=>(n.trace("Returning result from ".concat(t)),null===a||void 0===a||a.end({success:!0}),e))).catch((e=>{n.trace("Error occurred in ".concat(t));try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw null===a||void 0===a||a.end({success:!1},e),e}))};class Yl{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(fi,this.correlationId);let r=e;if(r)t.region_source=ae;else{const e=Yl.IMDS_OPTIONS;try{const n=await $l(this.getRegionFromIMDS.bind(this),gi,this.logger,this.performanceClient,this.correlationId)(i.IMDS_VERSION,e);if(n.status===s&&(r=n.body,t.region_source=ie),n.status===c){const n=await $l(this.getCurrentVersion.bind(this),yi,this.logger,this.performanceClient,this.correlationId)(e);if(!n)return t.region_source=oe,null;const o=await $l(this.getRegionFromIMDS.bind(this),gi,this.logger,this.performanceClient,this.correlationId)(n,e);o.status===s&&(r=o.body,t.region_source=ie)}}catch(o){return t.region_source=oe,null}}return r||(t.region_source=oe),r||null}async getRegionFromIMDS(e,t){var n;return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(gi,this.correlationId),this.networkInterface.sendGetRequestAsync("".concat(i.IMDS_ENDPOINT,"?api-version=").concat(e,"&format=text"),t,i.IMDS_TIMEOUT)}async getCurrentVersion(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(yi,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync("".concat(i.IMDS_ENDPOINT,"?format=json"),e);return t.status===c&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(n){return null}}}Yl.IMDS_OPTIONS={headers:{Metadata:"true"}};class Xl{constructor(e,t,n,r,o,a,i,s){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=i,this.correlationId=a,this.managedIdentity=s||!1,this.regionDiscovery=new Yl(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(i.CIAM_AUTH_URL))return _o;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case i.ADFS:return Oo;case i.DSTS:return Mo}return Eo}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Uo(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw kr(qn)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw kr(qn)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw kr(qn)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw kr(fr);return this.replacePath(this.metadata.end_session_endpoint)}throw kr(qn)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw kr(qn)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw kr(qn)}canReplaceTenant(e){return 1===e.PathSegments.length&&!Xl.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Eo&&this.protocolMode!==Rn}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new Uo(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,o)=>{let a=r[o];if(0===o&&this.canReplaceTenant(n)){const e=new Uo(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];a!==e&&(this.logger.verbose("Replacing tenant domain name ".concat(a," with id ").concat(e)),a=e)}e!==a&&(t=t.replace("/".concat(a,"/"),"/".concat(e,"/")))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Oo||this.protocolMode===Rn&&!this.isAliasOfKnownMicrosoftAuthority(e)?"".concat(this.canonicalAuthority,".well-known/openid-configuration"):"".concat(this.canonicalAuthority,"v2.0/.well-known/openid-configuration")}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var e,t;null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(ci,this.correlationId);const n=this.getCurrentMetadataEntity(),r=await $l(this.updateCloudDiscoveryMetadata.bind(this),di,this.logger,this.performanceClient,this.correlationId)(n);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,n.preferred_network);const o=await $l(this.updateEndpointMetadata.bind(this),hi,this.logger,this.performanceClient,this.correlationId)(n);this.updateCachedMetadata(n,r,{source:o}),null===(t=this.performanceClient)||void 0===t||t.addFields({cloudDiscoverySource:r,authorityEndpointSource:o},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Gr(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==V&&(null===n||void 0===n?void 0:n.source)!==V&&(e.expiresAt=Gr(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(hi,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){var r;if(n.source===J)if(null!==(r=this.authorityOptions.azureRegionConfiguration)&&void 0!==r&&r.azureRegion&&n.metadata){Kr(e,await $l(this.updateMetadataWithRegionalInformation.bind(this),mi,this.logger,this.performanceClient,this.correlationId)(n.metadata),!1),e.canonical_authority=this.canonicalAuthority}return n.source}let o=await $l(this.getEndpointMetadataFromNetwork.bind(this),pi,this.logger,this.performanceClient,this.correlationId)();var a;if(o)return null!==(a=this.authorityOptions.azureRegionConfiguration)&&void 0!==a&&a.azureRegion&&(o=await $l(this.updateMetadataWithRegionalInformation.bind(this),mi,this.logger,this.performanceClient,this.correlationId)(o)),Kr(e,o,!0),Q;throw kr(Dn,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),Kr(e,t,!1),{source:W};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return Kr(e,t,!1),{source:J,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=Vr(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:V}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Uo(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw bo(so)}return null}async getEndpointMetadataFromNetwork(){var e;null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(pi,this.correlationId);const t={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose("Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ".concat(n));try{const e=await this.networkInterface.sendGetRequestAsync(n,t),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(e.body);return r?e.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(r){return this.logger.verbose("Authority.getEndpointMetadataFromNetwork: ".concat(r)),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Fo?Fo[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var t,n;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(mi,this.correlationId);const r=null===(n=this.authorityOptions.azureRegionConfiguration)||void 0===n?void 0:n.azureRegion;if(r){var o;if(r!==i.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=se,this.regionDiscoveryMetadata.region_used=r,Xl.replaceWithRegionalInformation(e,r);const t=await $l(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),fi,this.logger,this.performanceClient,this.correlationId)(null===(o=this.authorityOptions.azureRegionConfiguration)||void 0===o?void 0:o.environmentRegion,this.regionDiscoveryMetadata);if(t)return this.regionDiscoveryMetadata.region_outcome=le,this.regionDiscoveryMetadata.region_used=t,Xl.replaceWithRegionalInformation(e,t);this.regionDiscoveryMetadata.region_outcome=ce}return e}async updateCloudDiscoveryMetadata(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(di,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const r=await $l(this.getCloudDiscoveryMetadataFromNetwork.bind(this),ui,this.logger,this.performanceClient,this.correlationId)();if(r)return Wr(e,r,!0),Q;throw bo(lo)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii("Known Authorities: ".concat(this.authorityOptions.knownAuthorities||i.NOT_APPLICABLE)),this.logger.verbosePii("Authority Metadata: ".concat(this.authorityOptions.authorityMetadata||i.NOT_APPLICABLE)),this.logger.verbosePii("Canonical Authority: ".concat(e.canonical_authority||i.NOT_APPLICABLE));const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Wr(e,t,!1),W;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,Go(jo.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Wr(e,t,!1),J;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=Vr(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),V):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===_o)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Xl.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=Go(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),bo(io)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Xl.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var e;null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(ui,this.correlationId);const t="".concat(i.AAD_INSTANCE_DISCOVERY_ENDPT).concat(this.canonicalAuthority,"oauth2/v2.0/authorize"),n={};let r=null;try{const e=await this.networkInterface.sendGetRequestAsync(t,n);let o,a;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(e.body))o=e.body,a=o.metadata,this.logger.verbosePii("tenant_discovery_endpoint is: ".concat(o.tenant_discovery_endpoint));else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(e.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning("A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ".concat(e.status)),o=e.body,o.error===i.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning("The CloudInstanceDiscoveryErrorResponse error is ".concat(o.error)),this.logger.warning("The CloudInstanceDiscoveryErrorResponse error description is ".concat(o.error_description)),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=Go(a,this.hostnameAndPort)}catch(o){if(o instanceof be)this.logger.error("There was a network error while attempting to get the cloud discovery instance metadata.\nError: ".concat(o.errorCode,"\nError Description: ").concat(o.errorMessage));else{const e=o;this.logger.error("A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ".concat(e.name,"\nError Description: ").concat(e.message))}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Xl.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter((e=>e&&Uo.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort)).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==On){const e=t.tenant?t.tenant:i.DEFAULT_COMMON_TENANT;n="".concat(t.azureCloudInstance,"/").concat(e,"/")}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return i.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw kr(qn)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return Ho.has(e)}static isPublicCloudAuthority(e){return i.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new Uo(e);r.validateAsUri();const o=r.getUrlComponents();let a="".concat(t,".").concat(o.HostNameAndPort);this.isPublicCloudAuthority(o.HostNameAndPort)&&(a="".concat(t,".").concat(i.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX));const s=Uo.constructAuthorityUriFromObject(Wt(Wt({},r.getUrlComponents()),{},{HostNameAndPort:a})).urlString;return n?"".concat(s,"?").concat(n):s}static replaceWithRegionalInformation(e,t){const n=Wt({},e);return n.authorization_endpoint=Xl.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=Xl.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=Xl.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new Uo(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(i.CIAM_AUTH_URL)){const e=n.HostNameAndPort.split(".")[0];t="".concat(t).concat(e).concat(i.AAD_TENANT_DOMAIN_SUFFIX)}return t}}function Zl(e){return e.endsWith(i.FORWARD_SLASH)?e:"".concat(e).concat(i.FORWARD_SLASH)}Xl.reservedTenantDomains=new Set(["{tenant}","{tenantid}",C,k,P]);const ec="no_tokens_found",tc="native_account_unavailable",nc="refresh_token_expired",rc="bad_token",oc=["interaction_required","consent_required","login_required",rc],ac=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],ic={[ec]:"No refresh token found in the cache. Please sign-in.",[tc]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[nc]:"Refresh token has expired.",[rc]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class sc extends be{constructor(e,t,n,r,o,a,s,l){super(e,t,n),Object.setPrototypeOf(this,sc.prototype),this.timestamp=r||i.EMPTY_STRING,this.traceId=o||i.EMPTY_STRING,this.correlationId=a||i.EMPTY_STRING,this.claims=s||i.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=l}}function lc(e,t,n){const r=!!e&&oc.indexOf(e)>-1,o=!!n&&ac.indexOf(n)>-1,a=!!t&&oc.some((e=>t.indexOf(e)>-1));return r||a||o}function cc(e){return new sc(e,ic[e])}function uc(e,t,n){var r;return{clientId:e,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:n,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||(null===(r=t.tokenBodyParameters)||void 0===r?void 0:r.clientId)}}const dc=864e5,pc="Lax",hc="None";class mc{initialize(){return Promise.resolve()}getItem(e){const t="".concat(encodeURIComponent(e)),n=document.cookie.split(";");for(let r=0;r<n.length;r++){const e=n[r],[o,...a]=decodeURIComponent(e).trim().split("="),i=a.join("=");if(o===t)return i}return""}getUserData(){throw kr(wr)}setItem(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pc,a="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t),";path=/;SameSite=").concat(o,";");if(n){const e=function(e){const t=new Date,n=new Date(t.getTime()+e*dc);return n.toUTCString()}(n);a+="expires=".concat(e,";")}(r||o===hc)&&(a+="Secure;"),document.cookie=a}async setUserData(){return Promise.reject(kr(wr))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach((e=>{const n=decodeURIComponent(e).trim().split("=");t.push(n[0])})),t}containsKey(e){return this.getKeys().includes(e)}}function fc(e){const t=e.getItem(at);return t?JSON.parse(t):[]}function gc(e,t){const n=t.getItem("".concat(it,".").concat(e));if(n){const e=JSON.parse(n);if(e&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("accessToken")&&e.hasOwnProperty("refreshToken"))return e}return{idToken:[],accessToken:[],refreshToken:[]}}const yc="msal.cache.encryption";class vc{constructor(e,t,n){if(!window.localStorage)throw Ie(Se);this.memoryStorage=new Kl,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=n,this.broadcast=new BroadcastChannel("msal.broadcast.cache")}async initialize(e){const t=new mc,n=t.getItem(yc);let r={key:"",id:""};if(n)try{r=JSON.parse(n)}catch(o){}if(r.key&&r.id){const t=Jl(tl,zi,this.logger,this.performanceClient,e)(r.key);this.encryptionCookie={id:r.id,key:await $l(wl,_i,this.logger,this.performanceClient,e)(t)},await $l(this.importExistingCache.bind(this),Ti,this.logger,this.performanceClient,e)(e)}else{this.clear();const n=fl(),r=await $l(bl,xi,this.logger,this.performanceClient,e)(),o=Jl(Ys,qi,this.logger,this.performanceClient,e)(new Uint8Array(r));this.encryptionCookie={id:n,key:await $l(wl,_i,this.logger,this.performanceClient,e)(r)};const a={id:n,key:o};t.setItem(yc,JSON.stringify(a),0,!0,hc)}this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw Ws(qs);return this.memoryStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,n){if(!this.initialized||!this.encryptionCookie)throw Ws(qs);const{data:r,nonce:o}=await $l(Cl,Li,this.logger,this.performanceClient,n)(this.encryptionCookie.key,t,this.getContext(e)),a={id:this.encryptionCookie.id,nonce:o,data:r};this.memoryStorage.setItem(e,t),this.setItem(e,JSON.stringify(a)),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear();fc(this).forEach((e=>this.removeItem(e)));const e=gc(this.clientId,this);e.idToken.forEach((e=>this.removeItem(e))),e.accessToken.forEach((e=>this.removeItem(e))),e.refreshToken.forEach((e=>this.removeItem(e))),this.getKeys().forEach((e=>{(e.startsWith(i.CACHE_PREFIX)||-1!==e.indexOf(this.clientId))&&this.removeItem(e)}))}async importExistingCache(e){if(!this.encryptionCookie)return;let t=fc(this);t=await this.importArray(t,e),this.setItem(at,JSON.stringify(t));const n=gc(this.clientId,this);n.idToken=await this.importArray(n.idToken,e),n.accessToken=await this.importArray(n.accessToken,e),n.refreshToken=await this.importArray(n.refreshToken,e),this.setItem("".concat(it,".").concat(this.clientId),JSON.stringify(n))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;const n=this.getItem(e);if(!n)return null;let r;try{r=JSON.parse(n)}catch(o){return null}return r.id&&r.nonce&&r.data?r.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):$l(Pl,Di,this.logger,this.performanceClient,t)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),null)}async importArray(e,t){const n=[],r=[];return e.forEach((e=>{const o=this.getItemFromEncryptedCache(e,t).then((t=>{t?(this.memoryStorage.setItem(e,t),n.push(e)):this.removeItem(e)}));r.push(o)})),await Promise.all(r),n}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(Ai);t.add({isBackground:!0});const{key:n,value:r,context:o}=e.data;return n?o&&o!==this.clientId?(this.logger.trace("Ignoring broadcast event from clientId: ".concat(o)),void t.end({success:!1,errorCode:"contextMismatch"})):(r?(this.memoryStorage.setItem(n,r),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(n),this.logger.verbose("Removed item from internal cache")),void t.end({success:!0})):(this.logger.error("Broadcast event missing key"),void t.end({success:!1,errorCode:"noKey"}))}}class bc{constructor(){if(!window.sessionStorage)throw Ie(Se)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}class wc extends Jo{constructor(e,t,n,r,o,a,i){super(e,n,r,i),this.cacheConfig=t,this.logger=r,this.internalStorage=new Kl,this.browserStorage=Sc(e,t.cacheLocation,r,o),this.temporaryCacheStorage=Sc(e,t.temporaryCacheLocation,r,o),this.cookieStorage=new mc,this.performanceClient=o,this.eventHandler=a}async initialize(e){await this.browserStorage.initialize(e),this.trackVersionChanges(e)}trackVersionChanges(e){const t=this.browserStorage.getItem(st);t&&(this.logger.info("MSAL.js was last initialized by version: ".concat(t)),this.performanceClient.addFields({previousLibraryVersion:t},e)),t!==zl&&this.browserStorage.setItem(st,zl)}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}getAccount(e){this.logger.trace("BrowserCacheManager.getAccount called");const t=this.browserStorage.getUserData(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&zo.isAccountEntity(n)?Jo.toObject(new zo,n):(this.removeAccountKeyFromMap(e),null)}async setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const n=e.generateAccountKey();await $l(this.browserStorage.setUserData.bind(this.browserStorage),Ii,this.logger,this.performanceClient)(n,JSON.stringify(e),t);const r=this.addAccountKeyToMap(n);this.cacheConfig.cacheLocation===We&&r&&this.eventHandler.emitEvent(Jt,void 0,e.getAccountInfo())}getAccountKeys(){return fc(this.browserStorage)}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii("BrowserCacheManager.addAccountKeyToMap called with key: ".concat(e));const t=this.getAccountKeys();return-1===t.indexOf(e)?(t.push(e),this.browserStorage.setItem(at,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii("BrowserCacheManager.removeAccountKeyFromMap called with key: ".concat(e));const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.browserStorage.setItem(at,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}async removeAccountContext(e){await super.removeAccountContext(e),this.cacheConfig.cacheLocation===We&&this.eventHandler.emitEvent($t,void 0,e.getAccountInfo())}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,j.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,j.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,j.REFRESH_TOKEN)}getTokenKeys(){return gc(this.clientId,this.browserStorage)}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case j.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case j.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case j.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error("BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ".concat(t)),kr(sr)}this.browserStorage.setItem("".concat(it,".").concat(this.clientId),JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case j.ID_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ".concat(e," from map"));const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case j.ACCESS_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ".concat(e," from map"));const o=n.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case j.REFRESH_TOKEN:this.logger.infoPii("BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ".concat(e," from map"));const a=n.refreshToken.indexOf(e);a>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error("BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ".concat(t)),kr(sr)}this.browserStorage.setItem("".concat(it,".").concat(this.clientId),JSON.stringify(n))}getIdTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,j.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Dr(r)&&r.hasOwnProperty("realm")&&r.credentialType===j.ID_TOKEN?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,j.ID_TOKEN),null);var r}async setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=xr(e);await $l(this.browserStorage.setUserData.bind(this.browserStorage),Ii,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,j.ID_TOKEN)}getAccessTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,j.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Dr(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===j.ACCESS_TOKEN||r.credentialType===j.ACCESS_TOKEN_WITH_AUTH_SCHEME)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,j.ACCESS_TOKEN),null);var r}async setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=xr(e);await $l(this.browserStorage.setUserData.bind(this.browserStorage),Ii,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,j.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,j.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Dr(r)&&r.credentialType===j.REFRESH_TOKEN?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,j.REFRESH_TOKEN),null);var r}async setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=xr(e);await $l(this.browserStorage.setUserData.bind(this.browserStorage),Ii,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,j.REFRESH_TOKEN)}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&(r=e,(o=n)&&0===r.indexOf(H)&&o.hasOwnProperty("clientId")&&o.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var r,o}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function(e){let{environment:t,clientId:n}=e;return[H,t,n].join(U).toLowerCase()}(e);this.browserStorage.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf($.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(G)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(lt,e),this.internalStorage.setItem(ct,t)}getWrapperMetadata(){return[this.internalStorage.getItem(lt)||i.EMPTY_STRING,this.internalStorage.getItem(ct)||i.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(S),t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(S);if(e){this.logger.verbose("setActiveAccount: Active account set");const n={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(n))}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t);this.eventHandler.emitEvent(Yt)}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(ee));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.cookieStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===We){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach((e=>{-1===e.indexOf(i.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)})),this.browserStorage.getKeys().forEach((e=>{-1===e.indexOf(i.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(Pi,t);const n=this.getTokenKeys(),r=[];n.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);null!==t&&void 0!==t&&t.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(e))})),await Promise.all(r),r.length>0&&this.logger.warning("".concat(r.length," access tokens with claims in the cache keys have been removed from the cache."))}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):wo.startsWith(e,i.CACHE_PREFIX)?e:"".concat(i.CACHE_PREFIX,".").concat(this.clientId,".").concat(e)}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(tt)),this.removeTemporaryItem(this.generateCacheKey(nt)),this.removeTemporaryItem(this.generateCacheKey(Ze)),this.removeTemporaryItem(this.generateCacheKey(et)),this.removeTemporaryItem(this.generateCacheKey(ot)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,t){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const n=Xs(JSON.stringify(e));if(this.setTemporaryCache(tt,n,!0),t){const e=Xs(t);this.setTemporaryCache(nt,e,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(tt,!0);if(!e)throw Ws(gs);const t=this.getTemporaryCache(nt,!0);let n,r="";try{n=JSON.parse(el(e)),t&&(r=el(t))}catch(o){throw this.logger.errorPii("Attempted to parse: ".concat(e)),this.logger.error("Parsing cached token request threw with error: ".concat(o)),Ws(ys)}return[n,r]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(ot,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){var t;const n=null===(t=this.getInteractionInProgress())||void 0===t?void 0:t.clientId;return e?n===this.clientId:!!n}getInteractionInProgress(){const e="".concat(i.CACHE_PREFIX,".").concat(rt),t=this.getTemporaryCache(e,!1);try{return t?JSON.parse(t):null}catch(n){return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),Tl(window),null}}setInteractionInProgress(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ye;const r="".concat(i.CACHE_PREFIX,".").concat(rt);if(e){if(this.getInteractionInProgress())throw Ws(rs);this.setTemporaryCache(r,JSON.stringify({clientId:this.clientId,type:n}),!1)}else e||(null===(t=this.getInteractionInProgress())||void 0===t?void 0:t.clientId)!==this.clientId||this.removeTemporaryItem(r)}async hydrateCache(e,t){var n,r,o;const a=zr(null===(n=e.account)||void 0===n?void 0:n.homeAccountId,null===(r=e.account)||void 0===r?void 0:r.environment,e.idToken,this.clientId,e.tenantId);let i;t.claims&&(i=await this.cryptoImpl.hashString(t.claims));const s={idToken:a,accessToken:qr(null===(o=e.account)||void 0===o?void 0:o.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?Or(e.expiresOn):0,e.extExpiresOn?Or(e.extExpiresOn):0,el,void 0,e.tokenType,void 0,t.sshKid,t.claims,i)};return this.saveCacheRecord(s,e.correlationId)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(r){if(r instanceof Qo&&this.performanceClient&&t)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},t)}catch(r){}throw r}}}function Sc(e,t,n,r){try{switch(t){case We:return new vc(e,n,r);case Ve:return new bc}}catch(o){n.error(o)}return new Kl}class Cc{constructor(e){this.eventCallbacks=new Map,this.logger=e||new Ut({}),"undefined"!==typeof BroadcastChannel&&(this.broadcastChannel=new BroadcastChannel("msal.broadcast.event")),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,n){if("undefined"!==typeof window){const r=n||fl();return this.eventCallbacks.has(r)?(this.logger.error("Event callback with id: ".concat(r," is already registered. Please provide a unique id or remove the existing callback and try again.")),null):(this.eventCallbacks.set(r,[e,t||[]]),this.logger.verbose("Event callback registered with id: ".concat(r)),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback ".concat(e," removed."))}emitEvent(e,t,n,r){var o;const a={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};switch(e){case Jt:case $t:case Yt:null===(o=this.broadcastChannel)||void 0===o||o.postMessage(a);break;default:this.invokeCallbacks(a)}}invokeCallbacks(e){this.eventCallbacks.forEach(((t,n)=>{let[r,o]=t;(0===o.length||o.includes(e.eventType))&&(this.logger.verbose("Emitting event to callback ".concat(n,": ").concat(e.eventType)),r.apply(null,[e]))}))}invokeCrossTabCallbacks(e){const t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){var e;null===(e=this.broadcastChannel)||void 0===e||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;null===(e=this.broadcastChannel)||void 0===e||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}const Pc="home_account_id",kc="UPN",Tc="client_id",Ic="redirect_uri",Ac="token_type",Nc="req_cnf",Rc="return_spa_code",Ec="x-client-xtra-sku",Oc="brk_client_id",Mc="brk_redirect_uri",_c="instance_aware";function xc(e,t,n){if(!t)return;const r=e.get(Tc);r&&e.has(Oc)&&(null===n||void 0===n||n.addFields({embeddedClientId:r,embeddedRedirectUri:e.get(Ic)},t))}function zc(e,t){e.set("response_type",t)}function qc(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h;!n||r.includes("openid")||t.includes("openid")||r.push("openid");const o=n?[...t||[],...r]:t||[],a=new So(o);e.set("scope",a.printScopes())}function Lc(e,t){e.set(Tc,t)}function Dc(e,t){e.set(Ic,t)}function Uc(e,t){e.set("login_hint",t)}function Fc(e,t){e.set(v,"UPN:".concat(t))}function jc(e,t){e.set(v,"Oid:".concat(t.uid,"@").concat(t.utid))}function Hc(e,t){e.set("sid",t)}function Bc(e,t,n){const r=function(e,t){let n;if(e)try{n=JSON.parse(e)}catch(r){throw bo(to)}else n={};t&&t.length>0&&(n.hasOwnProperty(T)||(n[T]={}),n[T][I]={values:t});return JSON.stringify(n)}(t,n);try{JSON.parse(r)}catch(o){throw bo(to)}e.set("claims",r)}function Gc(e,t){e.set("client-request-id",t)}function Kc(e,t){e.set("x-client-SKU",t.sku),e.set("x-client-VER",t.version),t.os&&e.set("x-client-OS",t.os),t.cpu&&e.set("x-client-CPU",t.cpu)}function Wc(e,t){null!==t&&void 0!==t&&t.appName&&e.set("x-app-name",t.appName),null!==t&&void 0!==t&&t.appVersion&&e.set("x-app-ver",t.appVersion)}function Vc(e,t){t&&e.set("state",t)}function Qc(e,t){e.set("client_secret",t)}function Jc(e,t){t&&e.set("client_assertion",t)}function $c(e,t){t&&e.set("client_assertion_type",t)}function Yc(e,t){e.set("grant_type",t)}function Xc(e){e.set("client_info","1")}function Zc(e){e.has(_c)||e.set(_c,"true")}function eu(e,t){Object.entries(t).forEach((t=>{let[n,r]=t;!e.has(n)&&r&&e.set(n,r)}))}function tu(e,t){t&&(e.set(Ac,Y.POP),e.set(Nc,t))}function nu(e,t){t&&(e.set(Ac,Y.SSH),e.set(Nc,t))}function ru(e,t){e.set("x-client-current-telemetry",t.generateCurrentRequestHeaderValue()),e.set("x-client-last-telemetry",t.generateLastRequestHeaderValue())}function ou(e){e.set("x-ms-lib-capability",te)}function au(e,t,n){e.has(Oc)||e.set(Oc,t),e.has(Mc)||e.set(Mc,n)}async function iu(e,t,n,r,o,a,i){null===i||void 0===i||i.addQueueMeasurement(li,a);const s=Xl.transformCIAMAuthority(Zl(e)),l=new Xl(s,t,n,r,o,a,i);try{return await $l(l.resolveEndpointsAsync.bind(l),ci,o,i,a)(),l}catch(c){throw kr(qn)}}class su extends be{constructor(e,t,n,r,o){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=o,Object.setPrototypeOf(this,su.prototype)}}class lu{static generateThrottlingStorageKey(e){return"".concat(ee,".").concat(JSON.stringify(e))}static preProcess(e,t){const n=lu.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){var o;if(r.throttleTime<Date.now())return void e.removeItem(n);throw new su((null===(o=r.errorCodes)||void 0===o?void 0:o.join(" "))||i.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if(lu.checkResponseStatus(n)||lu.checkResponseForRetryAfter(n)){const r={throttleTime:lu.calculateThrottleTime(parseInt(n.headers[y])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(lu.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(y)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||X),n+Z))}static removeThrottle(e,t,n,r){const o=uc(t,n,r),a=this.generateThrottlingStorageKey(o);e.removeItem(a)}}class cu{constructor(e,t){this.config=function(e){let{authOptions:t,systemOptions:n,loggerOptions:r,cacheOptions:o,storageInterface:a,networkInterface:i,cryptoInterface:s,clientCredentials:l,libraryInfo:c,telemetry:u,serverTelemetryManager:d,persistencePlugin:p,serializableCache:h}=e;const m=Wt(Wt({},Xo),r);return{authOptions:(f=t,Wt({clientCapabilities:[],azureCloudOptions:ra,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1},f)),systemOptions:Wt(Wt({},Yo),n),loggerOptions:m,cacheOptions:Wt(Wt({},Zo),o),storageInterface:a||new $o(t.clientId,Tr,new Ut(m)),networkInterface:i||ea,cryptoInterface:s||Tr,clientCredentials:l||na,libraryInfo:Wt(Wt({},ta),c),telemetry:Wt(Wt({},oa),u),serverTelemetryManager:d||null,persistencePlugin:p||null,serializableCache:h||null};var f}(e),this.logger=new Ut(this.config.loggerOptions,Ir,Ar),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[f]=i.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Pc:try{const n=Po(e.credential);t[v]="Oid:".concat(n.uid,"@").concat(n.utid)}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case kc:t[v]="UPN: ".concat(e.credential)}return t}async executePostToTokenEndpoint(e,t,n,r,o,a){var i;a&&(null===(i=this.performanceClient)||void 0===i||i.addQueueMeasurement(a,o));const s=await this.sendPostRequest(r,e,{body:t,headers:n},o);return this.config.serverTelemetryManager&&s.status<500&&429!==s.status&&this.config.serverTelemetryManager.clearTelemetryCache(),s}async sendPostRequest(e,t,n,r){let o;lu.preProcess(this.cacheManager,e);try{var a,i;o=await $l(this.networkClient.sendPostRequestAsync.bind(this.networkClient),Pa,this.logger,this.performanceClient,r)(t,n);const e=o.headers||{};null===(a=this.performanceClient)||void 0===a||a.addFields({refreshTokenSize:(null===(i=o.body.refresh_token)||void 0===i?void 0:i.length)||0,httpVerToken:e[w]||"",requestId:e[b]||""},r)}catch(l){if(l instanceof Ki){const e=l.responseHeaders;var s;if(e)null===(s=this.performanceClient)||void 0===s||s.addFields({httpVerToken:e[w]||"",requestId:e[b]||"",contentTypeHeader:e[f]||void 0,contentLengthHeader:e[g]||void 0,httpStatus:l.httpStatus},r);throw l.error}throw l instanceof be?l:kr(Ln)}return lu.postProcess(this.cacheManager,e,o),o}async updateAuthority(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(ei,t);const r="https://".concat(e,"/").concat(this.authority.tenant,"/"),o=await iu(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=o}createTokenQueryParameters(e){const t=new Map;return e.embeddedClientId&&au(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&eu(t,e.tokenQueryParameters),Gc(t,e.correlationId),xc(t,e.correlationId,this.performanceClient),Do(t)}}class uu{static setRequestState(e,t,n){const r=uu.generateLibraryState(e,n);return t?"".concat(r).concat(i.RESOURCE_DELIM).concat(t):r}static generateLibraryState(e,t){if(!e)throw kr(ir);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw kr(ir);if(!t)throw kr(Fn);try{const n=t.split(i.RESOURCE_DELIM),r=n[0],o=n.length>1?n.slice(1).join(i.RESOURCE_DELIM):i.EMPTY_STRING,a=e.base64Decode(r),s=JSON.parse(a);return{userRequestState:o||i.EMPTY_STRING,libraryState:s}}catch(n){throw kr(Fn)}}}const du="sw";class pu{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(oi,e.correlationId);const r=await $l(this.generateKid.bind(this),oi,t,this.performanceClient,e.correlationId)(e),o=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:o}}async generateKid(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(ai,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:du}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:o,resourceRequestUri:a,shrClaims:i,shrNonce:s,shrOptions:l}=n,c=a?new Uo(a):void 0,u=null===c||void 0===c?void 0:c.getUrlComponents();return this.cryptoUtils.signJwt(Wt({at:e,ts:Er(),m:null===o||void 0===o?void 0:o.toUpperCase(),u:null===u||void 0===u?void 0:u.HostNameAndPort,nonce:s||this.cryptoUtils.createNewGuid(),p:null===u||void 0===u?void 0:u.AbsolutePath,q:null!==u&&void 0!==u&&u.QueryString?[[],u.QueryString]:void 0,client_claims:i||void 0},r),t,l,n.correlationId)}}class hu{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class mu{constructor(e,t,n,r,o,a,i){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=a,this.performanceClient=i}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){var n;const r="Error(s): ".concat(e.error_codes||i.NOT_AVAILABLE," - Timestamp: ").concat(e.timestamp||i.NOT_AVAILABLE," - Description: ").concat(e.error_description||i.NOT_AVAILABLE," - Correlation ID: ").concat(e.correlation_id||i.NOT_AVAILABLE," - Trace ID: ").concat(e.trace_id||i.NOT_AVAILABLE),o=null!==(n=e.error_codes)&&void 0!==n&&n.length?e.error_codes[0]:void 0,a=new su(e.error,r,e.suberror,o,e.status);if(t&&e.status&&e.status>=d&&e.status<=p)return void this.logger.warning("executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n".concat(a));if(t&&e.status&&e.status>=l&&e.status<=u)return void this.logger.warning("executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n".concat(a));if(lc(e.error,e.error_description,e.suberror))throw new sc(e.error,e.error_description,e.suberror,e.timestamp||i.EMPTY_STRING,e.trace_id||i.EMPTY_STRING,e.correlation_id||i.EMPTY_STRING,e.claims||i.EMPTY_STRING,o);throw a}}async handleServerTokenResponse(e,t,n,r,o,a,s,l,c){var u;let d,p;if(null===(u=this.performanceClient)||void 0===u||u.addQueueMeasurement(ii,e.correlation_id),e.id_token){if(d=Nr(e.id_token||i.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&d.nonce!==o.nonce)throw kr(Bn);if(r.maxAge||0===r.maxAge){const e=d.auth_time;if(!e)throw kr(Gn);Rr(e,r.maxAge)}}this.homeAccountIdentifier=zo.generateHomeAccountId(e.client_info||i.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,d),o&&o.state&&(p=uu.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||r.sshKid||void 0;const h=this.generateCacheRecord(e,t,n,r,d,a,o);let m;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),m=new hu(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(m)),s&&!l&&h.account){const e=h.account.generateAccountKey();if(!this.cacheStorage.getAccount(e))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await mu.generateAuthenticationResult(this.cryptoObj,t,h,!1,r,d,p,void 0,c)}await this.cacheStorage.saveCacheRecord(h,r.correlationId,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&m&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(m))}return mu.generateAuthenticationResult(this.cryptoObj,t,h,!1,r,d,p,e,c)}generateCacheRecord(e,t,n,r,o,a,i){const s=t.getPreferredCache();if(!s)throw kr(or);const l=xo(o);let c,u;e.id_token&&o&&(c=zr(this.homeAccountIdentifier,s,e.id_token,this.clientId,l||""),u=fu(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,s,l,i,void 0,this.logger));let d=null;if(e.access_token){const o=e.scope?So.fromString(e.scope):new So(r.scopes||[]),i=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,c=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,p=n+i,h=p+c,m=u&&u>0?n+u:void 0;d=qr(this.homeAccountIdentifier,s,e.access_token,this.clientId,l||t.tenant||"",o.printScopes(),p,h,this.cryptoObj.base64Decode,m,e.token_type,a,e.key_id,r.claims,r.requestedClaimsHash)}let p=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}p=Lr(this.homeAccountIdentifier,s,e.refresh_token,this.clientId,e.foci,a,t)}let h=null;return e.foci&&(h={clientId:this.clientId,environment:s,familyId:e.foci}),{account:u,idToken:c,accessToken:d,refreshToken:p,appMetadata:h}}static async generateAuthenticationResult(e,t,n,r,o,a,s,l,c){var u,d,p,h,m;let f,g,y=i.EMPTY_STRING,v=[],b=null,w=i.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==Y.POP||o.popKid)y=n.accessToken.secret;else{const t=new pu(e),{secret:r,keyId:a}=n.accessToken;if(!a)throw kr(gr);y=await t.signPopToken(r,a,o)}v=So.fromString(n.accessToken.target).asArray(),b=Mr(n.accessToken.expiresOn),f=Mr(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(g=Mr(n.accessToken.refreshOn))}n.appMetadata&&(w=n.appMetadata.familyId===B?B:"");const S=(null===a||void 0===a?void 0:a.oid)||(null===a||void 0===a?void 0:a.sub)||"",C=(null===a||void 0===a?void 0:a.tid)||"";null!==l&&void 0!==l&&l.spa_accountid&&n.account&&(n.account.nativeAccountId=null===l||void 0===l?void 0:l.spa_accountid);const P=n.account?Ro(n.account.getAccountInfo(),void 0,a,null===(u=n.idToken)||void 0===u?void 0:u.secret):null;return{authority:t.canonicalAuthority,uniqueId:S,tenantId:C,scopes:v,account:P,idToken:(null===n||void 0===n||null===(d=n.idToken)||void 0===d?void 0:d.secret)||"",idTokenClaims:a||{},accessToken:y,fromCache:r,expiresOn:b,extExpiresOn:f,refreshOn:g,correlationId:o.correlationId,requestId:c||i.EMPTY_STRING,familyId:w,tokenType:(null===(p=n.accessToken)||void 0===p?void 0:p.tokenType)||i.EMPTY_STRING,state:s?s.userRequestState:i.EMPTY_STRING,cloudGraphHostName:(null===(h=n.account)||void 0===h?void 0:h.cloudGraphHostName)||i.EMPTY_STRING,msGraphHost:(null===(m=n.account)||void 0===m?void 0:m.msGraphHost)||i.EMPTY_STRING,code:null===l||void 0===l?void 0:l.spa_code,fromNativeBroker:!1}}}function fu(e,t,n,r,o,a,i,s,l,c,u){null===u||void 0===u||u.verbose("setCachedAccount called");const d=e.getAccountKeys().find((e=>e.startsWith(n)));let p=null;d&&(p=e.getAccount(d));const h=p||zo.createAccount({homeAccountId:n,idTokenClaims:o,clientInfo:a,environment:i,cloudGraphHostName:null===l||void 0===l?void 0:l.cloud_graph_host_name,msGraphHost:null===l||void 0===l?void 0:l.msgraph_host,nativeAccountId:c},t,r),m=h.tenantProfiles||[],f=s||h.realm;if(f&&!m.find((e=>e.tenantId===f))){const e=No(n,h.localAccountId,f,o);m.push(e)}return h.tenantProfiles=m,h}class gu{static validateRedirectUri(e){if(!e)throw bo(Qr)}static validatePrompt(e){const t=[];for(const n in A)t.push(A[n]);if(t.indexOf(e)<0)throw bo(eo)}static validateClaims(e){try{JSON.parse(e)}catch(t){throw bo(to)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw bo(ao);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([N.PLAIN,N.S256].indexOf(e)<0)throw bo(oo)}}async function yu(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class vu extends cu{constructor(e,t){var n;super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=null===(n=this.config.authOptions.authority.options.OIDCOptions)||void 0===n?void 0:n.defaultScopes}async acquireToken(e,t){var n,r;if(null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(ti,e.correlationId),!e.code)throw kr(Jn);const o=Er(),a=await $l(this.executeTokenRequest.bind(this),ni,this.logger,this.performanceClient,e.correlationId)(this.authority,e),i=null===(r=a.headers)||void 0===r?void 0:r[b],s=new mu(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(a.body),$l(s.handleServerTokenResponse.bind(s),ii,this.logger,this.performanceClient,e.correlationId)(a.body,this.authority,o,e,t,void 0,void 0,void 0,i)}getLogoutUri(e){if(!e)throw bo(ro);const t=this.createLogoutUrlQueryString(e);return Uo.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(ni,t.correlationId);const r=this.createTokenQueryParameters(t),o=Uo.appendQueryString(e.tokenEndpoint,r),a=await $l(this.createTokenRequestBody.bind(this),ri,this.logger,this.performanceClient,t.correlationId)(t);let i;if(t.clientInfo)try{const e=Co(t.clientInfo,this.cryptoUtils.base64Decode);i={credential:"".concat(e.uid).concat(F).concat(e.utid),type:Pc}}catch(c){this.logger.verbose("Could not parse client info for CCS Header: "+c)}const s=this.createTokenRequestHeaders(i||t.ccsCredential),l=uc(this.config.authOptions.clientId,t);return $l(this.executePostToTokenEndpoint.bind(this),Ta,this.logger,this.performanceClient,t.correlationId)(o,a,s,l,t.correlationId,Ta)}async createTokenRequestBody(e){var t,n;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(ri,e.correlationId);const r=new Map;if(Lc(r,e.embeddedClientId||(null===(n=e.tokenBodyParameters)||void 0===n?void 0:n[Tc])||this.config.authOptions.clientId),this.includeRedirectUri?Dc(r,e.redirectUri):gu.validateRedirectUri(e.redirectUri),qc(r,e.scopes,!0,this.oidcDefaultScopes),function(e,t){e.set("code",t)}(r,e.code),Kc(r,this.config.libraryInfo),Wc(r,this.config.telemetry.application),ou(r),this.serverTelemetryManager&&!aa(this.config)&&ru(r,this.serverTelemetryManager),e.codeVerifier&&function(e,t){e.set("code_verifier",t)}(r,e.codeVerifier),this.config.clientCredentials.clientSecret&&Qc(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;Jc(r,await yu(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),$c(r,t.assertionType)}if(Yc(r,x),Xc(r),e.authenticationScheme===Y.POP){const t=new pu(this.cryptoUtils,this.performanceClient);let n;if(e.popKid)n=this.cryptoUtils.encodeKid(e.popKid);else{n=(await $l(t.generateCnf.bind(t),oi,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}tu(r,n)}else if(e.authenticationScheme===Y.SSH){if(!e.sshJwk)throw bo(co);nu(r,e.sshJwk)}let o;if((!wo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Bc(r,e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=Co(e.clientInfo,this.cryptoUtils.base64Decode);o={credential:"".concat(t.uid).concat(F).concat(t.utid),type:Pc}}catch(a){this.logger.verbose("Could not parse client info for CCS Header: "+a)}else o=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&o)switch(o.type){case Pc:try{jc(r,Po(o.credential))}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case kc:Fc(r,o.credential)}return e.embeddedClientId&&au(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&eu(r,e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[Rc]||eu(r,{[Rc]:"1"}),xc(r,e.correlationId,this.performanceClient),Do(r)}createLogoutUrlQueryString(e){const t=new Map;return e.postLogoutRedirectUri&&function(e,t){e.set("post_logout_redirect_uri",t)}(t,e.postLogoutRedirectUri),e.correlationId&&Gc(t,e.correlationId),e.idTokenHint&&function(e,t){e.set("id_token_hint",t)}(t,e.idTokenHint),e.state&&Vc(t,e.state),e.logoutHint&&function(e,t){e.set("logout_hint",t)}(t,e.logoutHint),e.extraQueryParameters&&eu(t,e.extraQueryParameters),this.config.authOptions.instanceAware&&Zc(t),Do(t,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}function bu(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:o,extensionVersion:a}=e,i=new Map([[0,[n,r]],[2,[o,a]]]);let s=[];if(null!==t&&void 0!==t&&t.length){if(s=t.split(","),s.length<4)return t}else s=Array.from({length:4},(()=>"|"));return i.forEach(((e,t)=>{var n,r;2===e.length&&null!==(n=e[0])&&void 0!==n&&n.length&&null!==(r=e[1])&&void 0!==r&&r.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:o}=e;if(n>=t.length)return;t[n]=[r,o].join("|")}({skuArr:s,index:t,skuName:e[0],skuVersion:e[1]})})),s.join(",")}class wu{constructor(e,t){this.cacheOutcome=ue,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||i.EMPTY_STRING,this.wrapperVer=e.wrapperVer||i.EMPTY_STRING,this.telemetryCacheKey=$.CACHE_KEY+U+e.clientId}generateCurrentRequestHeaderValue(){const e="".concat(this.apiId).concat($.VALUE_SEPARATOR).concat(this.cacheOutcome),t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();null!==n&&void 0!==n&&n.length&&t.push("broker_error=".concat(n));const r=t.join($.VALUE_SEPARATOR),o=[e,this.getRegionDiscoveryFields()].join($.VALUE_SEPARATOR);return[$.SCHEMA_VERSION,o,r].join($.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=wu.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join($.VALUE_SEPARATOR),r=e.errors.slice(0,t).join($.VALUE_SEPARATOR),o=e.errors.length,a=[o,t<o?$.OVERFLOW_TRUE:$.OVERFLOW_FALSE].join($.VALUE_SEPARATOR);return[$.SCHEMA_VERSION,e.cacheHits,n,r,a].join($.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=$.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof be?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push($.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=wu.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const o=e.errors.length;for(t=0;t<o;t++){const o=e.failedRequests[2*t]||i.EMPTY_STRING,a=e.failedRequests[2*t+1]||i.EMPTY_STRING,s=e.errors[t]||i.EMPTY_STRING;if(r+=o.toString().length+a.toString().length+s.length+3,!(r<$.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||i.EMPTY_STRING),e.push(this.regionSource||i.EMPTY_STRING),e.push(this.regionOutcome||i.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return bu(e)}}class Su{constructor(e,t,n,r,o,a,i,s,l){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=a,this.platformAuthProvider=s,this.correlationId=l||fl(),this.logger=r.clone(_e,zl,this.correlationId),this.performanceClient=i}async clearCacheOnLogout(e){if(e){zo.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(zo.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(t){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(n){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return Uo.getAbsoluteUrl(t,Al())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new wu(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(Sa,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,a=null!==n&&void 0!==n&&n.length?"true"===n:this.config.auth.instanceAware,i=t&&a?this.config.auth.authority.replace(Uo.getDomainFromUrl(o),t.environment):o,s=Xl.generateAuthority(i,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),l=await $l(iu,li,this.logger,this.performanceClient,this.correlationId)(s,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(t&&!l.isAlias(t.environment))throw bo(go);return l}}async function Cu(e,t,n,r){n.addQueueMeasurement(za,e.correlationId);const o=e.authority||t.auth.authority,a=[...e&&e.scopes||[]],i=Wt(Wt({},e),{},{correlationId:e.correlationId,authority:o,scopes:a});if(i.authenticationScheme){if(i.authenticationScheme===Y.SSH){if(!e.sshJwk)throw bo(co);if(!e.sshKid)throw bo(uo)}r.verbose('Authentication Scheme set to "'.concat(i.authenticationScheme,'" as configured in Auth request'))}else i.authenticationScheme=Y.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!wo.isEmptyObj(e.claims)&&(i.requestedClaimsHash=await kl(e.claims)),i}async function Pu(e,t,n,r,o){r.addQueueMeasurement(qa,e.correlationId);const a=await $l(Cu,za,o,r,e.correlationId)(e,n,r,o);return Wt(Wt(Wt({},e),a),{},{account:t,forceRefresh:e.forceRefresh||!1})}class ku extends Su{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",null===e||void 0===e?void 0:e.correlationId);const t=Wt({correlationId:this.correlationId||fl()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=Uo.getAbsoluteUrl(e.postLogoutRedirectUri,Al())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=Uo.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Al())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=Uo.getAbsoluteUrl(Al(),Al())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(Ga,this.correlationId);const t=await $l(this.getClientConfiguration.bind(this),Ka,this.logger,this.performanceClient,this.correlationId)(e);return new vu(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:a}=e;this.performanceClient.addQueueMeasurement(Ka,this.correlationId);const s=await $l(this.getDiscoveredAuthority.bind(this),Sa,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:a}),l=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:s,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:l.loggerCallback,piiLoggingEnabled:l.piiLoggingEnabled,logLevel:l.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:_e,version:zl,cpu:i.EMPTY_STRING,os:i.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(Wa,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},o=uu.setRequestState(this.browserCrypto,e&&e.state||i.EMPTY_STRING,r),a=await $l(Cu,za,this.logger,this.performanceClient,this.correlationId)(Wt(Wt({},e),{},{correlationId:this.correlationId}),this.config,this.performanceClient,this.logger),s=Wt(Wt({},a),{},{redirectUri:n,state:o,nonce:e.nonce||fl(),responseMode:this.config.auth.OIDCOptions.serverResponseType});if(e.loginHint||e.sid)return s;const l=e.account||this.browserStorage.getActiveAccount();return l&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: ".concat(l.homeAccountId),this.correlationId),s.account=l),s}}function Tu(e,t,n){const r=Lo(e);if(!r)throw qo(e)?(n.error("A ".concat(t," is present in the iframe but it does not contain known properties. It's likely that the ").concat(t," has been replaced by code running on the redirectUri page.")),n.errorPii("The ".concat(t," detected is: ").concat(e)),Ws(es)):(n.error("The request has returned to the redirectUri but a ".concat(t," is not present. It's likely that the ").concat(t," has been removed or the page has been redirected by code running on the redirectUri page.")),Ws(Xi));return r}function Iu(e,t,n){if(!e.state)throw Ws(Zi);const r=function(e,t){if(!t)return null;try{return uu.parseRequestState(e,t).libraryState.meta}catch(n){throw kr(Fn)}}(t,e.state);if(!r)throw Ws(ts);if(r.interactionType!==n)throw Ws(ns)}function Au(e,t,n,r){var o,a;const i=t.correlationId,s=new Map;Lc(s,t.embeddedClientId||(null===(o=t.extraQueryParameters)||void 0===o?void 0:o[Tc])||e.clientId);if(qc(s,[...t.scopes||[],...t.extraScopesToConsent||[]],!0,null===(a=e.authority.options.OIDCOptions)||void 0===a?void 0:a.defaultScopes),Dc(s,t.redirectUri),Gc(s,i),function(e,t){e.set("response_mode",t||_)}(s,t.responseMode),Xc(s),t.prompt&&(!function(e,t){e.set("prompt",t)}(s,t.prompt),null===r||void 0===r||r.addFields({prompt:t.prompt},i)),t.domainHint&&(!function(e,t){e.set("domain_hint",t)}(s,t.domainHint),null===r||void 0===r||r.addFields({domainHintFromRequest:!0},i)),t.prompt!==A.SELECT_ACCOUNT)if(t.sid&&t.prompt===A.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),Hc(s,t.sid),null===r||void 0===r||r.addFields({sidFromRequest:!0},i);else if(t.account){const e=function(e){var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.sid)||null}(t.account);let o=function(e){var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.login_hint)||null}(t.account);if(o&&t.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),o=null),o){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),Uc(s,o),null===r||void 0===r||r.addFields({loginHintFromClaim:!0},i);try{jc(s,Po(t.account.homeAccountId))}catch(l){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e&&t.prompt===A.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),Hc(s,e),null===r||void 0===r||r.addFields({sidFromClaim:!0},i);try{jc(s,Po(t.account.homeAccountId))}catch(l){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),Uc(s,t.loginHint),Fc(s,t.loginHint),null===r||void 0===r||r.addFields({loginHintFromRequest:!0},i);else if(t.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),Uc(s,t.account.username),null===r||void 0===r||r.addFields({loginHintFromUpn:!0},i);try{jc(s,Po(t.account.homeAccountId))}catch(l){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),Uc(s,t.loginHint),Fc(s,t.loginHint),null===r||void 0===r||r.addFields({loginHintFromRequest:!0},i));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return t.nonce&&function(e,t){e.set("nonce",t)}(s,t.nonce),t.state&&Vc(s,t.state),(t.claims||e.clientCapabilities&&e.clientCapabilities.length>0)&&Bc(s,t.claims,e.clientCapabilities),t.embeddedClientId&&au(s,e.clientId,e.redirectUri),!e.instanceAware||t.extraQueryParameters&&Object.keys(t.extraQueryParameters).includes(_c)||Zc(s),s}function Nu(e,t,n,r){const o=Do(t,n,r);return Uo.appendQueryString(e.authorizationEndpoint,o)}function Ru(e,t){if(!e.state||!t)throw e.state?kr(Hn,"Cached State"):kr(Hn,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(o){throw kr(Fn,e.state)}try{r=decodeURIComponent(t)}catch(o){throw kr(Fn,e.state)}if(n!==r)throw kr(jn);if(e.error||e.error_description||e.suberror){const t=function(e){var t,n;const r="code=",o=null===(t=e.error_uri)||void 0===t?void 0:t.lastIndexOf(r);return o&&o>=0?null===(n=e.error_uri)||void 0===n?void 0:n.substring(o+r.length):void 0}(e);if(lc(e.error,e.error_description,e.suberror))throw new sc(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new su(e.error||"",e.error_description,e.suberror,t)}}class Eu{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement($a,t.correlationId);try{n=function(e,t){if(Ru(e,t),!e.code)throw kr(hr);return e}(e,t.state)}catch(r){throw r instanceof su&&r.subError===is?Ws(is):r}return $l(this.handleCodeResponseFromServer.bind(this),Ja,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.performanceClient.addQueueMeasurement(Ja,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await $l(this.authModule.updateAuthority.bind(this.authModule),ei,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await $l(this.authModule.acquireToken.bind(this.authModule),ti,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Pc}:e.loginHint?{credential:e.loginHint,type:kc}:null}}const Ou="user_switch",Mu={[Ou]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class _u extends be{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,_u.prototype),this.name="NativeAuthError",this.ext=n}}function xu(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function zu(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return cc(tc);case"USER_INTERACTION_REQUIRED":return new sc(e,t);case"USER_CANCEL":return Ws(is);case"NO_NETWORK":return Ws(Cs)}return new _u(e,Mu[e]||t,n)}class qu extends cu{constructor(e,t){super(e,t)}async acquireCachedToken(e){var t;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Ma,e.correlationId);let n=ue;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!wo.isEmptyObj(e.claims))throw this.setCacheOutcome(de,e.correlationId),kr(ur);if(!e.account)throw kr(nr);const r=e.account.tenantId||function(e){var t;const n=null===(t=new Uo(e).getUrlComponents().PathSegments.slice(-1)[0])||void 0===t?void 0:t.toLowerCase();switch(n){case C:case P:case k:return;default:return n}}(e.authority),o=this.cacheManager.getTokenKeys(),a=this.cacheManager.getAccessToken(e.account,e,o,r,this.performanceClient,e.correlationId);if(!a)throw this.setCacheOutcome(pe,e.correlationId),kr(ur);if(i=a.cachedAt,Number(i)>Er()||_r(a.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(he,e.correlationId),kr(ur);var i;a.refreshOn&&_r(a.refreshOn,0)&&(n=me);const s=e.authority||this.authority.getPreferredCache(),l={account:this.cacheManager.readAccountFromCache(e.account),accessToken:a,idToken:this.cacheManager.getIdToken(e.account,o,r,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await $l(this.generateResultFromCacheRecord.bind(this),_a,this.logger,this.performanceClient,e.correlationId)(l,e),n]}setCacheOutcome(e,t){var n,r;null===(n=this.serverTelemetryManager)||void 0===n||n.setCacheOutcome(e),null===(r=this.performanceClient)||void 0===r||r.addFields({cacheOutcome:e},t),e!==ue&&this.logger.info("Token refresh is required due to cache outcome: ".concat(e))}async generateResultFromCacheRecord(e,t){var n;let r;if(null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(_a,t.correlationId),e.idToken&&(r=Nr(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){var o;const e=null===(o=r)||void 0===o?void 0:o.auth_time;if(!e)throw kr(Gn);Rr(e,t.maxAge)}return mu.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)}}class Lu extends ku{async acquireToken(e){this.performanceClient.addQueueMeasurement(ga,e.correlationId);const t=this.initializeServerTelemetryManager(ft),n=await $l(this.getClientConfiguration.bind(this),Ka,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new qu(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await $l(r.acquireCachedToken.bind(r),Ma,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(o){throw o instanceof Ks&&o.errorCode===As&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(null===t||void 0===t?void 0:t.account)}}const Du=["prompt"],Uu=["scopes"];class Fu extends Su{constructor(e,t,n,r,o,a,i,s,l,c,u,d){super(e,t,n,r,o,a,s,l,d),this.apiId=i,this.accountId=c,this.platformAuthProvider=l,this.nativeStorageManager=u,this.silentCacheClient=new Lu(e,this.nativeStorageManager,n,r,o,a,s,l,d);const p=this.platformAuthProvider.getExtensionName();this.skus=wu.makeExtraSkuString({libraryName:_e,libraryVersion:zl,extensionName:p,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters=Wt(Wt({},e.extraParameters),{},{[Ec]:this.skus})}async acquireToken(e,t){this.performanceClient.addQueueMeasurement(Ca,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const n=this.performanceClient.startMeasurement(Ca,e.correlationId),r=Er(),o=this.initializeServerTelemetryManager(this.apiId);try{const i=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,i);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(a){if(t===Ot)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),a;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const s=await this.platformAuthProvider.sendMessage(i);return await this.handleNativeResponse(s,i,r).then((e=>(n.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),o.clearNativeBrokerErrorCode(),e))).catch((e=>{throw n.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}catch(a){throw a instanceof _u&&o.setNativeBrokerErrorCode(a.errorCode),a}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:So.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),kr(ar);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw kr(ar);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),o=Wt(Wt({},n),{},{idTokenClaims:null===r||void 0===r?void 0:r.idTokenClaims,idToken:null===r||void 0===r?void 0:r.idToken});return Wt(Wt({},r),{},{account:o})}catch(r){throw r}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const n=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n);try{await this.platformAuthProvider.sendMessage(r)}catch(i){if(i instanceof _u){if(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(i.errorCode),xu(i))throw i}}this.browserStorage.setTemporaryCache(ot,JSON.stringify(r),!0);const o={apiId:ut,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(a,o)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&(null===e||void 0===e||e.addFields({errorCode:"no_cached_request"},t)),null;const{prompt:r}=n,o=ko(n,Du);r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ot));const a=Er();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.platformAuthProvider.sendMessage(o),t=await this.handleNativeResponse(e,o,a);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),t}catch(i){throw i}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){var r,o;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const a=Nr(e.id_token,el),i=this.createHomeAccountIdentifier(e,a),s=null===(r=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId}))||void 0===r?void 0:r.homeAccountId;if(null!==(o=t.extraParameters)&&void 0!==o&&o.child_client_id&&e.account.id!==t.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(i!==s&&e.account.id!==t.accountId)throw zu(Ou);const l=await this.getDiscoveredAuthority({requestAuthority:t.authority}),c=fu(this.browserStorage,l,i,el,a,e.client_info,void 0,a.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const u=await this.generateAuthenticationResult(e,t,a,c,l.canonicalAuthority,n);return await this.cacheAccount(c),await this.cacheNativeTokens(e,t,i,a,e.access_token,u.tenantId,n),u}createHomeAccountIdentifier(e,t){return zo.generateHomeAccountId(e.client_info||i.EMPTY_STRING,Eo,this.logger,this.browserCrypto,t)}generateScopes(e,t){return t?So.fromString(t):So.fromString(e)}async generatePopAccessToken(e,t){if(t.tokenType===Y.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new pu(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw kr(gr);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,o,a){const s=this.addTelemetryFromNativeResponse(e.properties.MATS),l=this.generateScopes(t.scope,e.scope),c=e.account.properties||{},u=c.UID||n.oid||n.sub||i.EMPTY_STRING,d=c.TenantId||n.tid||i.EMPTY_STRING,p=Ro(r.getAccountInfo(),void 0,n,e.id_token);p.nativeAccountId!==e.account.id&&(p.nativeAccountId=e.account.id);const h=await this.generatePopAccessToken(e,t),m=t.tokenType===Y.POP?Y.POP:Y.BEARER;return{authority:o,uniqueId:u,tenantId:d,scopes:l.asArray(),account:p,idToken:e.id_token,idTokenClaims:n,accessToken:h,fromCache:!!s&&this.isResponseFromCache(s),expiresOn:Mr(a+e.expires_in),tokenType:m,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error("Error occurred while removing account context from browser storage. ".concat(e))}))}cacheNativeTokens(e,t,n,r,o,a,s){const l=zr(n,t.authority,e.id_token||"",t.clientId,r.tid||""),c=s+(t.tokenType===Y.POP?i.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),u=this.generateScopes(e.scope,t.scope),d={idToken:l,accessToken:qr(n,t.authority,o,t.clientId,r.tid||a,u.printScopes(),c,0,el,void 0,t.tokenType,void 0,t.keyId)};return this.nativeStorageManager.saveCacheRecord(d,this.correlationId,t.storeInCache)}getExpiresInValue(e,t){return e===Y.POP?i.SHR_NONCE_VALIDITY:("string"===typeof t?parseInt(t,10):t)||0}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch(t){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=await this.getCanonicalAuthority(e),{scopes:n}=e,r=ko(e,Uu),o=new So(n||[]);o.appendScopes(h);const a=Wt(Wt({},r),{},{accountId:this.accountId,clientId:this.config.auth.clientId,authority:t.urlString,scope:o.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:Wt(Wt({},e.extraQueryParameters),e.tokenQueryParameters),extendedExpiryToken:!1,keyId:e.popKid});if(a.signPopToken&&e.popKid)throw Ws(Us);if(this.handleExtraBrokerParams(a),a.extraParameters=a.extraParameters||{},a.extraParameters.telemetry=qe,e.authenticationScheme===Y.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new pu(this.browserCrypto);let r;if(a.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:a.keyId})),a.signPopToken=!1;else{const o=await $l(n.generateCnf.bind(n),oi,this.logger,this.performanceClient,e.correlationId)(t,this.logger);r=o.reqCnfString,a.keyId=o.kid,a.signPopToken=!0}a.reqCnf=r}return this.addRequestSKUs(a),a}async getCanonicalAuthority(e){const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new Uo(t);return n.validateAsUri(),n}getPrompt(e){switch(this.apiId){case pt:case ft:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),A.NONE}if(e)switch(e){case A.NONE:case A.CONSENT:case A.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace("initializeNativeRequest: prompt = ".concat(e," is not compatible with native flow")),Ws(Ls)}else this.logger.trace("initializeNativeRequest: prompt was not provided")}handleExtraBrokerParams(e){var t;const n=e.extraParameters&&e.extraParameters.hasOwnProperty(Oc)&&e.extraParameters.hasOwnProperty(Mc)&&e.extraParameters.hasOwnProperty(Tc);if(!e.embeddedClientId&&!n)return;let r="";const o=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Mc],r=e.extraParameters[Tc]),e.extraParameters={child_client_id:r,child_redirect_uri:o},null===(t=this.performanceClient)||void 0===t||t.addFields({embeddedClientId:r,embeddedRedirectUri:o},e.correlationId)}}async function ju(e,t,n,r,o){const a=Au(Wt(Wt({},e.auth),{},{authority:t}),n,r,o);if(Kc(a,{sku:_e,version:zl,os:"",cpu:""}),e.auth.protocolMode!==Rn&&Wc(a,e.telemetry.application),n.platformBroker&&(function(e){e.set("nativebroker","1")}(a),n.authenticationScheme===Y.POP)){const e=new Vl(r,o),t=new pu(e);let i;if(n.popKid)i=e.encodeKid(n.popKid);else{i=(await $l(t.generateCnf.bind(t),oi,r,o,n.correlationId)(n,r)).reqCnfString}tu(a,i)}return xc(a,n.correlationId,o),a}async function Hu(e,t,n,r,o){if(!n.codeChallenge)throw bo(ao);const a=await $l(ju,Qa,r,o,n.correlationId)(e,t,n,r,o);return zc(a,R),function(e,t,n){if(!t||!n)throw bo(ao);e.set("code_challenge",t),e.set("code_challenge_method",n)}(a,n.codeChallenge,i.S256_CODE_CHALLENGE_METHOD),eu(a,n.extraQueryParameters||{}),Nu(t,a,e.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function Bu(e,t,n,r,o,a){if(!r.earJwk)throw Ws(Qi);const i=await ju(t,n,r,o,a);zc(i,E),function(e,t){e.set("ear_jwk",encodeURIComponent(t)),e.set("ear_jwe_crypto","eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}(i,r.earJwk);const s=new Map;eu(s,r.extraQueryParameters||{});return function(e,t,n){const r=e.createElement("form");return r.method="post",r.action=t,n.forEach(((t,n)=>{const o=e.createElement("input");o.hidden=!0,o.name=n,o.value=t,r.appendChild(o)})),e.body.appendChild(r),r}(e,Nu(n,s,t.auth.encodeExtraQueryParams,r.extraQueryParameters),i)}async function Gu(e,t,n,r,o,a,i,s,l,c){if(s.verbose("Account id found, calling WAM for token"),!c)throw Ws(zs);const u=new Vl(s,l),d=new Fu(r,o,u,s,i,r.system.navigationClient,n,l,c,t,a,e.correlationId),{userRequestState:p}=uu.parseRequestState(u,e.state);return $l(d.acquireToken.bind(d),Ca,s,l,e.correlationId)(Wt(Wt({},e),{},{state:p,prompt:void 0}))}async function Ku(e,t,n,r,o,a,i,s,l,c,u,d){if(lu.removeThrottle(i,o.auth.clientId,e),t.accountId)return $l(Gu,Xa,c,u,e.correlationId)(e,t.accountId,r,o,i,s,l,c,u,d);const p=Wt(Wt({},e),{},{code:t.code||"",codeVerifier:n}),h=new Eu(a,i,p,c,u);return await $l(h.handleCodeResponse.bind(h),$a,c,u,e.correlationId)(t,e)}async function Wu(e,t,n,r,o,a,i,s,l,c,u){if(lu.removeThrottle(a,r.auth.clientId,e),Ru(t,e.state),!t.ear_jwe)throw Ws(Ji);if(!e.earJwk)throw Ws(Qi);const d=JSON.parse(await $l(vl,Fi,l,c,e.correlationId)(e.earJwk,t.ear_jwe));if(d.accountId)return $l(Gu,Xa,l,c,e.correlationId)(e,d.accountId,n,r,a,i,s,l,c,u);const p=new mu(r.auth.clientId,a,new Vl(l,c),l,null,null,c);p.validateTokenResponse(d);const h={code:"",state:e.state,nonce:e.nonce,client_info:d.client_info,cloud_graph_host_name:d.cloud_graph_host_name,cloud_instance_host_name:d.cloud_instance_host_name,cloud_instance_name:d.cloud_instance_name,msgraph_host:d.msgraph_host};return await $l(p.handleServerTokenResponse.bind(p),ii,l,c,e.correlationId)(d,o,Er(),e,h,void 0,void 0,void 0,void 0)}async function Vu(e,t,n){e.addQueueMeasurement(Ni,n);const r=Jl(Qu,Ri,t,e,n)(e,t,n);return{verifier:r,challenge:await $l(Ju,Ei,t,e,n)(r,e,t,n)}}function Qu(e,t,n){try{const r=new Uint8Array(32);Jl(hl,Mi,t,e,n)(r);return Ys(r)}catch(r){throw Ws(Vi)}}async function Ju(e,t,n,r){t.addQueueMeasurement(Ei,r);try{const o=await $l(pl,Oi,n,t,r)(e,t,r);return Ys(new Uint8Array(o))}catch(o){throw Ws(Vi)}}class $u{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(Si),this.platformAuthType=je}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const t={method:Ge,request:e},n={channel:xe,extensionId:this.extensionId,responseId:fl(),body:t};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+" - Sending request to browser extension: ".concat(JSON.stringify(n))),this.messageChannel.port1.postMessage(n);const r=await new Promise(((e,t)=>{this.resolvers.set(n.responseId,{resolve:e,reject:t})}));return this.validatePlatformBrokerResponse(r)}static async createProvider(e,t,n){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const r=new $u(e,t,n,ze);return await r.sendHandshakeRequest(),r}catch(r){const o=new $u(e,t,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:xe,extensionId:this.extensionId,responseId:fl(),body:{method:He}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(Ws(_s)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===xe&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===He){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(this.platformAuthType+".onWindowMessage - resolver can't be found for request ".concat(t.responseId));this.logger.verbose(t.extensionId?"Extension with id: ".concat(t.extensionId," not installed"):"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(Ws(xs))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===Ke){if(!n)return;const e=t.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+" - Received response from browser extension: ".concat(JSON.stringify(e))),"Success"!==e.status)n.reject(zu(e.code,e.description,e.ext));else{if(!e.result)throw we(ge,"Event does not contain result.");e.result.code&&e.result.description?n.reject(zu(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===Be){if(!r)return void this.logger.trace(this.platformAuthType+".onChannelMessage - resolver can't be found for request ".concat(t.responseId));clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(this.platformAuthType+" - Received HandshakeResponse from extension: ".concat(this.extensionId)),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: ".concat(o)),this.logger.errorPii("Unable to parse ".concat(e)),n?n.reject(o):r&&r.reject(o)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw we(ge,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){var e;return this.getExtensionId()===ze?"chrome":null!==(e=this.getExtensionId())&&void 0!==e&&e.length?"unknown":void 0}}const Yu=["accountId","clientId","authority","scope","redirectUri","correlationId","state","storeInCache","embeddedClientId","extraParameters"];class Xu{constructor(e,t,n){this.logger=e,this.performanceClient=t,this.correlationId=n,this.platformAuthType=Fe}static async createProvider(e,t,n){var r;if(e.trace("PlatformAuthDOMHandler: createProvider called"),null!==(r=window.navigator)&&void 0!==r&&r.platformAuthentication){const r=await window.navigator.platformAuthentication.getSupportedContracts(Le);if(null!==r&&void 0!==r&&r.includes(Ue))return e.trace("Platform auth api available in DOM"),new Xu(e,t,n)}}getExtensionId(){return Le}getExtensionVersion(){return""}getExtensionName(){return De}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const t=this.initializePlatformDOMRequest(e),n=await window.navigator.platformAuthentication.executeGetToken(t);return this.validatePlatformBrokerResponse(n)}catch(t){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),t}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:t,clientId:n,authority:r,scope:o,redirectUri:a,correlationId:i,state:s,storeInCache:l,embeddedClientId:c,extraParameters:u}=e,d=ko(e,Yu),p=this.getDOMExtraParams(d);return{accountId:t,brokerId:this.getExtensionId(),authority:r,clientId:n,correlationId:i||this.correlationId,extraParameters:Wt(Wt({},u),p),isSecurityTokenService:!1,redirectUri:a,scope:o,state:s,storeInCache:l,embeddedClientId:c}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const t=e;if(!1===t.isSuccess&&t.error&&t.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),zu(t.error.code,t.error.description,{error:parseInt(t.error.errorCode),protocol_error:t.error.protocolError,status:t.error.status,properties:t.error.properties})}}throw we(ge,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){var t;this.logger.trace(this.platformAuthType+" - convertToNativeResponse called");return{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:null!==(t=e.extendedLifetimeToken)&&void 0!==t&&t,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return Wt({},Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return e[n]=String(r),e}),{}))}}async function Zu(e,t,n,r){e.trace("getPlatformAuthProvider called",n);const o=function(){let e;try{var t;return e=window[Ve],"true"===(null===(t=e)||void 0===t?void 0:t.getItem(Lt))}catch(n){return!1}}();let a;e.trace("Has client allowed platform auth via DOM API: "+o);try{o&&(a=await Xu.createProvider(e,t,n)),a||(e.trace("Platform auth via DOM API not available, checking for extension"),a=await $u.createProvider(e,r||2e3,t))}catch(i){e.trace("Platform auth not available",i)}return a}function ed(e,t,n,r){if(t.trace("isBrokerAvailable called"),!e.system.allowPlatformBroker)return t.trace("isBrokerAvailable: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return t.trace("isBrokerAvailable: Platform auth provider is not initialized, returning false"),!1;if(r)switch(r){case Y.BEARER:case Y.POP:return t.trace("isBrokerAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isBrokerAvailable: authenticationScheme is not supported, returning false"),!1}return!0}class td extends ku{constructor(e,t,n,r,o,a,i,s,l,c){super(e,t,n,r,o,a,i,l,c),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=s,this.eventHandler=o}acquireToken(e,t){try{var n;const r={popupName:this.generatePopupName(e.scopes||h,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:null!==(n=e.popupWindowParent)&&void 0!==n?n:window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r,t)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(e,r,t))}catch(r){return Promise.reject(r)}}logout(e){try{var t;this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(null===e||void 0===e?void 0:e.popupWindowAttributes)||{},popupWindowParent:null!==(t=null===e||void 0===e?void 0:e.popupWindowParent)&&void 0!==t?t:window},o=e&&e.authority,a=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,r,o,a)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(n,r,o,a))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,t,n){this.logger.verbose("acquireTokenPopupAsync called");const r=await $l(this.initializeAuthorizationRequest.bind(this),Wa,this.logger,this.performanceClient,this.correlationId)(e,vt.Popup);t.popup&&_l(r.authority);const o=ed(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return r.platformBroker=o,this.config.auth.protocolMode===En?this.executeEarFlow(r,t):this.executeCodeFlow(r,t,n)}async executeCodeFlow(e,t,n){const r=e.correlationId,o=this.initializeServerTelemetryManager(dt),a=n||await $l(Vu,Ni,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),i=Wt(Wt({},e),{},{codeChallenge:a.challenge});try{const n=await $l(this.createAuthCodeClient.bind(this),Ga,this.logger,this.performanceClient,r)({serverTelemetryManager:o,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),s=await $l(Hu,Va,this.logger,this.performanceClient,r)(this.config,n.authority,i,this.logger,this.performanceClient),l=this.initiateAuthRequest(s,t);this.eventHandler.emitEvent(mn,vt.Popup,{popupWindow:l},null);const c=await this.monitorPopupForHash(l,t.popupWindowParent),u=Jl(Tu,si,this.logger,this.performanceClient,this.correlationId)(c,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await $l(Ku,Za,this.logger,this.performanceClient,r)(e,u,a.verifier,dt,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}catch(l){var s;throw null===(s=t.popup)||void 0===s||s.close(),l instanceof be&&(l.setCorrelationId(this.correlationId),o.cacheFailedRequest(l)),l}}async executeEarFlow(e,t){const n=e.correlationId,r=await $l(this.getDiscoveredAuthority.bind(this),Sa,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=await $l(yl,Ui,this.logger,this.performanceClient,n)(),a=Wt(Wt({},e),{},{earJwk:o}),i=t.popup||this.openPopup("about:blank",t);(await Bu(i.document,this.config,r,a,this.logger,this.performanceClient)).submit();const s=await $l(this.monitorPopupForHash.bind(this),ja,this.logger,this.performanceClient,n)(i,t.popupWindowParent),l=Jl(Tu,si,this.logger,this.performanceClient,this.correlationId)(s,this.config.auth.OIDCOptions.serverResponseType,this.logger);return $l(Wu,Ya,this.logger,this.performanceClient,n)(a,l,dt,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,t,n,r){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(fn,vt.Popup,e);const o=this.initializeServerTelemetryManager(yt);try{await this.clearCacheOnLogout(e.account);const l=await $l(this.createAuthCodeClient.bind(this),Ga,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n,account:e.account||void 0});try{l.authority.endSessionEndpoint}catch(c){var a;if(null!==(a=e.account)&&void 0!==a&&a.homeAccountId&&e.postLogoutRedirectUri&&l.authority.protocolMode===Rn){var i,s;if(this.browserStorage.removeAccount(null===(i=e.account)||void 0===i?void 0:i.homeAccountId),this.eventHandler.emitEvent(gn,vt.Popup,e),r){const e={apiId:yt,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=Uo.getAbsoluteUrl(r,Al());await this.navigationClient.navigateInternal(t,e)}return void(null===(s=t.popup)||void 0===s||s.close())}}const u=l.getLogoutUri(e);this.eventHandler.emitEvent(gn,vt.Popup,e);const d=this.openPopup(u,t);if(this.eventHandler.emitEvent(mn,vt.Popup,{popupWindow:d},null),await this.monitorPopupForHash(d,t.popupWindowParent).catch((()=>{})),r){const e={apiId:yt,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=Uo.getAbsoluteUrl(r,Al());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: ".concat(t)),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(u){var l;throw null===(l=t.popup)||void 0===l||l.close(),u instanceof be&&(u.setCorrelationId(this.correlationId),o.cacheFailedRequest(u)),this.eventHandler.emitEvent(yn,vt.Popup,null,u),this.eventHandler.emitEvent(vn,vt.Popup),u}this.eventHandler.emitEvent(vn,vt.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii("Navigate to: ".concat(e)),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),Ws(Yi)}monitorPopupForHash(e,t){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(Ws(is));let o="";try{o=e.location.href}catch(s){}if(!o||"about:blank"===o)return;clearInterval(r);let a="";const i=this.config.auth.OIDCOptions.serverResponseType;e&&(a=i===O?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(a)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e,t)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii("Navigating popup window to: ".concat(e)),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii("Opening popup window to: ".concat(e)),n=this.openSizedPopup(e,t)),!n)throw Ws(as);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),Ws(os)}}openSizedPopup(e,t){var n,r,o,a;let{popupName:i,popupWindowAttributes:s,popupWindowParent:l}=t;const c=l.screenLeft?l.screenLeft:l.screenX,u=l.screenTop?l.screenTop:l.screenY,d=l.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,p=l.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let h=null===(n=s.popupSize)||void 0===n?void 0:n.width,m=null===(r=s.popupSize)||void 0===r?void 0:r.height,f=null===(o=s.popupPosition)||void 0===o?void 0:o.top,g=null===(a=s.popupPosition)||void 0===a?void 0:a.left;return(!h||h<0||h>d)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),h=Re),(!m||m<0||m>p)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),m=Ee),(!f||f<0||f>p)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),f=Math.max(0,p/2-Ee/2+u)),(!g||g<0||g>d)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),g=Math.max(0,d/2-Re/2+c)),l.open(e,i,"width=".concat(h,", height=").concat(m,", top=").concat(f,", left=").concat(g,", scrollbars=yes"))}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,t){return"".concat(Oe,".").concat(this.config.auth.clientId,".").concat(e.join("-"),".").concat(t,".").concat(this.correlationId)}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return"".concat(Oe,".").concat(this.config.auth.clientId,".").concat(t,".").concat(this.correlationId)}}class nd extends ku{constructor(e,t,n,r,o,a,i,s,l,c){super(e,t,n,r,o,a,i,l,c),this.nativeStorage=s}async acquireToken(e){const t=await $l(this.initializeAuthorizationRequest.bind(this),Wa,this.logger,this.performanceClient,this.correlationId)(e,vt.Redirect);t.platformBroker=ed(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const n=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(bn,vt.Redirect))},r=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii("Redirect start page: ".concat(r)),this.browserStorage.setTemporaryCache(Ze,r,!0),window.addEventListener("pageshow",n);try{this.config.auth.protocolMode===En?await this.executeEarFlow(t):await this.executeCodeFlow(t,e.onRedirectNavigate)}catch(o){throw o instanceof be&&o.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",n),o}}async executeCodeFlow(e,t){const n=e.correlationId,r=this.initializeServerTelemetryManager(ut),o=await $l(Vu,Ni,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),a=Wt(Wt({},e),{},{codeChallenge:o.challenge});this.browserStorage.cacheAuthorizeRequest(a,o.verifier);try{const n=await $l(this.createAuthCodeClient.bind(this),Ga,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),o=await $l(Hu,Va,this.logger,this.performanceClient,e.correlationId)(this.config,n.authority,a,this.logger,this.performanceClient);return await this.initiateAuthRequest(o,t)}catch(i){throw i instanceof be&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),i}}async executeEarFlow(e){const t=e.correlationId,n=await $l(this.getDiscoveredAuthority.bind(this),Sa,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await $l(yl,Ui,this.logger,this.performanceClient,t)(),o=Wt(Wt({},e),{},{earJwk:r});this.browserStorage.cacheAuthorizeRequest(o);(await Bu(document,this.config,n,o,this.logger,this.performanceClient)).submit()}async handleRedirectPromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const o=this.initializeServerTelemetryManager(ht);try{const[a,s]=this.getRedirectResponse(e||"");if(!a)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),"back_forward"!==function(){if("undefined"===typeof window||"undefined"===typeof window.performance||"function"!==typeof window.performance.getEntriesByType)return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return null===t||void 0===t?void 0:t.type}()?r.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const l=this.browserStorage.getTemporaryCache(Ze,!0)||i.EMPTY_STRING,c=Uo.removeHashFromUrl(l);if(c===Uo.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),l.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(l);return await this.handleResponse(a,t,n,o)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(a,t,n,o);if(!Il()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(et,s,!0);const e={apiId:ht,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let r=!0;if(l&&"null"!==l)this.logger.verbose("Navigating to loginRequestUrl: ".concat(l)),r=await this.navigationClient.navigateInternal(l,e);else{const t=function(){const e=new Uo(window.location.href).getUrlComponents();return"".concat(e.Protocol,"//").concat(e.HostNameAndPort,"/")}();this.browserStorage.setTemporaryCache(Ze,t,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),r=await this.navigationClient.navigateInternal(t,e)}if(!r)return await this.handleResponse(a,t,n,o)}return null}catch(a){throw a instanceof be&&(a.setCorrelationId(this.correlationId),o.cacheFailedRequest(a)),a}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===O?window.location.search:window.location.hash);let n=Lo(t);if(n){try{Iu(n,this.browserCrypto,vt.Redirect)}catch(o){return o instanceof be&&this.logger.error("Interaction type validation failed due to ".concat(o.errorCode,": ").concat(o.errorMessage)),[null,""]}return Tl(window),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}const r=this.browserStorage.getTemporaryCache(et,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(et)),r&&(n=Lo(r),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,r]):[null,""]}async handleResponse(e,t,n,r){if(!e.state)throw Ws(Zi);if(e.ear_jwe){const n=await $l(this.getDiscoveredAuthority.bind(this),Sa,this.logger,this.performanceClient,t.correlationId)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return $l(Wu,Ya,this.logger,this.performanceClient,t.correlationId)(t,e,ut,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const o=await $l(this.createAuthCodeClient.bind(this),Ga,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority});return $l(Ku,Za,this.logger,this.performanceClient,t.correlationId)(t,e,n,ut,this.config,o,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: ".concat(e));const n={apiId:ut,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},r=t||this.config.auth.onRedirectNavigate;if("function"===typeof r){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==r(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await this.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await this.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Ws(Yi)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(gt);try{this.eventHandler.emitEvent(fn,vt.Redirect,e),await this.clearCacheOnLogout(t.account);const i={apiId:gt,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=await $l(this.createAuthCodeClient.bind(this),Ga,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:null===e||void 0===e?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(s.authority.protocolMode===Rn)try{s.authority.endSessionEndpoint}catch(a){var r,o;if(null!==(r=t.account)&&void 0!==r&&r.homeAccountId)return this.browserStorage.removeAccount(null===(o=t.account)||void 0===o?void 0:o.homeAccountId),void this.eventHandler.emitEvent(gn,vt.Redirect,t)}const l=s.getLogoutUri(t);if(this.eventHandler.emitEvent(gn,vt.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Xe),void await this.navigationClient.navigateExternal(l,i);if(!1!==e.onRedirectNavigate(l))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Xe),void await this.navigationClient.navigateExternal(l,i);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(i){throw i instanceof be&&(i.setCorrelationId(this.correlationId),n.cacheFailedRequest(i)),this.eventHandler.emitEvent(yn,vt.Redirect,null,i),this.eventHandler.emitEvent(vn,vt.Redirect),i}this.eventHandler.emitEvent(vn,vt.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return Uo.getAbsoluteUrl(t,Al())}}async function rd(e,t,n,r,o){if(t.addQueueMeasurement(Fa,r),!e)throw n.info("Navigate url is empty"),Ws(Yi);return o?$l(id,Ha,n,t,r)(e,o,t,r):Jl(sd,Ba,n,t,r)(e)}async function od(e,t,n,r,o){const a=ld();if(!a.contentDocument)throw"No document associated with iframe!";return(await Bu(a.contentDocument,e,t,n,r,o)).submit(),a}async function ad(e,t,n,r,o,a,i){return r.addQueueMeasurement(ja,a),new Promise(((r,a)=>{t<xl&&o.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower (".concat(t,"ms) than the default (").concat(xl,"ms). This may result in timeouts."));const s=window.setTimeout((()=>{window.clearInterval(l),a(Ws(ls))}),t),l=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(a){}if(!t||"about:blank"===t)return;let o="";n&&(o=i===O?n.location.search:n.location.hash),window.clearTimeout(s),window.clearInterval(l),r(o)}),n)})).finally((()=>{Jl(cd,Ci,o,r,a)(e)}))}function id(e,t,n,r){return n.addQueueMeasurement(Ha,r),new Promise(((n,r)=>{const o=ld();window.setTimeout((()=>{o?(o.src=e,n(o)):r("Unable to load iframe")}),t)}))}function sd(e){const t=ld();return t.src=e,t}function ld(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function cd(e){document.body===e.parentNode&&document.body.removeChild(e)}class ud extends ku{constructor(e,t,n,r,o,a,i,s,l,c,u){super(e,t,n,r,o,a,s,c,u),this.apiId=i,this.nativeStorage=l}async acquireToken(e){this.performanceClient.addQueueMeasurement(ya,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t=Wt({},e);t.prompt?t.prompt!==A.NONE&&t.prompt!==A.NO_SESSION&&(this.logger.warning("SilentIframeClient. Replacing invalid prompt ".concat(t.prompt," with ").concat(A.NONE)),t.prompt=A.NONE):t.prompt=A.NONE;const n=await $l(this.initializeAuthorizationRequest.bind(this),Wa,this.logger,this.performanceClient,e.correlationId)(t,vt.Silent);return n.platformBroker=ed(this.config,this.logger,this.platformAuthProvider,n.authenticationScheme),_l(n.authority),this.config.auth.protocolMode===En?this.executeEarFlow(n):this.executeCodeFlow(n)}async executeCodeFlow(e){let t;const n=this.initializeServerTelemetryManager(this.apiId);try{return t=await $l(this.createAuthCodeClient.bind(this),Ga,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await $l(this.silentTokenHelper.bind(this),Ua,this.logger,this.performanceClient,e.correlationId)(t,e)}catch(r){if(r instanceof be&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),!t||!(r instanceof be)||r.errorCode!==Ne)throw r;return this.performanceClient.addFields({retryError:r.errorCode},this.correlationId),await $l(this.silentTokenHelper.bind(this),Ua,this.logger,this.performanceClient,this.correlationId)(t,e)}}async executeEarFlow(e){const t=e.correlationId,n=await $l(this.getDiscoveredAuthority.bind(this),Sa,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await $l(yl,Ui,this.logger,this.performanceClient,t)(),o=Wt(Wt({},e),{},{earJwk:r}),a=await $l(od,Fa,this.logger,this.performanceClient,t)(this.config,n,o,this.logger,this.performanceClient),i=this.config.auth.OIDCOptions.serverResponseType,s=await $l(ad,ja,this.logger,this.performanceClient,t)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,t,i),l=Jl(Tu,si,this.logger,this.performanceClient,t)(s,i,this.logger);return $l(Wu,Ya,this.logger,this.performanceClient,t)(o,l,this.apiId,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(Ws(hs))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(Ua,n);const r=await $l(Vu,Ni,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),o=Wt(Wt({},t),{},{codeChallenge:r.challenge}),a=await $l(Hu,Va,this.logger,this.performanceClient,n)(this.config,e.authority,o,this.logger,this.performanceClient),i=await $l(rd,Fa,this.logger,this.performanceClient,n)(a,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),s=this.config.auth.OIDCOptions.serverResponseType,l=await $l(ad,ja,this.logger,this.performanceClient,n)(i,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,s),c=Jl(Tu,si,this.logger,this.performanceClient,n)(l,s,this.logger);return $l(Ku,Za,this.logger,this.performanceClient,n)(t,c,r.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}class dd extends cu{constructor(e,t){super(e,t)}async acquireToken(e){var t,n;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Aa,e.correlationId);const r=Er(),o=await $l(this.executeTokenRequest.bind(this),Ia,this.logger,this.performanceClient,e.correlationId)(e,this.authority),a=null===(n=o.headers)||void 0===n?void 0:n[b],i=new mu(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(o.body),$l(i.handleServerTokenResponse.bind(i),ii,this.logger,this.performanceClient,e.correlationId)(o.body,this.authority,r,e,void 0,void 0,!0,e.forceCache,a)}async acquireTokenByRefreshToken(e){var t;if(!e)throw bo(no);if(null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Ra,e.correlationId),!e.account)throw kr(nr);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await $l(this.acquireTokenWithCachedRefreshToken.bind(this),Na,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(n){const t=n instanceof sc&&n.errorCode===ec,r=n instanceof su&&n.errorCode===ne&&n.subError===re;if(t||r)return $l(this.acquireTokenWithCachedRefreshToken.bind(this),Na,this.logger,this.performanceClient,e.correlationId)(e,!1);throw n}return $l(this.acquireTokenWithCachedRefreshToken.bind(this),Na,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Na,e.correlationId);const r=Jl(this.cacheManager.getRefreshToken.bind(this.cacheManager),ki,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!r)throw cc(ec);var o;if(r.expiresOn&&_r(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw null===(o=this.performanceClient)||void 0===o||o.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),cc(nc);const a=Wt(Wt({},e),{},{refreshToken:r.secret,authenticationScheme:e.authenticationScheme||Y.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Pc}});try{return await $l(this.acquireToken.bind(this),Aa,this.logger,this.performanceClient,e.correlationId)(a)}catch(s){var i;if(s instanceof sc)if(null===(i=this.performanceClient)||void 0===i||i.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),s.subError===rc){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=xr(r);this.cacheManager.removeRefreshToken(e)}throw s}}async executeTokenRequest(e,t){var n;null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Ia,e.correlationId);const r=this.createTokenQueryParameters(e),o=Uo.appendQueryString(t.tokenEndpoint,r),a=await $l(this.createTokenRequestBody.bind(this),Ea,this.logger,this.performanceClient,e.correlationId)(e),i=this.createTokenRequestHeaders(e.ccsCredential),s=uc(this.config.authOptions.clientId,e);return $l(this.executePostToTokenEndpoint.bind(this),ka,this.logger,this.performanceClient,e.correlationId)(o,a,i,s,e.correlationId,ka)}async createTokenRequestBody(e){var t,n,r;null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(Ea,e.correlationId);const o=new Map;if(Lc(o,e.embeddedClientId||(null===(n=e.tokenBodyParameters)||void 0===n?void 0:n[Tc])||this.config.authOptions.clientId),e.redirectUri&&Dc(o,e.redirectUri),qc(o,e.scopes,!0,null===(r=this.config.authOptions.authority.options.OIDCOptions)||void 0===r?void 0:r.defaultScopes),Yc(o,z),Xc(o),Kc(o,this.config.libraryInfo),Wc(o,this.config.telemetry.application),ou(o),this.serverTelemetryManager&&!aa(this.config)&&ru(o,this.serverTelemetryManager),function(e,t){e.set("refresh_token",t)}(o,e.refreshToken),this.config.clientCredentials.clientSecret&&Qc(o,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;Jc(o,await yu(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),$c(o,t.assertionType)}if(e.authenticationScheme===Y.POP){const t=new pu(this.cryptoUtils,this.performanceClient);let n;if(e.popKid)n=this.cryptoUtils.encodeKid(e.popKid);else{n=(await $l(t.generateCnf.bind(t),oi,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}tu(o,n)}else if(e.authenticationScheme===Y.SSH){if(!e.sshJwk)throw bo(co);nu(o,e.sshJwk)}if((!wo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Bc(o,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Pc:try{jc(o,Po(e.ccsCredential.credential))}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case kc:Fc(o,e.ccsCredential.credential)}return e.embeddedClientId&&au(o,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&eu(o,e.tokenBodyParameters),xc(o,e.correlationId,this.performanceClient),Do(o)}}class pd extends ku{async acquireToken(e){this.performanceClient.addQueueMeasurement(ba,e.correlationId);const t=await $l(Cu,za,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n=Wt(Wt({},e),t);e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(ft),o=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return $l(o.acquireTokenByRefreshToken.bind(o),Ra,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject(Ws(hs))}async createRefreshTokenClient(e){const t=await $l(this.getClientConfiguration.bind(this),Ka,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new dd(t,this.performanceClient)}}class hd{constructor(e,t,n,r){this.isBrowserEnvironment="undefined"!==typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}async loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw Ws(ws);const r=e.correlationId||fl(),o=t.id_token?Nr(t.id_token,el):void 0,a={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=e.authority?new Xl(Xl.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,a,this.logger,e.correlationId||fl()):void 0,s=await this.loadAccount(e,n.clientInfo||t.client_info||"",r,o,i),l=await this.loadIdToken(t,s.homeAccountId,s.environment,s.realm,r),c=await this.loadAccessToken(e,t,s.homeAccountId,s.environment,s.realm,n,r),u=await this.loadRefreshToken(t,s.homeAccountId,s.environment,r);return this.generateAuthenticationResult(e,{account:s,idToken:l,accessToken:c,refreshToken:u},o,i)}async loadAccount(e,t,n,r,o){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=zo.createFromAccountInfo(e.account);return await this.storage.setAccount(t,n),t}if(!o||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),Ws(Is);const a=zo.generateHomeAccountId(t,o.authorityType,this.logger,this.cryptoObj,r),i=null===r||void 0===r?void 0:r.tid,s=fu(this.storage,o,a,el,r,t,o.hostnameAndPort,i,void 0,void 0,this.logger);return await this.storage.setAccount(s,n),s}async loadIdToken(e,t,n,r,o){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const a=zr(t,n,e.id_token,this.config.auth.clientId,r);return await this.storage.setIdTokenCredential(a,o),a}async loadAccessToken(e,t,n,r,o,a,i){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const s=t.scope?So.fromString(t.scope):new So(e.scopes),l=a.expiresOn||t.expires_in+Er(),c=a.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+Er(),u=qr(n,r,t.access_token,this.config.auth.clientId,o,s.printScopes(),l,c,el);return await this.storage.setAccessTokenCredential(u,i),u}async loadRefreshToken(e,t,n,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const o=Lr(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(o,r),o}generateAuthenticationResult(e,t,n,r){var o,a,i;let s,l="",c=[],u=null;null!==t&&void 0!==t&&t.accessToken&&(l=t.accessToken.secret,c=So.fromString(t.accessToken.target).asArray(),u=Mr(t.accessToken.expiresOn),s=Mr(t.accessToken.extendedExpiresOn));const d=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:c,account:d.getAccountInfo(),idToken:(null===(o=t.idToken)||void 0===o?void 0:o.secret)||"",idTokenClaims:n||{},accessToken:l,fromCache:!0,expiresOn:u,correlationId:e.correlationId||"",requestId:"",extExpiresOn:s,familyId:(null===(a=t.refreshToken)||void 0===a?void 0:a.familyId)||"",tokenType:(null===t||void 0===t||null===(i=t.accessToken)||void 0===i?void 0:i.tokenType)||"",state:e.state||"",cloudGraphHostName:d.cloudGraphHostName||"",msGraphHost:d.msGraphHost||"",fromNativeBroker:!1}}}class md extends vu{constructor(e){super(e),this.includeRedirectUri=!1}}class fd extends ku{constructor(e,t,n,r,o,a,i,s,l,c){super(e,t,n,r,o,a,s,l,c),this.apiId=i}async acquireToken(e){if(!e.code)throw Ws(Ns);const t=await $l(this.initializeAuthorizationRequest.bind(this),Wa,this.logger,this.performanceClient,e.correlationId)(e,vt.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r=Wt(Wt({},t),{},{code:e.code}),o=await $l(this.getClientConfiguration.bind(this),Ka,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),a=new md(o);this.logger.verbose("Auth code client created");const i=new Eu(a,this.browserStorage,r,this.logger,this.performanceClient);return await $l(i.handleCodeResponseFromServer.bind(i),Ja,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(r){throw r instanceof be&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),r}}logout(){return Promise.reject(Ws(hs))}}function gd(e){const t=null===e||void 0===e?void 0:e.idTokenClaims;return null!==t&&void 0!==t&&t.tfp||null!==t&&void 0!==t&&t.acr?"B2C":null!==t&&void 0!==t&&t.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===(null===t||void 0===t?void 0:t.tid)?"MSA":"AAD":void 0}function yd(e,t){try{Ol(e)}catch(n){throw t.end({success:!1},n),n}}class vd{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Vl(this.logger,this.performanceClient):Tr,this.eventHandler=new Cc(this.logger),this.browserStorage=this.isBrowserEnvironment?new wc(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(r){throw bo(io)}return{canonicalAuthority:e.authority?Zl(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth)):((e,t,n,r)=>new wc(e,{cacheLocation:Qe,temporaryCacheLocation:Qe,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},Tr,t,n,r))(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const t={cacheLocation:Qe,temporaryCacheLocation:Qe,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new wc(this.config.auth.clientId,t,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new hd(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const n=new vd(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,t){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");if(!this.isBrowserEnvironment)return this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,void this.eventHandler.emitEvent(Qt);const n=(null===e||void 0===e?void 0:e.correlationId)||this.getRequestCorrelationId(),r=this.config.system.allowPlatformBroker,o=this.performanceClient.startMeasurement(La,n);if(this.eventHandler.emitEvent(Vt),!t)try{this.logMultipleInstances(o)}catch(a){}if(await $l(this.browserStorage.initialize.bind(this.browserStorage),Da,this.logger,this.performanceClient,n)(n),r)try{this.platformAuthProvider=await Zu(this.logger,this.performanceClient,n,this.config.system.nativeBrokerHandshakeTimeout)}catch(i){this.logger.verbose(i)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await $l(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),Pi,this.logger,this.performanceClient,n)(this.performanceClient,n)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n),this.initialized=!0,this.eventHandler.emitEvent(Qt),o.end({allowPlatformBroker:r,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),El(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){var t;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if((null===(t=this.browserStorage.getInteractionInProgress())||void 0===t?void 0:t.type)===Xe)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const n=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),o=r&&this.platformAuthProvider&&!e;let a,i;this.eventHandler.emitEvent(pn,vt.Redirect);try{if(o&&this.platformAuthProvider){a=this.performanceClient.startMeasurement(ha,(null===r||void 0===r?void 0:r.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform");const e=new Fu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ht,this.performanceClient,this.platformAuthProvider,r.accountId,this.nativeInternalStorage,r.correlationId);i=$l(e.handleRedirectPromise.bind(e),wi,this.logger,this.performanceClient,a.event.correlationId)(this.performanceClient,a.event.correlationId)}else{const[t,n]=this.browserStorage.getCachedRequest(),r=t.correlationId;a=this.performanceClient.startMeasurement(ha,r),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const o=this.createRedirectClient(r);i=$l(o.handleRedirectPromise.bind(o),bi,this.logger,this.performanceClient,a.event.correlationId)(e,t,n,a)}}catch(s){throw this.browserStorage.resetRequestCache(),s}return i.then((e=>{if(e){this.browserStorage.resetRequestCache();n.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(Zt,vt.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(nn,vt.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),a.end({success:!0,accountType:gd(e.account)})}else a.event.errorCode?a.end({success:!1}):a.discard();return this.eventHandler.emitEvent(hn,vt.Redirect),e})).catch((e=>{this.browserStorage.resetRequestCache();const t=e;throw n.length>0?this.eventHandler.emitEvent(rn,vt.Redirect,null,t):this.eventHandler.emitEvent(en,vt.Redirect,null,t),this.eventHandler.emitEvent(hn,vt.Redirect),a.end({success:!1},t),e}))}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(pa,t);n.add({accountType:gd(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return!1!==t?n.end({success:!0}):n.discard(),t};else{const e=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=t=>{const r="function"===typeof e?e(t):void 0;return!1!==r?n.end({success:!0}):n.discard(),r}}const o=this.getAllAccounts().length>0;try{let r;if(Ml(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Ye),o?this.eventHandler.emitEvent(tn,vt.Redirect,e):this.eventHandler.emitEvent(Xt,vt.Redirect,e),this.platformAuthProvider&&this.canUsePlatformBroker(e)){r=new Fu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ut,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch((n=>{if(n instanceof _u&&xu(n)){this.platformAuthProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof sc){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(a){throw this.browserStorage.resetRequestCache(),n.end({success:!1},a),o?this.eventHandler.emitEvent(rn,vt.Redirect,null,a):this.eventHandler.emitEvent(en,vt.Redirect,null,a),a}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(da,t);n.add({scenarioId:e.scenarioId,accountType:gd(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),yd(this.initialized,n),this.browserStorage.setInteractionInProgress(!0,Ye)}catch(i){return Promise.reject(i)}const r=this.getAllAccounts();let o;r.length>0?this.eventHandler.emitEvent(tn,vt.Popup,e):this.eventHandler.emitEvent(Xt,vt.Popup,e);const a=this.getPreGeneratedPkceCodes(t);if(this.canUsePlatformBroker(e))o=this.acquireTokenNative(Wt(Wt({},e),{},{correlationId:t}),dt).then((e=>(n.end({success:!0,isNativeBroker:!0,accountType:gd(e.account)}),e))).catch((n=>{if(n instanceof _u&&xu(n)){this.platformAuthProvider=void 0;return this.createPopupClient(t).acquireToken(e,a)}if(n instanceof sc){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e,a)}throw n}));else{o=this.createPopupClient(t).acquireToken(e,a)}return o.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(Zt,vt.Popup,e):this.eventHandler.emitEvent(nn,vt.Popup,e),n.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:gd(e.account)}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent(rn,vt.Popup,null,e):this.eventHandler.emitEvent(en,vt.Popup,null,e),n.end({success:!1},e),Promise.reject(e)))).finally((async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t)}))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var t,n;const r=this.getRequestCorrelationId(e),o=Wt(Wt({},e),{},{prompt:e.prompt,correlationId:r});let a;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(wa,r),null===(t=this.ssoSilentMeasurement)||void 0===t||t.add({scenarioId:e.scenarioId,accountType:gd(e.account)}),yd(this.initialized,this.ssoSilentMeasurement),null===(n=this.ssoSilentMeasurement)||void 0===n||n.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",r),this.eventHandler.emitEvent(an,vt.Silent,o),this.canUsePlatformBroker(o))a=this.acquireTokenNative(o,pt).catch((e=>{if(e instanceof _u&&xu(e)){this.platformAuthProvider=void 0;return this.createSilentIframeClient(o.correlationId).acquireToken(o)}throw e}));else{a=this.createSilentIframeClient(o.correlationId).acquireToken(o)}return a.then((e=>{var t;return this.eventHandler.emitEvent(sn,vt.Silent,e),null===(t=this.ssoSilentMeasurement)||void 0===t||t.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:gd(e.account)}),e})).catch((e=>{var t;throw this.eventHandler.emitEvent(ln,vt.Silent,null,e),null===(t=this.ssoSilentMeasurement)||void 0===t||t.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(sa,t);yd(this.initialized,n),this.eventHandler.emitEvent(cn,vt.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw Ws(Es);if(e.code){const r=e.code;let o=this.hybridAuthCodeResponses.get(r);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync(Wt(Wt({},e),{},{correlationId:t})).then((e=>(this.eventHandler.emitEvent(un,vt.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:gd(e.account)}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(dn,vt.Silent,null,e),n.end({success:!1},e),e})),this.hybridAuthCodeResponses.set(r,o)),await o}if(e.nativeAccountId){if(this.canUsePlatformBroker(e,e.nativeAccountId)){const r=await this.acquireTokenNative(Wt(Wt({},e),{},{correlationId:t}),mt,e.nativeAccountId).catch((e=>{throw e instanceof _u&&xu(e)&&(this.platformAuthProvider=void 0),e}));return n.end({accountType:gd(r.account),success:!0}),r}throw Ws(Ms)}throw Ws(Rs)}catch(r){throw this.eventHandler.emitEvent(dn,vt.Silent,null,r),n.end({success:!1},r),r}}async acquireTokenByCodeAsync(e){var t;this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(vi,e.correlationId),null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const n=this.createSilentAuthCodeClient(e.correlationId);return await n.acquireToken(e).then((e=>{var t;return null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker}),e})).catch((e=>{var t;throw null===(t=this.acquireTokenByCodeAsyncMeasurement)||void 0===t||t.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(Oa,e.correlationId),t){case Et:case Ot:case Mt:const t=this.createSilentCacheClient(e.correlationId);return $l(t.acquireToken.bind(t),ga,this.logger,this.performanceClient,e.correlationId)(e);default:throw kr(ur)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(la,e.correlationId),t){case Et:case Mt:case _t:case xt:const t=this.createSilentRefreshClient(e.correlationId);return $l(t.acquireToken.bind(t),ba,this.logger,this.performanceClient,e.correlationId)(e);default:throw kr(ur)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(xa,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return $l(t.acquireToken.bind(t),ya,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect(Wt({correlationId:t},e))}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);Ml(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Xe);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);Ol(this.initialized),this.browserStorage.setInteractionInProgress(!0,Xe);return this.createPopupClient(t).logout(e).finally((()=>{this.browserStorage.setInteractionInProgress(!1)}))}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment)return void this.logger.info("in non-browser environment, returning early.");const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return function(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function(e,t,n){if(t.trace("getAccount called"),0===Object.keys(e).length)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii("getAccountByUsername: Returning signed-in accounts matching username: ".concat(e)),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii("getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ".concat(e)),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii("getAccountByLocalId: Returning signed-in accounts matching localAccountId: ".concat(e)),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function(e,t){t.setActiveAccount(e)}(e,this.browserStorage)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=zo.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(n,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n,r){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw Ws(zs);return new Fu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.platformAuthProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,r)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!ed(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case A.NONE:case A.CONSENT:case A.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace("canUsePlatformBroker: prompt = ".concat(e.prompt," is not compatible with platform broker flow, returning false")),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new td(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new nd(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new ud(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,pt,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new Lu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new pd(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new fd(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,mt,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return Rl(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.config.cache.cacheLocation===We?this.eventHandler.subscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}disableAccountStorageEvents(){this.config.cache.cacheLocation===We?this.eventHandler.unsubscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return null!==e&&void 0!==e&&e.correlationId?e.correlationId:this.isBrowserEnvironment?fl():i.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect(Wt({correlationId:t},e||It))}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup(Wt({correlationId:t},e||It))}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(ca,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),yd(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw Ws(ms);return n.add({accountType:gd(r)}),this.acquireTokenSilentDeduped(e,r,t).then((r=>(n.end({success:!0,fromCache:r.fromCache,isNativeBroker:r.fromNativeBroker,accessTokenSize:r.accessToken.length,idTokenSize:r.idToken.length}),Wt(Wt({},r),{},{state:e.state,correlationId:t})))).catch((e=>{throw e instanceof be&&e.setCorrelationId(t),n.end({success:!1},e),e}))}async acquireTokenSilentDeduped(e,t,n){const r=uc(this.config.auth.clientId,Wt(Wt({},e),{},{authority:e.authority||this.config.auth.authority,correlationId:n}),t.homeAccountId),o=JSON.stringify(r),a=this.activeSilentTokenRequests.get(o);if("undefined"===typeof a){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",n),this.performanceClient.addFields({deduped:!1},n);const r=$l(this.acquireTokenSilentAsync.bind(this),ua,this.logger,this.performanceClient,n)(Wt(Wt({},e),{},{correlationId:n}),t);return this.activeSilentTokenRequests.set(o,r),r.finally((()=>{this.activeSilentTokenRequests.delete(o)}))}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",n),this.performanceClient.addFields({deduped:!0},n),a}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(ua,e.correlationId),this.eventHandler.emitEvent(tn,vt.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await $l(Pu,qa,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||Et;return this.acquireTokenSilentNoIframe(r,o).catch((async e=>{const t=function(e,t){const n=!(e instanceof sc&&e.subError!==rc),r=e.errorCode===Ne||e.errorCode===ur,o=n&&r||e.errorCode===ec||e.errorCode===nc,a=qt.includes(t);return o&&a}(e,o);if(t){if(this.activeIframeRequest){if(o!==zt){const[t,n]=this.activeIframeRequest;this.logger.verbose("Iframe request is already in progress, awaiting resolution for request with correlationId: ".concat(n),r.correlationId);const a=this.performanceClient.startMeasurement(va,r.correlationId);a.add({awaitIframeCorrelationId:n});const i=await t;if(a.end({success:i}),i)return this.logger.verbose("Parallel iframe request with correlationId: ".concat(n," succeeded. Retrying cache and/or RT redemption"),r.correlationId),this.acquireTokenSilentNoIframe(r,o);throw this.logger.info("Iframe request with correlationId: ".concat(n," failed. Interaction is required.")),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),$l(this.acquireTokenBySilentIframe.bind(this),xa,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise((t=>{e=t})),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),$l(this.acquireTokenBySilentIframe.bind(this),xa,this.logger,this.performanceClient,r.correlationId)(r).then((t=>(e(!0),t))).catch((t=>{throw e(!1),t})).finally((()=>{this.activeIframeRequest=void 0}))}}throw e})).then((t=>(this.eventHandler.emitEvent(nn,vt.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker},e.correlationId),t))).catch((e=>{throw this.eventHandler.emitEvent(rn,vt.Silent,null,e),e})).finally((()=>{document.removeEventListener("visibilitychange",n)}))}async acquireTokenSilentNoIframe(e,t){return ed(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,ft,e.account.nativeAccountId,t).catch((async e=>{if(e instanceof _u&&xu(e))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,kr(ur);throw e}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),t===Ot&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),$l(this.acquireTokenFromCache.bind(this),Oa,this.logger,this.performanceClient,e.correlationId)(e,t).catch((n=>{if(t===Ot)throw n;return this.eventHandler.emitEvent(on,vt.Silent,e),$l(this.acquireTokenByRefreshToken.bind(this),la,this.logger,this.performanceClient,e.correlationId)(e,t)})))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await $l(Vu,Ni,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const t=this.pkceCode?Wt({},this.pkceCode):void 0;return this.pkceCode=void 0,this.logger.verbose("".concat(t?"Found":"Did not find"," pre-generated PKCE codes")),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}logMultipleInstances(e){const t=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[];window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(t),function(e,t,n){var r;const o=(null===(r=window.msal)||void 0===r?void 0:r.clientIds)||[],a=o.length,i=o.filter((t=>t===e)).length;i>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),t.add({msalInstanceCount:a,sameClientIdInstanceCount:i})}(t,e,this.logger)}}class bd{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new Ll(e);return await n.initialize(),vd.createController(n,t)}(e);return new bd(e,t)}constructor(e,t){this.isBroker=!1,this.controller=t||new vd(new Ll(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}const wd={auth:{clientId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AZURE_CLIENT_ID||"",authority:"https://login.microsoftonline.com/".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AZURE_TENANT_ID||"common"),redirectUri:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AZURE_REDIRECT_URI||window.location.origin},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}},Sd={scopes:["https://management.azure.com/user_impersonation","User.Read"]};var Cd=n(812);const Pd=e=>{let{onTemplateFileChange:t,onParametersFileChange:n,templateFile:r,parametersFile:o}=e;return(0,Cd.jsxs)("div",{className:"file-upload-container",children:[(0,Cd.jsx)("h3",{children:"\ud83d\udcc1 Upload ARM Template Files"}),(0,Cd.jsxs)("div",{className:"file-input-group",children:[(0,Cd.jsx)("label",{htmlFor:"template-file",className:"file-label",children:"\ud83d\udcc4 ARM Template (.json)"}),(0,Cd.jsx)("input",{id:"template-file",type:"file",accept:".json",onChange:e=>{var n;const r=(null===(n=e.target.files)||void 0===n?void 0:n[0])||null;t(r)},className:"file-input"}),r&&(0,Cd.jsxs)("div",{className:"file-selected",children:["\u2705 ",r.name]})]}),(0,Cd.jsxs)("div",{className:"file-input-group",children:[(0,Cd.jsx)("label",{htmlFor:"parameters-file",className:"file-label",children:"\u2699\ufe0f Parameters File (.json)"}),(0,Cd.jsx)("input",{id:"parameters-file",type:"file",accept:".json",onChange:e=>{var t;const r=(null===(t=e.target.files)||void 0===t?void 0:t[0])||null;n(r)},className:"file-input"}),o&&(0,Cd.jsxs)("div",{className:"file-selected",children:["\u2705 ",o.name]})]})]})},kd=e=>{let{state:t,message:n,deploymentName:r,resourceGroup:o}=e;return(()=>{switch(t){case"idle":default:return null;case"running":return(0,Cd.jsxs)("div",{className:"status-container status-running",children:[(0,Cd.jsx)("div",{className:"spinner"}),(0,Cd.jsxs)("div",{className:"status-content",children:[(0,Cd.jsx)("h3",{children:"\ud83d\ude80 Deployment in Progress"}),(0,Cd.jsxs)("p",{children:["Deploying to resource group: ",(0,Cd.jsx)("strong",{children:o})]}),(0,Cd.jsxs)("p",{children:["Deployment name: ",(0,Cd.jsx)("strong",{children:r})]}),(0,Cd.jsx)("p",{children:"Please wait while we deploy your resources..."})]})]});case"success":return(0,Cd.jsx)("div",{className:"status-container status-success",children:(0,Cd.jsxs)("div",{className:"status-content",children:[(0,Cd.jsx)("h3",{children:"\ud83c\udf89 Deployment Successful! \u2728"}),(0,Cd.jsx)("p",{children:"\ud83c\udf8a Your Azure resources have been deployed successfully! \ud83c\udf8a"}),(0,Cd.jsxs)("p",{children:["Resource Group: ",(0,Cd.jsx)("strong",{children:o})]}),(0,Cd.jsxs)("p",{children:["Deployment: ",(0,Cd.jsx)("strong",{children:r})]}),n&&(0,Cd.jsx)("p",{className:"success-message",children:n})]})});case"error":return(0,Cd.jsx)("div",{className:"status-container status-error",children:(0,Cd.jsxs)("div",{className:"status-content",children:[(0,Cd.jsx)("h3",{children:"\ud83d\uded1 Deployment Failed"}),(0,Cd.jsx)("p",{children:"\u274c There was an error deploying your resources."}),(0,Cd.jsxs)("p",{children:["Resource Group: ",(0,Cd.jsx)("strong",{children:o})]}),(0,Cd.jsxs)("p",{children:["Deployment: ",(0,Cd.jsx)("strong",{children:r})]}),n&&(0,Cd.jsxs)("div",{className:"error-message",children:[(0,Cd.jsx)("strong",{children:"Error Details:"}),(0,Cd.jsx)("pre",{children:n})]})]})})}})()},Td=()=>{const{instance:e,accounts:t}=An(),n=()=>{e.logoutPopup().catch((e=>{console.error(e)}))};return t.length>0?(0,Cd.jsxs)("div",{className:"auth-container",children:[(0,Cd.jsx)("div",{className:"user-info",children:(0,Cd.jsxs)("span",{children:["\ud83d\udc4b Hello, ",t[0].name||t[0].username]})}),(0,Cd.jsx)("button",{onClick:n,className:"auth-button logout-button",children:"\ud83d\udeaa Sign Out"})]}):(0,Cd.jsx)("div",{className:"auth-container",children:(0,Cd.jsx)("button",{onClick:()=>{e.loginPopup(Sd).catch((e=>{console.error(e)}))},className:"auth-button login-button",children:"\ud83d\udd10 Sign in with Microsoft"})})},Id=new WeakMap;function Ad(e,t){var n;if("object"!==typeof e||null===e||!t)return;const r=null!==(n=Id.get(e))&&void 0!==n?n:{};r.continuationToken=t,Id.set(e,r)}var Nd,Rd,Ed,Od,Md,_d,xd,zd,qd,Ld,Dd;function Ud(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}function Fd(e){const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}!function(e){e.String="String",e.Int="Int",e.Bool="Bool",e.Array="Array",e.Object="Object",e.SecureString="SecureString",e.SecureObject="SecureObject"}(Nd||(Nd={})),function(e){e.NotSpecified="NotSpecified",e.Outer="Outer",e.Inner="Inner"}(Rd||(Rd={})),function(e){e.Template="Template",e.Provider="Provider",e.ProviderNoRbac="ProviderNoRbac"}(Ed||(Ed={})),function(e){e.NotSpecified="NotSpecified",e.Accepted="Accepted",e.Running="Running",e.Ready="Ready",e.Creating="Creating",e.Created="Created",e.Deleting="Deleting",e.Deleted="Deleted",e.Canceled="Canceled",e.Failed="Failed",e.Succeeded="Succeeded",e.Updating="Updating"}(Od||(Od={})),function(e){e.NotSpecified="NotSpecified",e.Any="Any",e.String="String",e.Object="Object",e.Array="Array",e.Integer="Integer",e.Number="Number",e.Boolean="Boolean"}(Md||(Md={})),function(e){e.None="None",e.Modifiable="Modifiable"}(_d||(_d={})),function(e){e.NotSpecified="NotSpecified",e.Required="Required",e.NotRequired="NotRequired",e.Consented="Consented"}(xd||(xd={})),function(e){e.Warning="Warning",e.Info="Info",e.Error="Error"}(zd||(zd={})),function(e){e.EdgeZone="EdgeZone"}(qd||(qd={})),function(e){e.Json="Json",e.Bicep="Bicep"}(Ld||(Ld={})),function(e){e.Replace="Replace",e.Merge="Merge",e.Delete="Delete"}(Dd||(Dd={}));const jd="$",Hd="_";const Bd=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;const Gd=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;function Kd(e,t){var n,r;const o=e.parsedHeaders;if("HEAD"===e.request.method)return Object.assign(Object.assign({},o),{body:e.parsedBody});const a=t&&t.bodyMapper,i=Boolean(null===a||void 0===a?void 0:a.nullable),s=null===a||void 0===a?void 0:a.type.name;if("Stream"===s)return Object.assign(Object.assign({},o),{blobBody:e.blobBody,readableStreamBody:e.readableStreamBody});const l="Composite"===s&&a.type.modelProperties||{},c=Object.keys(l).some((e=>""===l[e].serializedName));if("Sequence"===s||c){const t=null!==(n=e.parsedBody)&&void 0!==n?n:[];for(const n of Object.keys(l))l[n].serializedName&&(t[n]=null===(r=e.parsedBody)||void 0===r?void 0:r[n]);if(o)for(const e of Object.keys(o))t[e]=o[e];return!i||e.parsedBody||o||0!==Object.getOwnPropertyNames(l).length?t:null}return function(e){const t=Object.assign(Object.assign({},e.headers),e.body);return e.hasNullableType&&0===Object.getOwnPropertyNames(t).length?e.shouldWrapBody?{body:null}:null:e.shouldWrapBody?Object.assign(Object.assign({},e.headers),{body:e.body}):t}({body:e.parsedBody,headers:o,hasNullableType:i,shouldWrapBody:(u=e.parsedBody,d=s,"Composite"!==d&&"Dictionary"!==d&&("string"===typeof u||"number"===typeof u||"boolean"===typeof u||null!==(null===d||void 0===d?void 0:d.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i))||void 0===u||null===u))});var u,d}class Wd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.modelMappers=e,this.isXML=t}validateConstraints(e,t,n){const r=(e,r)=>{throw new Error('"'.concat(n,'" with value "').concat(t,'" should satisfy the constraint "').concat(e,'": ').concat(r,"."))};if(e.constraints&&void 0!==t&&null!==t){const{ExclusiveMaximum:n,ExclusiveMinimum:o,InclusiveMaximum:a,InclusiveMinimum:i,MaxItems:s,MaxLength:l,MinItems:c,MinLength:u,MultipleOf:d,Pattern:p,UniqueItems:h}=e.constraints;if(void 0!==n&&t>=n&&r("ExclusiveMaximum",n),void 0!==o&&t<=o&&r("ExclusiveMinimum",o),void 0!==a&&t>a&&r("InclusiveMaximum",a),void 0!==i&&t<i&&r("InclusiveMinimum",i),void 0!==s&&t.length>s&&r("MaxItems",s),void 0!==l&&t.length>l&&r("MaxLength",l),void 0!==c&&t.length<c&&r("MinItems",c),void 0!==u&&t.length<u&&r("MinLength",u),void 0!==d&&t%d!==0&&r("MultipleOf",d),p){const e="string"===typeof p?new RegExp(p):p;"string"===typeof t&&null!==t.match(e)||r("Pattern",p)}h&&t.some(((e,t,n)=>n.indexOf(e)!==t))&&r("UniqueItems",h)}}serialize(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{xml:{}};var o,a,i;const s={xml:{rootName:null!==(o=r.xml.rootName)&&void 0!==o?o:"",includeRoot:null!==(a=r.xml.includeRoot)&&void 0!==a&&a,xmlCharKey:null!==(i=r.xml.xmlCharKey)&&void 0!==i?i:Hd}};let l={};const c=e.type.name;n||(n=e.serializedName),null!==c.match(/^Sequence$/i)&&(l=[]),e.isConstant&&(t=e.defaultValue);const{required:u,nullable:d}=e;if(u&&d&&void 0===t)throw new Error("".concat(n," cannot be undefined."));if(u&&!d&&(void 0===t||null===t))throw new Error("".concat(n," cannot be null or undefined."));if(!u&&!1===d&&null===t)throw new Error("".concat(n," cannot be null."));if(void 0===t||null===t)l=t;else if(null!==c.match(/^any$/i))l=t;else if(null!==c.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/i))l=function(e,t,n){if(null!==n&&void 0!==n)if(null!==e.match(/^Number$/i)){if("number"!==typeof n)throw new Error("".concat(t," with value ").concat(n," must be of type number."))}else if(null!==e.match(/^String$/i)){if("string"!==typeof n.valueOf())throw new Error("".concat(t,' with value "').concat(n,'" must be of type string.'))}else if(null!==e.match(/^Uuid$/i)){if("string"!==typeof n.valueOf()||(r=n,!Gd.test(r)))throw new Error("".concat(t,' with value "').concat(n,'" must be of type string and a valid uuid.'))}else if(null!==e.match(/^Boolean$/i)){if("boolean"!==typeof n)throw new Error("".concat(t," with value ").concat(n," must be of type boolean."))}else if(null!==e.match(/^Stream$/i)){const e=typeof n;if("string"!==e&&"function"!==typeof n.pipe&&"function"!==typeof n.tee&&!(n instanceof ArrayBuffer)&&!ArrayBuffer.isView(n)&&("function"!==typeof Blob&&"object"!==typeof Blob||!(n instanceof Blob))&&"function"!==e)throw new Error("".concat(t," must be a string, Blob, ArrayBuffer, ArrayBufferView, ReadableStream, or () => ReadableStream."))}var r;return n}(c,n,t);else if(null!==c.match(/^Enum$/i)){l=function(e,t,n){if(!t)throw new Error("Please provide a set of allowedValues to validate ".concat(e," as an Enum Type."));if(!t.some((e=>"string"===typeof e.valueOf()?e.toLowerCase()===n.toLowerCase():e===n)))throw new Error("".concat(n," is not a valid value for ").concat(e,". The valid values are: ").concat(JSON.stringify(t),"."));return n}(n,e.type.allowedValues,t)}else null!==c.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/i)?l=function(e,t,n){if(void 0!==t&&null!==t)if(null!==e.match(/^Date$/i)){if(!(t instanceof Date||"string"===typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error("".concat(n," must be an instanceof Date or a string in ISO8601 format."));t=t instanceof Date?t.toISOString().substring(0,10):new Date(t).toISOString().substring(0,10)}else if(null!==e.match(/^DateTime$/i)){if(!(t instanceof Date||"string"===typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error("".concat(n," must be an instanceof Date or a string in ISO8601 format."));t=t instanceof Date?t.toISOString():new Date(t).toISOString()}else if(null!==e.match(/^DateTimeRfc1123$/i)){if(!(t instanceof Date||"string"===typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error("".concat(n," must be an instanceof Date or a string in RFC-1123 format."));t=t instanceof Date?t.toUTCString():new Date(t).toUTCString()}else if(null!==e.match(/^UnixTime$/i)){if(!(t instanceof Date||"string"===typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error("".concat(n," must be an instanceof Date or a string in RFC-1123/ISO8601 format ")+"for it to be serialized in UnixTime/Epoch format.");t=function(e){if(!e)return;"string"===typeof e.valueOf()&&(e=new Date(e));return Math.floor(e.getTime()/1e3)}(t)}else if(null!==e.match(/^TimeSpan$/i)&&!function(e){return Bd.test(e)}(t))throw new Error("".concat(n,' must be a string in ISO 8601 format. Instead was "').concat(t,'".'));return t}(c,t,n):null!==c.match(/^ByteArray$/i)?l=function(e,t){if(void 0!==t&&null!==t){if(!(t instanceof Uint8Array))throw new Error("".concat(e," must be of type Uint8Array."));t=Ud(t)}return t}(n,t):null!==c.match(/^Base64Url$/i)?l=function(e,t){if(void 0!==t&&null!==t){if(!(t instanceof Uint8Array))throw new Error("".concat(e," must be of type Uint8Array."));t=function(e){if(!e)return;if(!(e instanceof Uint8Array))throw new Error("Please provide an input of type Uint8Array for converting to Base64Url.");return function(e,t){let n=e.length;for(;n-1>=0&&e[n-1]===t;)--n;return e.substr(0,n)}(Ud(e),"=").replace(/\+/g,"-").replace(/\//g,"_")}(t)}return t}(n,t):null!==c.match(/^Sequence$/i)?l=function(e,t,n,r,o,a){var i;if(!Array.isArray(n))throw new Error("".concat(r," must be of type Array."));let s=t.type.element;if(!s||"object"!==typeof s)throw new Error('element" metadata for an Array must be defined in the '+'mapper and it must of type "object" in '.concat(r,"."));"Composite"===s.type.name&&s.type.className&&(s=null!==(i=e.modelMappers[s.type.className])&&void 0!==i?i:s);const l=[];for(let c=0;c<n.length;c++){const t=e.serialize(s,n[c],r,a);if(o&&s.xmlNamespace){const e=s.xmlNamespacePrefix?"xmlns:".concat(s.xmlNamespacePrefix):"xmlns";"Composite"===s.type.name?(l[c]=Object.assign({},t),l[c][jd]={[e]:s.xmlNamespace}):(l[c]={},l[c][a.xml.xmlCharKey]=t,l[c][jd]={[e]:s.xmlNamespace})}else l[c]=t}return l}(this,e,t,n,Boolean(this.isXML),s):null!==c.match(/^Dictionary$/i)?l=function(e,t,n,r,o,a){if("object"!==typeof n)throw new Error("".concat(r," must be of type object."));const i=t.type.value;if(!i||"object"!==typeof i)throw new Error('"value" metadata for a Dictionary must be defined in the '+'mapper and it must of type "object" in '.concat(r,"."));const s={};for(const l of Object.keys(n)){const t=e.serialize(i,n[l],r,a);s[l]=Yd(i,t,o,a)}if(o&&t.xmlNamespace){const e=t.xmlNamespacePrefix?"xmlns:".concat(t.xmlNamespacePrefix):"xmlns",n=s;return n[jd]={[e]:t.xmlNamespace},n}return s}(this,e,t,n,Boolean(this.isXML),s):null!==c.match(/^Composite$/i)&&(l=function(e,t,n,r,o,a){ep(e,t)&&(t=Zd(e,t,n,"clientName"));if(void 0!==n&&null!==n){const i={},s=$d(e,t,r);for(const c of Object.keys(s)){const l=s[c];if(l.readOnly)continue;let u,d=i;if(e.isXML)u=l.xmlIsWrapped?l.xmlName:l.xmlElementName||l.xmlName;else{const e=Qd(l.serializedName);u=e.pop();for(const t of e){const e=d[t];void 0!==e&&null!==e||(void 0===n[c]||null===n[c])&&void 0===l.defaultValue||(d[t]={}),d=d[t]}}if(void 0!==d&&null!==d){if(o&&t.xmlNamespace){const e=t.xmlNamespacePrefix?"xmlns:".concat(t.xmlNamespacePrefix):"xmlns";d[jd]=Object.assign(Object.assign({},d[jd]),{[e]:t.xmlNamespace})}const i=""!==l.serializedName?r+"."+l.serializedName:r;let s=n[c];const p=ep(e,t);!p||p.clientName!==c||void 0!==s&&null!==s||(s=t.serializedName);const h=e.serialize(l,s,i,a);if(void 0!==h&&void 0!==u&&null!==u){const e=Yd(l,h,o,a);o&&l.xmlIsAttribute?(d[jd]=d[jd]||{},d[jd][u]=h):o&&l.xmlIsWrapped?d[u]={[l.xmlElementName]:e}:d[u]=e}}}const l=function(e,t,n){const r=t.type.additionalProperties;if(!r&&t.type.className){const r=Jd(e,t,n);return null===r||void 0===r?void 0:r.type.additionalProperties}return r}(e,t,r);if(l){const t=Object.keys(s);for(const o in n){t.every((e=>e!==o))&&(i[o]=e.serialize(l,n[o],r+'["'+o+'"]',a))}}return i}return n}(this,e,t,n,Boolean(this.isXML),s));return l}deserialize(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{xml:{}};var o,a,i,s;const l={xml:{rootName:null!==(o=r.xml.rootName)&&void 0!==o?o:"",includeRoot:null!==(a=r.xml.includeRoot)&&void 0!==a&&a,xmlCharKey:null!==(i=r.xml.xmlCharKey)&&void 0!==i?i:Hd},ignoreUnknownProperties:null!==(s=r.ignoreUnknownProperties)&&void 0!==s&&s};if(void 0===t||null===t)return this.isXML&&"Sequence"===e.type.name&&!e.xmlIsWrapped&&(t=[]),void 0!==e.defaultValue&&(t=e.defaultValue),t;let c;const u=e.type.name;if(n||(n=e.serializedName),null!==u.match(/^Composite$/i))c=function(e,t,n,r,o){var a,i;const s=null!==(a=o.xml.xmlCharKey)&&void 0!==a?a:Hd;ep(e,t)&&(t=Zd(e,t,n,"serializedName"));const l=$d(e,t,r);let c={};const u=[];for(const p of Object.keys(l)){const a=l[p],d=Qd(l[p].serializedName);u.push(d[0]);const{serializedName:h,xmlName:m,xmlElementName:f}=a;let g=r;""!==h&&void 0!==h&&(g=r+"."+h);const y=a.headerCollectionPrefix;if(y){const t={};for(const r of Object.keys(n))r.startsWith(y)&&(t[r.substring(y.length)]=e.deserialize(a.type.value,n[r],g,o)),u.push(r);c[p]=t}else if(e.isXML)if(a.xmlIsAttribute&&n[jd])c[p]=e.deserialize(a,n[jd][m],g,o);else if(a.xmlIsMsText)void 0!==n[s]?c[p]=n[s]:"string"===typeof n&&(c[p]=n);else{const t=f||m||h;if(a.xmlIsWrapped){const t=n[m],r=null!==(i=null===t||void 0===t?void 0:t[f])&&void 0!==i?i:[];c[p]=e.deserialize(a,r,g,o),u.push(m)}else{const r=n[t];c[p]=e.deserialize(a,r,g,o),u.push(t)}}else{let r,i=n,s=0;for(const e of d){if(!i)break;s++,i=i[e]}null===i&&s<d.length&&(i=void 0),r=i;const u=t.type.polymorphicDiscriminator;let h;if(!u||p!==u.clientName||void 0!==r&&null!==r||(r=t.serializedName),Array.isArray(n[p])&&""===l[p].serializedName){r=n[p];const t=e.deserialize(a,r,g,o);for(const[e,n]of Object.entries(c))Object.prototype.hasOwnProperty.call(t,e)||(t[e]=n);c=t}else void 0===r&&void 0===a.defaultValue||(h=e.deserialize(a,r,g,o),c[p]=h)}}const d=t.type.additionalProperties;if(d){const t=e=>{for(const t in l){if(Qd(l[t].serializedName)[0]===e)return!1}return!0};for(const a in n)t(a)&&(c[a]=e.deserialize(d,n[a],r+'["'+a+'"]',o))}else if(n&&!o.ignoreUnknownProperties)for(const p of Object.keys(n))void 0!==c[p]||u.includes(p)||Xd(p,o)||(c[p]=n[p]);return c}(this,e,t,n,l);else{if(this.isXML){const e=l.xml.xmlCharKey;void 0!==t[jd]&&void 0!==t[e]&&(t=t[e])}null!==u.match(/^Number$/i)?(c=parseFloat(t),isNaN(c)&&(c=t)):null!==u.match(/^Boolean$/i)?c="true"===t||"false"!==t&&t:null!==u.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/i)?c=t:null!==u.match(/^(Date|DateTime|DateTimeRfc1123)$/i)?c=new Date(t):null!==u.match(/^UnixTime$/i)?c=function(e){if(!e)return;return new Date(1e3*e)}(t):null!==u.match(/^ByteArray$/i)?c=Fd(t):null!==u.match(/^Base64Url$/i)?c=function(e){if(!e)return;if(e&&"string"!==typeof e.valueOf())throw new Error("Please provide an input of type string for converting to Uint8Array");return Fd(e=e.replace(/-/g,"+").replace(/_/g,"/"))}(t):null!==u.match(/^Sequence$/i)?c=function(e,t,n,r,o){var a;let i=t.type.element;if(!i||"object"!==typeof i)throw new Error('element" metadata for an Array must be defined in the '+'mapper and it must of type "object" in '.concat(r));if(n){Array.isArray(n)||(n=[n]),"Composite"===i.type.name&&i.type.className&&(i=null!==(a=e.modelMappers[i.type.className])&&void 0!==a?a:i);const t=[];for(let a=0;a<n.length;a++)t[a]=e.deserialize(i,n[a],"".concat(r,"[").concat(a,"]"),o);return t}return n}(this,e,t,n,l):null!==u.match(/^Dictionary$/i)&&(c=function(e,t,n,r,o){const a=t.type.value;if(!a||"object"!==typeof a)throw new Error('"value" metadata for a Dictionary must be defined in the '+'mapper and it must of type "object" in '.concat(r));if(n){const t={};for(const i of Object.keys(n))t[i]=e.deserialize(a,n[i],r,o);return t}return n}(this,e,t,n,l))}return e.isConstant&&(c=e.defaultValue),c}}function Vd(){return new Wd(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function Qd(e){const t=[];let n="";if(e){const r=e.split(".");for(const e of r)"\\"===e.charAt(e.length-1)?n+=e.substr(0,e.length-1)+".":(n+=e,t.push(n),n="")}return t}function Jd(e,t,n){const r=t.type.className;if(!r)throw new Error('Class name for model "'.concat(n,'" is not provided in the mapper "').concat(JSON.stringify(t,void 0,2),'".'));return e.modelMappers[r]}function $d(e,t,n){let r=t.type.modelProperties;if(!r){const o=Jd(e,t,n);if(!o)throw new Error('mapper() cannot be null or undefined for model "'.concat(t.type.className,'".'));if(r=null===o||void 0===o?void 0:o.type.modelProperties,!r)throw new Error("modelProperties cannot be null or undefined in the "+'mapper "'.concat(JSON.stringify(o),'" of type "').concat(t.type.className,'" for object "').concat(n,'".'))}return r}function Yd(e,t,n,r){if(!n||!e.xmlNamespace)return t;const o=e.xmlNamespacePrefix?"xmlns:".concat(e.xmlNamespacePrefix):"xmlns",a={[o]:e.xmlNamespace};if(["Composite"].includes(e.type.name)){if(t[jd])return t;{const e=Object.assign({},t);return e[jd]=a,e}}const i={};return i[r.xml.xmlCharKey]=t,i[jd]=a,i}function Xd(e,t){return[jd,t.xml.xmlCharKey].includes(e)}function Zd(e,t,n,r){var o;const a=ep(e,t);if(a){let i=a[r];if(i){"serializedName"===r&&(i=i.replace(/\\/gi,""));const a=n[i],s=null!==(o=t.type.uberParent)&&void 0!==o?o:t.type.className;if("string"===typeof a&&s){const n=function(e,t,n){const r=[n];for(;r.length;){const n=r.shift(),o=t===n?t:n+"."+t;if(Object.prototype.hasOwnProperty.call(e,o))return e[o];for(const[t,a]of Object.entries(e))t.startsWith(n+".")&&a.type.uberParent===n&&a.type.className&&r.push(a.type.className)}}(e.modelMappers.discriminators,a,s);n&&(t=n)}}}return t}function ep(e,t){return t.type.polymorphicDiscriminator||tp(e,t.type.uberParent)||tp(e,t.type.className)}function tp(e,t){return t&&e.modelMappers[t]&&e.modelMappers[t].type.polymorphicDiscriminator}const np="Sequence",rp="String",op="Stream";class ap extends Error{constructor(e){super(e),this.name="AbortError"}}const ip="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG||void 0;let sp,lp=[],cp=[];const up=[];ip&&pp(ip);const dp=Object.assign((e=>mp(e)),{enable:pp,enabled:hp,disable:function(){const e=sp||"";return pp(""),e},log:function(){if(arguments.length>0){const e=String(arguments.length<=0?void 0:arguments[0]);e.includes(":error")?console.error(...arguments):e.includes(":warning")?console.warn(...arguments):e.includes(":info")?console.info(...arguments):(e.includes(":verbose"),console.debug(...arguments))}}});function pp(e){sp=e,lp=[],cp=[];const t=/\*/g,n=e.split(",").map((e=>e.trim().replace(t,".*?")));for(const r of n)r.startsWith("-")?cp.push(new RegExp("^".concat(r.substr(1),"$"))):lp.push(new RegExp("^".concat(r,"$")));for(const r of up)r.enabled=hp(r.namespace)}function hp(e){if(e.endsWith("*"))return!0;for(const t of cp)if(t.test(e))return!1;for(const t of lp)if(t.test(e))return!0;return!1}function mp(e){const t=Object.assign((function(){if(!t.enabled)return;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];r.length>0&&(r[0]="".concat(e," ").concat(r[0]));t.log(...r)}),{enabled:hp(e),destroy:fp,log:dp.log,namespace:e,extend:gp});return up.push(t),t}function fp(){const e=up.indexOf(this);return e>=0&&(up.splice(e,1),!0)}function gp(e){const t=mp("".concat(this.namespace,":").concat(e));return t.log=this.log,t}const yp=dp,vp=["verbose","info","warning","error"],bp={verbose:400,info:300,warning:200,error:100};function wp(e,t){t.log=function(){e.log(...arguments)}}function Sp(e){return vp.includes(e)}function Cp(e){const t=new Set,n="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[e.logLevelEnvVarName]||void 0;let r;const o=yp(e.namespace);function a(e){if(e&&!Sp(e))throw new Error("Unknown log level '".concat(e,"'. Acceptable values: ").concat(vp.join(",")));r=e;const n=[];for(const r of t)i(r)&&n.push(r.namespace);yp.enable(n.join(","))}function i(e){return Boolean(r&&bp[e.level]<=bp[r])}function s(e,n){const r=Object.assign(e.extend(n),{level:n});if(wp(e,r),i(r)){const e=yp.disable();yp.enable(e+","+r.namespace)}return t.add(r),r}return o.log=function(){yp.log(...arguments)},n&&(Sp(n)?a(n):console.error("".concat(e.logLevelEnvVarName," set to unknown log level '").concat(n,"'; logging is not enabled. Acceptable values: ").concat(vp.join(", "),"."))),{setLogLevel:a,getLogLevel:function(){return r},createClientLogger:function(e){const t=o.extend(e);return wp(o,t),{error:s(t,"error"),warning:s(t,"warning"),info:s(t,"info"),verbose:s(t,"verbose")}},logger:o}}const Pp=Cp({logLevelEnvVarName:"TYPESPEC_RUNTIME_LOG_LEVEL",namespace:"typeSpecRuntime"});Pp.logger;function kp(e){return Pp.createClientLogger(e)}function Tp(e){return e.toLowerCase()}class Ip{constructor(e){if(this._headersMap=new Map,e)for(const t of Object.keys(e))this.set(t,e[t])}set(e,t){this._headersMap.set(Tp(e),{name:e,value:String(t).trim()})}get(e){var t;return null===(t=this._headersMap.get(Tp(e)))||void 0===t?void 0:t.value}has(e){return this._headersMap.has(Tp(e))}delete(e){this._headersMap.delete(Tp(e))}toJSON(){const e={};if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preserveCase)for(const t of this._headersMap.values())e[t.name]=t.value;else for(const[t,n]of this._headersMap)e[t]=n.value;return e}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return function*(e){for(const t of e.values())yield[t.name,t.value]}(this._headersMap)}}function Ap(e){return new Ip(e)}function Np(){let e="";for(let t=0;t<32;t++){const n=Math.floor(16*Math.random());e+=12===t?"4":16===t?3&n|8:n.toString(16),7!==t&&11!==t&&15!==t&&19!==t||(e+="-")}return e}var Rp;const Ep="function"===typeof(null===(Rp=null===globalThis||void 0===globalThis?void 0:globalThis.crypto)||void 0===Rp?void 0:Rp.randomUUID)?globalThis.crypto.randomUUID.bind(globalThis.crypto):Np;function Op(){return Ep()}class Mp{constructor(e){var t,n,r,o,a,i,s;this.url=e.url,this.body=e.body,this.headers=null!==(t=e.headers)&&void 0!==t?t:Ap(),this.method=null!==(n=e.method)&&void 0!==n?n:"GET",this.timeout=null!==(r=e.timeout)&&void 0!==r?r:0,this.multipartBody=e.multipartBody,this.formData=e.formData,this.disableKeepAlive=null!==(o=e.disableKeepAlive)&&void 0!==o&&o,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=null!==(a=e.withCredentials)&&void 0!==a&&a,this.abortSignal=e.abortSignal,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||Op(),this.allowInsecureConnection=null!==(i=e.allowInsecureConnection)&&void 0!==i&&i,this.enableBrowserStreams=null!==(s=e.enableBrowserStreams)&&void 0!==s&&s,this.requestOverrides=e.requestOverrides,this.authSchemes=e.authSchemes}}const _p=new Set(["Deserialize","Serialize","Retry","Sign"]);class xp{constructor(e){var t;this._policies=[],this._policies=null!==(t=null===e||void 0===e?void 0:e.slice(0))&&void 0!==t?t:[],this._orderedPolicies=void 0}addPolicy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.phase&&t.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(t.phase&&!_p.has(t.phase))throw new Error("Invalid phase name: ".concat(t.phase));if(t.afterPhase&&!_p.has(t.afterPhase))throw new Error("Invalid afterPhase name: ".concat(t.afterPhase));this._policies.push({policy:e,options:t}),this._orderedPolicies=void 0}removePolicy(e){const t=[];return this._policies=this._policies.filter((n=>!(e.name&&n.policy.name===e.name||e.phase&&n.options.phase===e.phase)||(t.push(n.policy),!1))),this._orderedPolicies=void 0,t}sendRequest(e,t){return this.getOrderedPolicies().reduceRight(((e,t)=>n=>t.sendRequest(n,e)),(t=>e.sendRequest(t)))(t)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new xp(this._policies)}static create(){return new xp}orderPolicies(){const e=[],t=new Map;function n(e){return{name:e,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}const r=n("Serialize"),o=n("None"),a=n("Deserialize"),i=n("Retry"),s=n("Sign"),l=[r,o,a,i,s];function c(e){return"Retry"===e?i:"Serialize"===e?r:"Deserialize"===e?a:"Sign"===e?s:o}for(const h of this._policies){const e=h.policy,n=h.options,r=e.name;if(t.has(r))throw new Error("Duplicate policy names not allowed in pipeline");const o={policy:e,dependsOn:new Set,dependants:new Set};n.afterPhase&&(o.afterPhase=c(n.afterPhase),o.afterPhase.hasAfterPolicies=!0),t.set(r,o);c(n.phase).policies.add(o)}for(const h of this._policies){const{policy:e,options:n}=h,r=e.name,o=t.get(r);if(!o)throw new Error("Missing node for policy ".concat(r));if(n.afterPolicies)for(const a of n.afterPolicies){const e=t.get(a);e&&(o.dependsOn.add(e),e.dependants.add(o))}if(n.beforePolicies)for(const a of n.beforePolicies){const e=t.get(a);e&&(e.dependsOn.add(o),o.dependants.add(e))}}function u(n){n.hasRun=!0;for(const r of n.policies)if((!r.afterPhase||r.afterPhase.hasRun&&!r.afterPhase.policies.size)&&0===r.dependsOn.size){e.push(r.policy);for(const e of r.dependants)e.dependsOn.delete(r);t.delete(r.policy.name),n.policies.delete(r)}}function d(){for(const e of l){if(u(e),e.policies.size>0&&e!==o)return void(o.hasRun||u(o));e.hasAfterPolicies&&u(o)}}let p=0;for(;t.size>0;){p++;const t=e.length;if(d(),e.length<=t&&p>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}}function zp(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}function qp(e){if(zp(e)){const t="string"===typeof e.name,n="string"===typeof e.message;return t&&n}return!1}const Lp=Symbol(),Dp="REDACTED",Up=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],Fp=["api-version"];class jp{constructor(){let{additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:t=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Up.concat(e),t=Fp.concat(t),this.allowedHeaderNames=new Set(e.map((e=>e.toLowerCase()))),this.allowedQueryParameters=new Set(t.map((e=>e.toLowerCase())))}sanitize(e){const t=new Set;return JSON.stringify(e,((e,n)=>{if(n instanceof Error)return Object.assign(Object.assign({},n),{name:n.name,message:n.message});if("headers"===e)return this.sanitizeHeaders(n);if("url"===e)return this.sanitizeUrl(n);if("query"===e)return this.sanitizeQuery(n);if("body"!==e&&"response"!==e&&"operationSpec"!==e){if(Array.isArray(n)||zp(n)){if(t.has(n))return"[Circular]";t.add(n)}return n}}),2)}sanitizeUrl(e){if("string"!==typeof e||null===e||""===e)return e;const t=new URL(e);if(!t.search)return e;for(const[n]of t.searchParams)this.allowedQueryParameters.has(n.toLowerCase())||t.searchParams.set(n,Dp);return t.toString()}sanitizeHeaders(e){const t={};for(const n of Object.keys(e))this.allowedHeaderNames.has(n.toLowerCase())?t[n]=e[n]:t[n]=Dp;return t}sanitizeQuery(e){if("object"!==typeof e||null===e)return e;const t={};for(const n of Object.keys(e))this.allowedQueryParameters.has(n.toLowerCase())?t[n]=e[n]:t[n]=Dp;return t}}const Hp=new jp;class Bp extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.name="RestError",this.code=t.code,this.statusCode=t.statusCode,Object.defineProperty(this,"request",{value:t.request,enumerable:!1}),Object.defineProperty(this,"response",{value:t.response,enumerable:!1}),Object.defineProperty(this,Lp,{value:()=>"RestError: ".concat(this.message," \n ").concat(Hp.sanitize(Object.assign(Object.assign({},this),{request:this.request,response:this.response}))),enumerable:!1}),Object.setPrototypeOf(this,Bp.prototype)}}function Gp(e,t){switch(t){case"utf-8":return function(e){return(new TextEncoder).encode(e)}(e);case"base64":return Kp(e);case"base64url":return function(e){const t=e.replace(/-/g,"+").replace(/_/g,"/");return Kp(t)}(e);case"hex":return function(e){const t=new Uint8Array(e.length/2);for(let n=0;n<e.length/2;++n){const r=e[2*n],o=e[2*n+1];if(!Wp.has(r)||!Wp.has(o))return t.slice(0,n);t[n]=parseInt("".concat(r).concat(o),16)}return t}(e)}}function Kp(e){return new Uint8Array([...atob(e)].map((e=>e.charCodeAt(0))))}Bp.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR",Bp.PARSE_ERROR="PARSE_ERROR";const Wp=new Set("0123456789abcdefABCDEF");function Vp(e){return Boolean(e&&"function"===typeof e.pipe)}function Qp(e){return Boolean(e&&"function"===typeof e.getReader&&"function"===typeof e.tee)}class Jp{async sendRequest(e){if("https:"!==new URL(e.url).protocol&&!e.allowInsecureConnection)throw new Error("Cannot connect to ".concat(e.url," while allowInsecureConnection is false."));if(e.proxySettings)throw new Error("HTTP proxy is not supported in browser environment");try{return await async function(e){const{abortController:t,abortControllerCleanup:n}=function(e){const t=new AbortController;let n,r;if(e.abortSignal){if(e.abortSignal.aborted)throw new ap("The operation was aborted. Request has already been canceled.");r=e=>{"abort"===e.type&&t.abort()},e.abortSignal.addEventListener("abort",r),n=()=>{var t;r&&(null===(t=e.abortSignal)||void 0===t||t.removeEventListener("abort",r))}}e.timeout>0&&setTimeout((()=>{t.abort()}),e.timeout);return{abortController:t,abortControllerCleanup:n}}(e);try{const o=function(e){const t=new Headers;for(const[n,r]of e)t.append(n,r);return t}(e.headers),{streaming:a,body:i}=function(e){const t="function"===typeof e.body?e.body():e.body;if(Vp(t))throw new Error("Node streams are not supported in browser environment.");return Qp(t)?{streaming:!0,body:$p(t,{onProgress:e.onUploadProgress})}:{streaming:!1,body:t}}(e),s=Object.assign(Object.assign({body:i,method:e.method,headers:o,signal:t.signal},"credentials"in Request.prototype?{credentials:e.withCredentials?"include":"same-origin"}:{}),"cache"in Request.prototype?{cache:"no-store"}:{});a&&(s.duplex="half");const l=await fetch(e.url,Object.assign(Object.assign({},s),e.requestOverrides));return r=e.body,("function"===typeof Blob||"object"===typeof Blob)&&r instanceof Blob&&e.onUploadProgress&&e.onUploadProgress({loadedBytes:e.body.size}),async function(e,t,n){var r,o;const a=function(e){const t=Ap();for(const[n,r]of e.headers)t.set(n,r);return t}(e),i={request:t,headers:a,status:e.status},s=Qp(e.body)?$p(e.body,{onProgress:t.onDownloadProgress,onEnd:n}):e.body;if((null===(r=t.streamResponseStatusCodes)||void 0===r?void 0:r.has(Number.POSITIVE_INFINITY))||(null===(o=t.streamResponseStatusCodes)||void 0===o?void 0:o.has(i.status)))if(t.enableBrowserStreams)i.browserStreamBody=null!==s&&void 0!==s?s:void 0;else{const e=new Response(s);i.blobBody=e.blob(),null===n||void 0===n||n()}else{const e=new Response(s);i.bodyAsText=await e.text(),null===n||void 0===n||n()}return i}(l,e,n)}catch(o){throw null===n||void 0===n||n(),o}var r}(e)}catch(t){throw function(e,t){var n;return e&&"AbortError"===(null===e||void 0===e?void 0:e.name)?e:new Bp("Error sending request: ".concat(e.message),{code:null!==(n=null===e||void 0===e?void 0:e.code)&&void 0!==n?n:Bp.REQUEST_SEND_ERROR,request:t})}(t,e)}}}function $p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0;const{onProgress:r,onEnd:o}=t;if(function(e){return void 0!==e.pipeThrough&&void 0!==self.TransformStream}(e))return e.pipeThrough(new TransformStream({transform(e,t){null!==e?(t.enqueue(e),n+=e.length,r&&r({loadedBytes:n})):t.terminate()},flush(){null===o||void 0===o||o()}}));{const t=e.getReader();return new ReadableStream({async pull(e){var a;const{done:i,value:s}=await t.read();if(i||!s)return null===o||void 0===o||o(),e.close(),void t.releaseLock();n+=null!==(a=null===s||void 0===s?void 0:s.length)&&void 0!==a?a:0,e.enqueue(s),r&&r({loadedBytes:n})},cancel:e=>(null===o||void 0===o||o(),t.cancel(e))})}}function Yp(){return new Jp}const Xp=kp("ts-http-runtime");function Zp(e,t){const n=t.retryDelayInMs*Math.pow(2,e),r=Math.min(t.maxRetryDelayInMs,n);var o,a;return{retryAfterInMs:r/2+(o=0,a=r/2,o=Math.ceil(o),a=Math.floor(a),Math.floor(Math.random()*(a-o+1))+o)}}function eh(e,t,n){return new Promise(((r,o)=>{let a,i;const s=()=>o(new ap((null===n||void 0===n?void 0:n.abortErrorMsg)?null===n||void 0===n?void 0:n.abortErrorMsg:"The operation was aborted.")),l=()=>{(null===n||void 0===n?void 0:n.abortSignal)&&i&&n.abortSignal.removeEventListener("abort",i)};if(i=()=>(a&&clearTimeout(a),l(),s()),(null===n||void 0===n?void 0:n.abortSignal)&&n.abortSignal.aborted)return s();a=setTimeout((()=>{l(),r(t)}),e),(null===n||void 0===n?void 0:n.abortSignal)&&n.abortSignal.addEventListener("abort",i)}))}function th(e,t){const n=e.headers.get(t);if(!n)return;const r=Number(n);return Number.isNaN(r)?void 0:r}const nh="Retry-After",rh=["retry-after-ms","x-ms-retry-after-ms",nh];function oh(e){if(e&&[429,503].includes(e.status))try{for(const r of rh){const t=th(e,r);if(0===t||t){return t*(r===nh?1e3:1)}}const t=e.headers.get(nh);if(!t)return;const n=Date.parse(t)-Date.now();return Number.isFinite(n)?Math.max(0,n):void 0}catch(Rp){return}}function ah(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;const r=null!==(t=e.retryDelayInMs)&&void 0!==t?t:1e3,o=null!==(n=e.maxRetryDelayInMs)&&void 0!==n?n:64e3;return{name:"exponentialRetryStrategy",retry(t){let{retryCount:n,response:a,responseError:i}=t;const s=function(e){if(!e)return!1;return"ETIMEDOUT"===e.code||"ESOCKETTIMEDOUT"===e.code||"ECONNREFUSED"===e.code||"ECONNRESET"===e.code||"ENOENT"===e.code||"ENOTFOUND"===e.code}(i),l=s&&e.ignoreSystemErrors,c=function(e){return Boolean(e&&void 0!==e.status&&(e.status>=500||408===e.status)&&501!==e.status&&505!==e.status)}(a),u=c&&e.ignoreHttpStatusCodes,d=a&&(function(e){return Number.isFinite(oh(e))}(a)||!c);return d||u||l?{skipStrategy:!0}:!i||s||c?Zp(n,{retryDelayInMs:r,maxRetryDelayInMs:o}):{errorToThrow:i}}}}const ih=kp("ts-http-runtime retryPolicy");function sh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxRetries:3};const n=t.logger||ih;return{name:"retryPolicy",async sendRequest(r,o){var a,i;let s,l,c=-1;e:for(;;){c+=1,s=void 0,l=void 0;try{n.info("Retry ".concat(c,": Attempting to send request"),r.requestId),s=await o(r),n.info("Retry ".concat(c,": Received a response from request"),r.requestId)}catch(u){if(n.error("Retry ".concat(c,": Received an error from request"),r.requestId),l=u,!u||"RestError"!==l.name)throw u;s=l.response}if(null===(a=r.abortSignal)||void 0===a?void 0:a.aborted){n.error("Retry ".concat(c,": Request aborted."));throw new ap}if(c>=(null!==(i=t.maxRetries)&&void 0!==i?i:3)){if(n.info("Retry ".concat(c,": Maximum retries reached. Returning the last received response, or throwing the last received error.")),l)throw l;if(s)return s;throw new Error("Maximum retries reached with no response or error to throw")}n.info("Retry ".concat(c,": Processing ").concat(e.length," retry strategies."));t:for(const t of e){const e=t.logger||n;e.info("Retry ".concat(c,": Processing retry strategy ").concat(t.name,"."));const o=t.retry({retryCount:c,response:s,responseError:l});if(o.skipStrategy){e.info("Retry ".concat(c,": Skipped."));continue t}const{errorToThrow:a,retryAfterInMs:i,redirectTo:u}=o;if(a)throw e.error("Retry ".concat(c,": Retry strategy ").concat(t.name," throws error:"),a),a;if(i||0===i){e.info("Retry ".concat(c,": Retry strategy ").concat(t.name," retries after ").concat(i)),await eh(i,void 0,{abortSignal:r.abortSignal});continue e}if(u){e.info("Retry ".concat(c,": Retry strategy ").concat(t.name," redirects to ").concat(u)),r.url=u;continue e}}if(l)throw n.info("None of the retry strategies could work with the received error. Throwing it."),l;if(s)return n.info("None of the retry strategies could work with the received response. Returning it."),s}}}}var lh,ch,uh,dh;"undefined"!==typeof window&&window.document,"object"===typeof self&&"function"===typeof(null===self||void 0===self?void 0:self.importScripts)&&("DedicatedWorkerGlobalScope"===(null===(lh=self.constructor)||void 0===lh?void 0:lh.name)||"ServiceWorkerGlobalScope"===(null===(ch=self.constructor)||void 0===ch?void 0:ch.name)||null===(uh=self.constructor)||void 0===uh||uh.name),"undefined"!==typeof Deno&&"undefined"!==typeof Deno.version&&Deno.version.deno,"undefined"!==typeof Bun&&Bun.version;const ph="undefined"!==typeof globalThis.process&&Boolean(globalThis.process.version)&&Boolean(null===(dh=globalThis.process.versions)||void 0===dh?void 0:dh.node);"undefined"!==typeof navigator&&(null===navigator||void 0===navigator||navigator.product);function hh(){return{name:"formDataPolicy",async sendRequest(e,t){if(ph&&"undefined"!==typeof FormData&&e.body instanceof FormData&&(e.formData=function(e){var t;const n={};for(const[r,o]of e.entries())null!==(t=n[r])&&void 0!==t||(n[r]=[]),n[r].push(o);return n}(e.body),e.body=void 0),e.formData){const t=e.headers.get("Content-Type");t&&-1!==t.indexOf("application/x-www-form-urlencoded")?e.body=function(e){const t=new URLSearchParams;for(const[n,r]of Object.entries(e))if(Array.isArray(r))for(const e of r)t.append(n,e.toString());else t.append(n,r.toString());return t.toString()}(e.formData):await async function(e,t){const n=t.headers.get("Content-Type");if(n&&!n.startsWith("multipart/form-data"))return;t.headers.set("Content-Type",null!==n&&void 0!==n?n:"multipart/form-data");const r=[];for(const[o,a]of Object.entries(e))for(const e of Array.isArray(a)?a:[a])if("string"===typeof e)r.push({headers:Ap({"Content-Disposition":'form-data; name="'.concat(o,'"')}),body:Gp(e,"utf-8")});else{if(void 0===e||null===e||"object"!==typeof e)throw new Error("Unexpected value for key ".concat(o,": ").concat(e,". Value should be serialized to string first."));{const t=e.name||"blob",n=Ap();n.set("Content-Disposition",'form-data; name="'.concat(o,'"; filename="').concat(t,'"')),n.set("Content-Type",e.type||"application/octet-stream"),r.push({headers:n,body:e})}}t.multipartBody={parts:r}}(e.formData,e),e.formData=void 0}return t(e)}}}async function mh(e){if(e instanceof Blob||e instanceof Uint8Array)return e;if(Qp(e))return new Response(e).blob();throw new Error("Unsupported source type. Only Blob, Uint8Array, and ReadableStream are supported in browser.")}function fh(e){let t="";for(const[n,r]of e)t+="".concat(n,": ").concat(r,"\r\n");return t}function gh(e){return e instanceof Uint8Array?e.byteLength:"function"===typeof e.stream?-1===e.size?void 0:e.size:void 0}async function yh(e,t,n){const r=[Gp("--".concat(n),"utf-8"),...t.flatMap((e=>[Gp("\r\n","utf-8"),Gp(fh(e.headers),"utf-8"),Gp("\r\n","utf-8"),e.body,Gp("\r\n--".concat(n),"utf-8")])),Gp("--\r\n\r\n","utf-8")],o=function(e){let t=0;for(const n of e){const e=gh(n);if(void 0===e)return;t+=e}return t}(r);o&&e.headers.set("Content-Length",o),e.body=await async function(e){const t=[];for(const n of e)t.push(await mh("function"===typeof n?n():n));return new Blob(t)}(r)}const vh="multipartPolicy",bh=new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?");function wh(){return{name:vh,async sendRequest(e,t){var n;if(!e.multipartBody)return t(e);if(e.body)throw new Error("multipartBody and regular body cannot be set at the same time");let r=e.multipartBody.boundary;const o=null!==(n=e.headers.get("Content-Type"))&&void 0!==n?n:"multipart/mixed",a=o.match(/^(multipart\/[^ ;]+)(?:; *boundary=(.+))?$/);if(!a)throw new Error("Got multipart request body, but content-type header was not multipart: ".concat(o));const[,i,s]=a;if(s&&r&&s!==r)throw new Error("Multipart boundary was specified as ".concat(s," in the header, but got ").concat(r," in the request body"));return null!==r&&void 0!==r||(r=s),r?function(e){if(e.length>70)throw new Error('Multipart boundary "'.concat(e,'" exceeds maximum length of 70 characters'));if(Array.from(e).some((e=>!bh.has(e))))throw new Error('Multipart boundary "'.concat(e,'" contains invalid characters'))}(r):r="----AzSDKFormBoundary".concat(Op()),e.headers.set("Content-Type","".concat(i,"; boundary=").concat(r)),await yh(e,e.multipartBody.parts,r),e.multipartBody=void 0,t(e)}}}function Sh(){return xp.create()}const Ch=Cp({logLevelEnvVarName:"AZURE_LOG_LEVEL",namespace:"azure"});Ch.logger;function Ph(e){return Ch.createClientLogger(e)}const kh=Ph("core-rest-pipeline");const Th="proxyPolicy is not supported in browser environment";const Ih=["GET","HEAD"];function Ah(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{maxRetries:t=20}=e;return{name:"redirectPolicy",async sendRequest(e,n){const r=await n(e);return Nh(n,r,t)}}}async function Nh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const{request:o,status:a,headers:i}=t,s=i.get("location");if(s&&(300===a||301===a&&Ih.includes(o.method)||302===a&&Ih.includes(o.method)||303===a&&"POST"===o.method||307===a)&&r<n){const t=new URL(s,o.url);o.url=t.toString(),303===a&&(o.method="GET",o.headers.delete("Content-Length"),delete o.body),o.headers.delete("Authorization");const i=await e(o);return Nh(e,i,n,r+1)}return t}function Rh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const n=null!==(t=e.logger)&&void 0!==t?t:Xp.info,r=new jp({additionalAllowedHeaderNames:e.additionalAllowedHeaderNames,additionalAllowedQueryParameters:e.additionalAllowedQueryParameters});return{name:"logPolicy",async sendRequest(e,t){if(!n.enabled)return t(e);n("Request: ".concat(r.sanitize(e)));const o=await t(e);return n("Response status code: ".concat(o.status)),n("Headers: ".concat(r.sanitize(o.headers))),o}}}(Object.assign({logger:kh.info},e))}const Eh="1.21.0";async function Oh(e){const t=new Map;t.set("core-rest-pipeline",Eh),await async function(e){const t=globalThis.navigator;let n="unknown";if(null===t||void 0===t?void 0:t.userAgentData){const r=await t.userAgentData.getHighEntropyValues(["architecture","platformVersion"]);n="".concat(r.architecture,"-").concat(r.platform,"-").concat(r.platformVersion);const o=function(e){const t=["Google Chrome","Microsoft Edge","Opera","Brave","Chromium"];for(const n of t){const t=e.find((e=>e.brand===n));if(t)return t}}(t.userAgentData.brands);o&&e.set(o.brand,o.version)}else if(null===t||void 0===t?void 0:t.platform){n=t.platform;const r=function(e){const t=[{name:"Firefox",regex:/Firefox\/([\d.]+)/},{name:"Safari",regex:/Version\/([\d.]+).*Safari/}];for(const n of t){const t=e.match(n.regex);if(t)return{brand:n.name,version:t[1]}}}(t.userAgent);r&&e.set(r.brand,r.version)}else"string"===typeof globalThis.EdgeRuntime&&e.set("EdgeRuntime",globalThis.EdgeRuntime);e.set("OS",n)}(t);const n=function(e){const t=[];for(const[n,r]of e){const e=r?"".concat(n,"/").concat(r):n;t.push(e)}return t.join(" ")}(t);return e?"".concat(e," ").concat(n):n}const Mh="x-ms-useragent";class _h extends Error{constructor(e){super(e),this.name="AbortError"}}function xh(e,t){let n;const{abortSignal:r,abortErrorMsg:o}=null!==t&&void 0!==t?t:{};return function(e,t){const{cleanupBeforeAbort:n,abortSignal:r,abortErrorMsg:o}=null!==t&&void 0!==t?t:{};return new Promise(((t,a)=>{function i(){a(new _h(null!==o&&void 0!==o?o:"The operation was aborted."))}function s(){null===r||void 0===r||r.removeEventListener("abort",l)}function l(){null===n||void 0===n||n(),s(),i()}if(null===r||void 0===r?void 0:r.aborted)return i();try{e((e=>{s(),t(e)}),(e=>{s(),a(e)}))}catch(c){a(c)}null===r||void 0===r||r.addEventListener("abort",l)}))}((t=>{n=setTimeout(t,e)}),{cleanupBeforeAbort:()=>clearTimeout(n),abortSignal:r,abortErrorMsg:null!==o&&void 0!==o?o:"The delay was aborted."})}function zh(e){if(qp(e))return e.message;{let n;try{n="object"===typeof e&&e?JSON.stringify(e):String(e)}catch(t){n="[unable to stringify input]"}return"Unknown error ".concat(n)}}function qh(e){return qp(e)}const Lh=ph;const Dh=Symbol("rawContent");function Uh(e){return"function"===typeof e[Dh]}const Fh=vh;function jh(){return function(){throw new Error("decompressResponsePolicy is not supported in browser environment")}()}function Hh(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return{name:"defaultRetryPolicy",sendRequest:sh([{name:"throttlingRetryStrategy",retry(e){let{response:t}=e;const n=oh(t);return Number.isFinite(n)?{retryAfterInMs:n}:{skipStrategy:!0}}},ah(e)],{maxRetries:null!==(t=e.maxRetries)&&void 0!==t?t:3}).sendRequest}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function Bh(e,t){return function(){throw new Error(Th)}()}const Gh={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function Kh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Wh(e.parentContext);return e.span&&(t=t.setValue(Gh.span,e.span)),e.namespace&&(t=t.setValue(Gh.namespace,e.namespace)),t}class Wh{constructor(e){this._contextMap=e instanceof Wh?new Map(e._contextMap):new Map}setValue(e,t){const n=new Wh(this);return n._contextMap.set(e,t),n}getValue(e){return this._contextMap.get(e)}deleteValue(e){const t=new Wh(this);return t._contextMap.delete(e),t}}const Vh={instrumenterImplementation:void 0};function Qh(){return Vh.instrumenterImplementation||(Vh.instrumenterImplementation={createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(e,t)=>({span:{end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{},addEvent:()=>{}},tracingContext:Kh({parentContext:t.tracingContext})}),withContext(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return t(...r)}}),Vh.instrumenterImplementation}const Jh=Bp;function $h(e){return function(e){return e instanceof Bp||qp(e)&&"RestError"===e.name}(e)}function Yh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Oh(e.userAgentPrefix),n=new jp({additionalAllowedQueryParameters:e.additionalAllowedQueryParameters}),r=function(){try{return function(e){const{namespace:t,packageName:n,packageVersion:r}=e;function o(e,o,a){var i;const s=Qh().startSpan(e,Object.assign(Object.assign({},a),{packageName:n,packageVersion:r,tracingContext:null===(i=null===o||void 0===o?void 0:o.tracingOptions)||void 0===i?void 0:i.tracingContext}));let l=s.tracingContext;const c=s.span;return l.getValue(Gh.namespace)||(l=l.setValue(Gh.namespace,t)),c.setAttribute("az.namespace",l.getValue(Gh.namespace)),{span:c,updatedOptions:Object.assign({},o,{tracingOptions:Object.assign(Object.assign({},null===o||void 0===o?void 0:o.tracingOptions),{tracingContext:l})})}}function a(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return Qh().withContext(e,t,...r)}return{startSpan:o,withSpan:async function(e,t,n,r){const{span:i,updatedOptions:s}=o(e,t,r);try{const e=await a(s.tracingOptions.tracingContext,(()=>Promise.resolve(n(s,i))));return i.setStatus({status:"success"}),e}catch(l){throw i.setStatus({status:"error",error:l}),l}finally{i.end()}},withContext:a,parseTraceparentHeader:function(e){return Qh().parseTraceparentHeader(e)},createRequestHeaders:function(e){return Qh().createRequestHeaders(e)}}}({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:Eh})}catch(e){return void kh.warning("Error when creating the TracingClient: ".concat(zh(e)))}}();return{name:"tracingPolicy",async sendRequest(e,o){var a;if(!r)return o(e);const i=await t,s={"http.url":n.sanitizeUrl(e.url),"http.method":e.method,"http.user_agent":i,requestId:e.requestId};i&&(s["http.user_agent"]=i);const{span:l,tracingContext:c}=null!==(a=function(e,t,n){try{const{span:r,updatedOptions:o}=e.startSpan("HTTP ".concat(t.method),{tracingOptions:t.tracingOptions},{spanKind:"client",spanAttributes:n});if(!r.isRecording())return void r.end();const a=e.createRequestHeaders(o.tracingOptions.tracingContext);for(const[e,n]of Object.entries(a))t.headers.set(e,n);return{span:r,tracingContext:o.tracingOptions.tracingContext}}catch(r){return void kh.warning("Skipping creating a tracing span due to an error: ".concat(zh(r)))}}(r,e,s))&&void 0!==a?a:{};if(!l||!c)return o(e);try{const t=await r.withContext(c,o,e);return function(e,t){try{e.setAttribute("http.status_code",t.status);const n=t.headers.get("x-ms-request-id");n&&e.setAttribute("serviceRequestId",n),t.status>=400&&e.setStatus({status:"error"}),e.end()}catch(n){kh.warning("Skipping tracing span processing due to an error: ".concat(zh(n)))}}(l,t),t}catch(u){throw function(e,t){try{e.setStatus({status:"error",error:qh(t)?t:void 0}),$h(t)&&t.statusCode&&e.setAttribute("http.status_code",t.statusCode),e.end()}catch(n){kh.warning("Skipping tracing span processing due to an error: ".concat(zh(n)))}}(l,u),u}}}}function Xh(e){if(e instanceof AbortSignal)return{abortSignal:e};if(e.aborted)return{abortSignal:AbortSignal.abort(e.reason)};const t=new AbortController;let n=!0;function r(){n&&(e.removeEventListener("abort",o),n=!1)}function o(){t.abort(e.reason),r()}return e.addEventListener("abort",o),{abortSignal:t.signal,cleanup:r}}function Zh(e){var t;const n=Sh();return Lh&&(e.agent&&n.addPolicy(function(e){return{name:"agentPolicy",sendRequest:async(t,n)=>(t.agent||(t.agent=e),n(t))}}(e.agent)),e.tlsOptions&&n.addPolicy(function(e){return{name:"tlsPolicy",sendRequest:async(t,n)=>(t.tlsSettings||(t.tlsSettings=e),n(t))}}(e.tlsOptions)),n.addPolicy(Bh(e.proxyOptions)),n.addPolicy(jh())),n.addPolicy({name:"wrapAbortSignalLikePolicy",sendRequest:async(e,t)=>{if(!e.abortSignal)return t(e);const{abortSignal:n,cleanup:r}=Xh(e.abortSignal);e.abortSignal=n;try{return await t(e)}finally{null===r||void 0===r||r()}}}),n.addPolicy(hh(),{beforePolicies:[Fh]}),n.addPolicy(function(){const e=Oh((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).userAgentPrefix);return{name:"userAgentPolicy",sendRequest:async(t,n)=>(t.headers.has(Mh)||t.headers.set(Mh,await e),n(t))}}(e.userAgentOptions)),n.addPolicy(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x-ms-client-request-id";return{name:"setClientRequestIdPolicy",sendRequest:async(t,n)=>(t.headers.has(e)||t.headers.set(e,t.requestId),n(t))}}(null===(t=e.telemetryOptions)||void 0===t?void 0:t.clientRequestIdHeaderName)),n.addPolicy(function(){const e=wh();return{name:Fh,sendRequest:async(t,n)=>{if(t.multipartBody)for(const e of t.multipartBody.parts)Uh(e.body)&&(e.body=Uh(r=e.body)?r[Dh]():r);var r;return e.sendRequest(t,n)}}}(),{afterPhase:"Deserialize"}),n.addPolicy(Hh(e.retryOptions),{phase:"Retry"}),n.addPolicy(Yh(Object.assign(Object.assign({},e.userAgentOptions),e.loggingOptions)),{afterPhase:"Retry"}),Lh&&n.addPolicy(function(){return Ah(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}(e.redirectOptions),{afterPhase:"Retry"}),n.addPolicy(Rh(e.loggingOptions),{afterPhase:"Sign"}),n}function em(e){return function(e){return new Mp(e)}(e)}Ph("core-rest-pipeline retryPolicy");const tm={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:12e4};function nm(e,t){let n,r=null,o=null;const a=Object.assign(Object.assign({},tm),t),i={get isRefreshing(){return null!==r},get shouldRefresh(){var e;return!i.isRefreshing&&(!!((null===o||void 0===o?void 0:o.refreshAfterTimestamp)&&o.refreshAfterTimestamp<Date.now())||(null!==(e=null===o||void 0===o?void 0:o.expiresOnTimestamp)&&void 0!==e?e:0)-a.refreshWindowInMs<Date.now())},get mustRefresh(){return null===o||o.expiresOnTimestamp-a.forcedRefreshWindowInMs<Date.now()}};function s(t,s){var l;if(!i.isRefreshing){r=async function(e,t,n){async function r(){if(!(Date.now()<n)){const t=await e();if(null===t)throw new Error("Failed to refresh access token.");return t}try{return await e()}catch(l){return null}}let o=await r();for(;null===o;)await xh(t),o=await r();return o}((()=>e.getToken(t,s)),a.retryIntervalInMs,null!==(l=null===o||void 0===o?void 0:o.expiresOnTimestamp)&&void 0!==l?l:Date.now()).then((e=>(r=null,o=e,n=s.tenantId,o))).catch((e=>{throw r=null,o=null,n=void 0,e}))}return r}return async(e,t)=>{const r=Boolean(t.claims),a=n!==t.tenantId;r&&(o=null);return a||r||i.mustRefresh?s(e,t):(i.shouldRefresh&&s(e,t),o)}}const rm="bearerTokenAuthenticationPolicy";async function om(e,t){try{return[await t(e),void 0]}catch(n){if($h(n)&&n.response)return[n.response,n];throw n}}async function am(e){const{scopes:t,getAccessToken:n,request:r}=e,o={abortSignal:r.abortSignal,tracingOptions:r.tracingOptions,enableCae:!0},a=await n(t,o);a&&e.request.headers.set("Authorization","Bearer ".concat(a.token))}function im(e){return 401===e.status&&e.headers.has("WWW-Authenticate")}async function sm(e,t){var n;const{scopes:r}=e,o=await e.getAccessToken(r,{enableCae:!0,claims:t});return!!o&&(e.request.headers.set("Authorization","".concat(null!==(n=o.tokenType)&&void 0!==n?n:"Bearer"," ").concat(o.token)),!0)}function lm(e){var t,n,r;const{credential:o,scopes:a,challengeCallbacks:i}=e,s=e.logger||kh,l={authorizeRequest:null!==(n=null===(t=null===i||void 0===i?void 0:i.authorizeRequest)||void 0===t?void 0:t.bind(i))&&void 0!==n?n:am,authorizeRequestOnChallenge:null===(r=null===i||void 0===i?void 0:i.authorizeRequestOnChallenge)||void 0===r?void 0:r.bind(i)},c=o?nm(o):()=>Promise.resolve(null);return{name:rm,async sendRequest(e,t){if(!e.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");let n,r,o;if(await l.authorizeRequest({scopes:Array.isArray(a)?a:[a],request:e,getAccessToken:c,logger:s}),[n,r]=await om(e,t),im(n)){let u=cm(n.headers.get("WWW-Authenticate"));if(u){let l;try{l=atob(u)}catch(i){return s.warning('The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: '.concat(u)),n}o=await sm({scopes:Array.isArray(a)?a:[a],response:n,request:e,getAccessToken:c,logger:s},l),o&&([n,r]=await om(e,t))}else if(l.authorizeRequestOnChallenge&&(o=await l.authorizeRequestOnChallenge({scopes:Array.isArray(a)?a:[a],request:e,response:n,getAccessToken:c,logger:s}),o&&([n,r]=await om(e,t)),im(n)&&(u=cm(n.headers.get("WWW-Authenticate")),u))){let l;try{l=atob(u)}catch(i){return s.warning('The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: '.concat(u)),n}o=await sm({scopes:Array.isArray(a)?a:[a],response:n,request:e,getAccessToken:c,logger:s},l),o&&([n,r]=await om(e,t))}}if(r)throw r;return n}}}function cm(e){var t;if(!e)return;const n=function(e){const t=/(\w+)\s+((?:\w+=(?:"[^"]*"|[^,]*),?\s*)+)/g,n=/(\w+)="([^"]*)"/g,r=[];let o;for(;null!==(o=t.exec(e));){const e=o[1],t=o[2],a={};let i;for(;null!==(i=n.exec(t));)a[i[1]]=i[2];r.push({scheme:e,params:a})}return r}(e);return null===(t=n.find((e=>"Bearer"===e.scheme&&e.params.claims&&"insufficient_claims"===e.params.error)))||void 0===t?void 0:t.params.claims}const um={operationRequestMap:new WeakMap};function dm(e,t,n){let r=t.parameterPath;const o=t.mapper;let a;if("string"===typeof r&&(r=[r]),Array.isArray(r)){if(r.length>0)if(o.isConstant)a=o.defaultValue;else{let t=pm(e,r);!t.propertyFound&&n&&(t=pm(n,r));let i=!1;t.propertyFound||(i=o.required||"options"===r[0]&&2===r.length),a=i?o.defaultValue:t.propertyValue}}else{o.required&&(a={});for(const t in r){const i=o.type.modelProperties[t],s=dm(e,{parameterPath:r[t],mapper:i},n);void 0!==s&&(a||(a={}),a[t]=s)}}return a}function pm(e,t){const n={propertyFound:!1};let r=0;for(;r<t.length;++r){const n=t[r];if(!e||!(n in e))break;e=e[n]}return r===t.length&&(n.propertyValue=e,n.propertyFound=!0),n}const hm=Symbol.for("@azure/core-client original request");function mm(e){if(function(e){return hm in e}(e))return mm(e[hm]);let t=um.operationRequestMap.get(e);return t||(t={},um.operationRequestMap.set(e,t)),t}const fm=["application/json","text/json"],gm=["application/xml","application/atom+xml"];function ym(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n,r,o,a,i,s;const l=null!==(n=null===(t=e.expectedContentTypes)||void 0===t?void 0:t.json)&&void 0!==n?n:fm,c=null!==(o=null===(r=e.expectedContentTypes)||void 0===r?void 0:r.xml)&&void 0!==o?o:gm,u=e.parseXML,d=e.serializerOptions,p={xml:{rootName:null!==(a=null===d||void 0===d?void 0:d.xml.rootName)&&void 0!==a?a:"",includeRoot:null!==(i=null===d||void 0===d?void 0:d.xml.includeRoot)&&void 0!==i&&i,xmlCharKey:null!==(s=null===d||void 0===d?void 0:d.xml.xmlCharKey)&&void 0!==s?s:Hd}};return{name:"deserializationPolicy",async sendRequest(e,t){const n=await t(e);return async function(e,t,n,r,o){const a=await async function(e,t,n,r,o){var a;if(!(null===(a=n.request.streamResponseStatusCodes)||void 0===a?void 0:a.has(n.status))&&n.bodyAsText){const a=n.bodyAsText,s=n.headers.get("Content-Type")||"",l=s?s.split(";").map((e=>e.toLowerCase())):[];try{if(0===l.length||l.some((t=>-1!==e.indexOf(t))))return n.parsedBody=JSON.parse(a),n;if(l.some((e=>-1!==t.indexOf(e)))){if(!o)throw new Error("Parsing XML not supported.");const e=await o(a,r.xml);return n.parsedBody=e,n}}catch(i){const e='Error "'.concat(i,'" occurred while parsing the response body - ').concat(n.bodyAsText,"."),t=i.code||Jh.PARSE_ERROR;throw new Jh(e,{code:t,statusCode:n.status,request:n.request,response:n})}}return n}(e,t,n,r,o);if(!function(e){const t=e.request,n=mm(t),r=null===n||void 0===n?void 0:n.shouldDeserialize;let o;o=void 0===r||("boolean"===typeof r?r:r(e));return o}(a))return a;const i=mm(a.request),s=null===i||void 0===i?void 0:i.operationSpec;if(!s||!s.responses)return a;const l=function(e){let t;const n=e.request,r=mm(n),o=null===r||void 0===r?void 0:r.operationSpec;o&&(t=(null===r||void 0===r?void 0:r.operationResponseGetter)?null===r||void 0===r?void 0:r.operationResponseGetter(o,e):o.responses[e.status]);return t}(a),{error:c,shouldReturnResponse:u}=function(e,t,n,r){var o,a,i,s,l;const c=200<=e.status&&e.status<300,u=function(e){const t=Object.keys(e.responses);return 0===t.length||1===t.length&&"default"===t[0]}(t)?c:!!n;if(u){if(!n)return{error:null,shouldReturnResponse:!1};if(!n.isError)return{error:null,shouldReturnResponse:!1}}const d=null!==n&&void 0!==n?n:t.responses.default,p=(null===(o=e.request.streamResponseStatusCodes)||void 0===o?void 0:o.has(e.status))?"Unexpected status code: ".concat(e.status):e.bodyAsText,h=new Jh(p,{statusCode:e.status,request:e.request,response:e});if(!d&&(!(null===(i=null===(a=e.parsedBody)||void 0===a?void 0:a.error)||void 0===i?void 0:i.code)||!(null===(l=null===(s=e.parsedBody)||void 0===s?void 0:s.error)||void 0===l?void 0:l.message)))throw h;const m=null===d||void 0===d?void 0:d.bodyMapper,f=null===d||void 0===d?void 0:d.headersMapper;try{if(e.parsedBody){const n=e.parsedBody;let o;if(m){let e=n;if(t.isXML&&m.type.name===np){e=[];const t=m.xmlElementName;"object"===typeof n&&t&&(e=n[t])}o=t.serializer.deserialize(m,e,"error.response.parsedBody",r)}const a=n.error||o||n;h.code=a.code,a.message&&(h.message=a.message),m&&(h.response.parsedBody=o)}e.headers&&f&&(h.response.parsedHeaders=t.serializer.deserialize(f,e.headers.toJSON(),"operationRes.parsedHeaders"))}catch(g){h.message='Error "'.concat(g.message,'" occurred in deserializing the responseBody - "').concat(e.bodyAsText,'" for the default response.')}return{error:h,shouldReturnResponse:!1}}(a,s,l,r);if(c)throw c;if(u)return a;if(l){if(l.bodyMapper){let e=a.parsedBody;s.isXML&&l.bodyMapper.type.name===np&&(e="object"===typeof e?e[l.bodyMapper.xmlElementName]:[]);try{a.parsedBody=s.serializer.deserialize(l.bodyMapper,e,"operationRes.parsedBody",r)}catch(d){throw new Jh("Error ".concat(d," occurred in deserializing the responseBody - ").concat(a.bodyAsText),{statusCode:a.status,request:a.request,response:a})}}else"HEAD"===s.httpMethod&&(a.parsedBody=n.status>=200&&n.status<300);l.headersMapper&&(a.parsedHeaders=s.serializer.deserialize(l.headersMapper,a.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:!0}))}return a}(l,c,n,p,u)}}}function vm(e){const{parameterPath:t,mapper:n}=e;let r;return r="string"===typeof t?t:Array.isArray(t)?t.join("."):n.serializedName,r}function bm(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).stringifyXML;return{name:"serializationPolicy",async sendRequest(t,n){const r=mm(t),o=null===r||void 0===r?void 0:r.operationSpec,a=null===r||void 0===r?void 0:r.operationArguments;return o&&a&&(function(e,t,n){var r,o;if(n.headerParameters)for(const i of n.headerParameters){let r=dm(t,i);if(null!==r&&void 0!==r||i.mapper.required){r=n.serializer.serialize(i.mapper,r,vm(i));const t=i.mapper.headerCollectionPrefix;if(t)for(const n of Object.keys(r))e.headers.set(t+n,r[n]);else e.headers.set(i.mapper.serializedName||vm(i),r)}}const a=null===(o=null===(r=t.options)||void 0===r?void 0:r.requestOptions)||void 0===o?void 0:o.customHeaders;if(a)for(const i of Object.keys(a))e.headers.set(i,a[i])}(t,a,o),function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){throw new Error("XML serialization unsupported!")};var o,a,i,s,l;const c=null===(o=t.options)||void 0===o?void 0:o.serializerOptions,u={xml:{rootName:null!==(a=null===c||void 0===c?void 0:c.xml.rootName)&&void 0!==a?a:"",includeRoot:null!==(i=null===c||void 0===c?void 0:c.xml.includeRoot)&&void 0!==i&&i,xmlCharKey:null!==(s=null===c||void 0===c?void 0:c.xml.xmlCharKey)&&void 0!==s?s:Hd}},d=u.xml.xmlCharKey;if(n.requestBody&&n.requestBody.mapper){e.body=dm(t,n.requestBody);const o=n.requestBody.mapper,{required:a,serializedName:i,xmlName:s,xmlElementName:c,xmlNamespace:h,xmlNamespacePrefix:m,nullable:f}=o,g=o.type.name;try{if(void 0!==e.body&&null!==e.body||f&&null===e.body||a){const t=vm(n.requestBody);e.body=n.serializer.serialize(o,e.body,t,u);const a=g===op;if(n.isXML){const t=m?"xmlns:".concat(m):"xmlns",n=function(e,t,n,r,o){if(e&&!["Composite","Sequence","Dictionary"].includes(n)){const n={};return n[o.xml.xmlCharKey]=r,n[jd]={[t]:e},n}return r}(h,t,g,e.body,u);g===np?e.body=r(function(e,t,n,r){Array.isArray(e)||(e=[e]);if(!n||!r)return{[t]:e};const o={[t]:e};return o[jd]={[n]:r},o}(n,c||s||i,t,h),{rootName:s||i,xmlCharKey:d}):a||(e.body=r(n,{rootName:s||i,xmlCharKey:d}))}else{if(g===rp&&((null===(l=n.contentType)||void 0===l?void 0:l.match("text/plain"))||"text"===n.mediaType))return;a||(e.body=JSON.stringify(e.body))}}}catch(p){throw new Error('Error "'.concat(p.message,'" occurred in serializing the payload - ').concat(JSON.stringify(i,void 0,"  "),"."))}}else if(n.formDataParameters&&n.formDataParameters.length>0){e.formData={};for(const r of n.formDataParameters){const o=dm(t,r);if(void 0!==o&&null!==o){const t=r.mapper.serializedName||vm(r);e.formData[t]=n.serializer.serialize(r.mapper,o,vm(r),u)}}}}(t,a,o,e)),n(t)}}}let wm;function Sm(){return wm||(wm=function(){const e=Yp();return{async sendRequest(t){const{abortSignal:n,cleanup:r}=t.abortSignal?Xh(t.abortSignal):{};try{return t.abortSignal=n,await e.sendRequest(t)}finally{null===r||void 0===r||r()}}}}()),wm}const Cm={CSV:",",SSV:" ",Multi:"Multi",TSV:"\t",Pipes:"|"};function Pm(e,t,n,r){const o=function(e,t,n){var r;const o=new Map;if(null===(r=e.urlParameters)||void 0===r?void 0:r.length)for(const a of e.urlParameters){let r=dm(t,a,n);const i=vm(a);r=e.serializer.serialize(a.mapper,r,i),a.skipEncoding||(r=encodeURIComponent(r)),o.set("{".concat(a.mapper.serializedName||i,"}"),r)}return o}(t,n,r);let a=!1,i=km(e,o);if(t.path){let e=km(t.path,o);"/{nextLink}"===t.path&&e.startsWith("/")&&(e=e.substring(1)),e.includes("://")?(i=e,a=!0):i=function(e,t){if(!t)return e;const n=new URL(e);let r=n.pathname;r.endsWith("/")||(r="".concat(r,"/"));t.startsWith("/")&&(t=t.substring(1));const o=t.indexOf("?");if(-1!==o){const e=t.substring(0,o),a=t.substring(o+1);r+=e,a&&(n.search=n.search?"".concat(n.search,"&").concat(a):a)}else r+=t;return n.pathname=r,n.toString()}(i,e)}const{queryParams:s,sequenceParams:l}=function(e,t,n){var r;const o=new Map,a=new Set;if(null===(r=e.queryParameters)||void 0===r?void 0:r.length)for(const i of e.queryParameters){"Sequence"===i.mapper.type.name&&i.mapper.serializedName&&a.add(i.mapper.serializedName);let r=dm(t,i,n);if(void 0!==r&&null!==r||i.mapper.required){r=e.serializer.serialize(i.mapper,r,vm(i));const t=i.collectionFormat?Cm[i.collectionFormat]:"";if(Array.isArray(r)&&(r=r.map((e=>null===e||void 0===e?"":e))),"Multi"===i.collectionFormat&&0===r.length)continue;!Array.isArray(r)||"SSV"!==i.collectionFormat&&"TSV"!==i.collectionFormat||(r=r.join(t)),i.skipEncoding||(r=Array.isArray(r)?r.map((e=>encodeURIComponent(e))):encodeURIComponent(r)),!Array.isArray(r)||"CSV"!==i.collectionFormat&&"Pipes"!==i.collectionFormat||(r=r.join(t)),o.set(i.mapper.serializedName||vm(i),r)}}return{queryParams:o,sequenceParams:a}}(t,n,r);return i=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===t.size)return e;const o=new URL(e),a=function(e){const t=new Map;if(!e||"?"!==e[0])return t;const n=(e=e.slice(1)).split("&");for(const r of n){const[e,n]=r.split("=",2),o=t.get(e);o?Array.isArray(o)?o.push(n):t.set(e,[o,n]):t.set(e,n)}return t}(o.search);for(const[s,l]of t){const e=a.get(s);if(Array.isArray(e))if(Array.isArray(l)){e.push(...l);const t=new Set(e);a.set(s,Array.from(t))}else e.push(l);else e?(Array.isArray(l)?l.unshift(e):n.has(s)&&a.set(s,[e,l]),r||a.set(s,l)):a.set(s,l)}const i=[];for(const[s,l]of a)if("string"===typeof l)i.push("".concat(s,"=").concat(l));else if(Array.isArray(l))for(const e of l)i.push("".concat(s,"=").concat(e));else i.push("".concat(s,"=").concat(l));return o.search=i.length?"?".concat(i.join("&")):"",o.toString()}(i,s,l,a),i}function km(e,t){let n=e;for(const[r,o]of t)n=n.split(r).join(o);return n}const Tm=Ph("core-client");class Im{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;if(this._requestContentType=e.requestContentType,this._endpoint=null!==(t=e.endpoint)&&void 0!==t?t:e.baseUri,e.baseUri&&Tm.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=e.allowInsecureConnection,this._httpClient=e.httpClient||Sm(),this.pipeline=e.pipeline||function(e){const t=function(e){if(e.credentialScopes)return e.credentialScopes;if(e.endpoint)return"".concat(e.endpoint,"/.default");if(e.baseUri)return"".concat(e.baseUri,"/.default");if(e.credential&&!e.credentialScopes)throw new Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy");return}(e),n=e.credential&&t?{credentialScopes:t,credential:e.credential}:void 0;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Zh(null!==e&&void 0!==e?e:{});return e.credentialOptions&&t.addPolicy(lm({credential:e.credentialOptions.credential,scopes:e.credentialOptions.credentialScopes})),t.addPolicy(bm(e.serializationOptions),{phase:"Serialize"}),t.addPolicy(ym(e.deserializationOptions),{phase:"Deserialize"}),t}(Object.assign(Object.assign({},e),{credentialOptions:n}))}(e),null===(n=e.additionalPolicies)||void 0===n?void 0:n.length)for(const{policy:r,position:o}of e.additionalPolicies){const e="perRetry"===o?"Sign":void 0;this.pipeline.addPolicy(r,{afterPhase:e})}}async sendRequest(e){return this.pipeline.sendRequest(this._httpClient,e)}async sendOperationRequest(e,t){const n=t.baseUrl||this._endpoint;if(!n)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");const r=em({url:Pm(n,t,e,this)});r.method=t.httpMethod;const o=mm(r);o.operationSpec=t,o.operationArguments=e;const a=t.contentType||this._requestContentType;a&&t.requestBody&&r.headers.set("Content-Type",a);const i=e.options;if(i){const e=i.requestOptions;e&&(e.timeout&&(r.timeout=e.timeout),e.onUploadProgress&&(r.onUploadProgress=e.onUploadProgress),e.onDownloadProgress&&(r.onDownloadProgress=e.onDownloadProgress),void 0!==e.shouldDeserialize&&(o.shouldDeserialize=e.shouldDeserialize),e.allowInsecureConnection&&(r.allowInsecureConnection=!0)),i.abortSignal&&(r.abortSignal=i.abortSignal),i.tracingOptions&&(r.tracingOptions=i.tracingOptions)}this._allowInsecureConnection&&(r.allowInsecureConnection=!0),void 0===r.streamResponseStatusCodes&&(r.streamResponseStatusCodes=function(e){const t=new Set;for(const n in e.responses){const r=e.responses[n];r.bodyMapper&&r.bodyMapper.type.name===op&&t.add(Number(n))}return t}(t));try{const e=await this.sendRequest(r),n=Kd(e,t.responses[e.status]);return(null===i||void 0===i?void 0:i.onResponse)&&i.onResponse(e,n),n}catch(s){if("object"===typeof s&&(null===s||void 0===s?void 0:s.response)){const e=s.response,n=Kd(e,t.responses[s.statusCode]||t.responses.default);s.details=n,(null===i||void 0===i?void 0:i.onResponse)&&i.onResponse(e,n,s)}throw s}}}async function Am(e){var t;const{scopes:n,response:r}=e,o=e.logger||Tm,a=r.headers.get("WWW-Authenticate");if(!a)return o.info("The WWW-Authenticate header was missing. Failed to perform the Continuous Access Evaluation authentication flow."),!1;const i=function(e){return", ".concat(e.trim()).split(", Bearer ").filter((e=>e)).map((e=>"".concat(e.trim(),", ").split('", ').filter((e=>e)).map((e=>(e=>{let[t,n]=e;return{[t]:n}})(e.trim().split('="')))).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})))}(a)||[],s=i.find((e=>e.claims));if(!s)return o.info('The WWW-Authenticate header was missing the necessary "claims" to perform the Continuous Access Evaluation authentication flow.'),!1;const l=await e.getAccessToken(s.scope?[s.scope]:n,{claims:(c=s.claims,atob(c))});var c;return!!l&&(e.request.headers.set("Authorization","".concat(null!==(t=l.tokenType)&&void 0!==t?t:"Bearer"," ").concat(l.token)),!0)}function Nm(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}Object.create;function Rm(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Em(e){return this instanceof Em?(this.v=e,this):new Em(e)}function Om(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),i("next"),i("throw"),i("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function i(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=o[e](t)).value instanceof Em?Promise.resolve(n.value.v).then(l,c):u(a[0][2],n)}catch(r){u(a[0][3],r)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function Mm(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:Em(e[r](t)),done:!1}:o?o(t):t}:o}}function _m(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Rm(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError;const xm={type:{name:"Composite",className:"OperationListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"Operation"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},zm={type:{name:"Composite",className:"Operation",modelProperties:{name:{serializedName:"name",type:{name:"String"}},display:{serializedName:"display",type:{name:"Composite",className:"OperationDisplay"}}}}},qm={type:{name:"Composite",className:"OperationDisplay",modelProperties:{provider:{serializedName:"provider",type:{name:"String"}},resource:{serializedName:"resource",type:{name:"String"}},operation:{serializedName:"operation",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}}}}},Lm={type:{name:"Composite",className:"CloudError",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorResponse"}}}}},Dm={type:{name:"Composite",className:"ErrorResponse",modelProperties:{code:{serializedName:"code",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}},target:{serializedName:"target",readOnly:!0,type:{name:"String"}},details:{serializedName:"details",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorResponse"}}}},additionalInfo:{serializedName:"additionalInfo",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorAdditionalInfo"}}}}}}},Um={type:{name:"Composite",className:"ErrorAdditionalInfo",modelProperties:{type:{serializedName:"type",readOnly:!0,type:{name:"String"}},info:{serializedName:"info",readOnly:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},Fm={type:{name:"Composite",className:"Deployment",modelProperties:{location:{serializedName:"location",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"DeploymentProperties"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},jm={type:{name:"Composite",className:"DeploymentProperties",modelProperties:{template:{serializedName:"template",type:{name:"Dictionary",value:{type:{name:"any"}}}},templateLink:{serializedName:"templateLink",type:{name:"Composite",className:"TemplateLink"}},parameters:{serializedName:"parameters",type:{name:"Dictionary",value:{type:{name:"Composite",className:"DeploymentParameter"}}}},parametersLink:{serializedName:"parametersLink",type:{name:"Composite",className:"ParametersLink"}},extensionConfigs:{serializedName:"extensionConfigs",type:{name:"Dictionary",value:{type:{name:"Dictionary",value:{type:{name:"Composite",className:"DeploymentExtensionConfigItem"}}}}}},mode:{serializedName:"mode",required:!0,type:{name:"Enum",allowedValues:["Incremental","Complete"]}},debugSetting:{serializedName:"debugSetting",type:{name:"Composite",className:"DebugSetting"}},onErrorDeployment:{serializedName:"onErrorDeployment",type:{name:"Composite",className:"OnErrorDeployment"}},expressionEvaluationOptions:{serializedName:"expressionEvaluationOptions",type:{name:"Composite",className:"ExpressionEvaluationOptions"}},validationLevel:{serializedName:"validationLevel",type:{name:"String"}}}}},Hm={type:{name:"Composite",className:"TemplateLink",modelProperties:{uri:{serializedName:"uri",type:{name:"String"}},id:{serializedName:"id",type:{name:"String"}},relativePath:{serializedName:"relativePath",type:{name:"String"}},contentVersion:{serializedName:"contentVersion",type:{name:"String"}},queryString:{serializedName:"queryString",type:{name:"String"}}}}},Bm={type:{name:"Composite",className:"DeploymentParameter",modelProperties:{value:{serializedName:"value",type:{name:"any"}},reference:{serializedName:"reference",type:{name:"Composite",className:"KeyVaultParameterReference"}}}}},Gm={type:{name:"Composite",className:"KeyVaultParameterReference",modelProperties:{keyVault:{serializedName:"keyVault",type:{name:"Composite",className:"KeyVaultReference"}},secretName:{serializedName:"secretName",required:!0,type:{name:"String"}},secretVersion:{serializedName:"secretVersion",type:{name:"String"}}}}},Km={type:{name:"Composite",className:"KeyVaultReference",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}}}}},Wm={type:{name:"Composite",className:"ParametersLink",modelProperties:{uri:{serializedName:"uri",required:!0,type:{name:"String"}},contentVersion:{serializedName:"contentVersion",type:{name:"String"}}}}},Vm={type:{name:"Composite",className:"DeploymentExtensionConfigItem",modelProperties:{type:{serializedName:"type",readOnly:!0,type:{name:"String"}},value:{serializedName:"value",type:{name:"any"}},keyVaultReference:{serializedName:"keyVaultReference",type:{name:"Composite",className:"KeyVaultParameterReference"}}}}},Qm={type:{name:"Composite",className:"DebugSetting",modelProperties:{detailLevel:{serializedName:"detailLevel",type:{name:"String"}}}}},Jm={type:{name:"Composite",className:"OnErrorDeployment",modelProperties:{type:{serializedName:"type",type:{name:"Enum",allowedValues:["LastSuccessful","SpecificDeployment"]}},deploymentName:{serializedName:"deploymentName",type:{name:"String"}}}}},$m={type:{name:"Composite",className:"ExpressionEvaluationOptions",modelProperties:{scope:{serializedName:"scope",type:{name:"String"}}}}},Ym={type:{name:"Composite",className:"DeploymentExtended",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},location:{serializedName:"location",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"DeploymentPropertiesExtended"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},Xm={type:{name:"Composite",className:"DeploymentPropertiesExtended",modelProperties:{provisioningState:{serializedName:"provisioningState",readOnly:!0,type:{name:"String"}},correlationId:{serializedName:"correlationId",readOnly:!0,type:{name:"String"}},timestamp:{serializedName:"timestamp",readOnly:!0,type:{name:"DateTime"}},duration:{serializedName:"duration",readOnly:!0,type:{name:"String"}},outputs:{serializedName:"outputs",readOnly:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}},providers:{serializedName:"providers",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Provider"}}}},dependencies:{serializedName:"dependencies",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Dependency"}}}},templateLink:{serializedName:"templateLink",type:{name:"Composite",className:"TemplateLink"}},parameters:{serializedName:"parameters",readOnly:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}},parametersLink:{serializedName:"parametersLink",type:{name:"Composite",className:"ParametersLink"}},extensions:{serializedName:"extensions",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DeploymentExtensionDefinition"}}}},mode:{serializedName:"mode",readOnly:!0,type:{name:"Enum",allowedValues:["Incremental","Complete"]}},debugSetting:{serializedName:"debugSetting",type:{name:"Composite",className:"DebugSetting"}},onErrorDeployment:{serializedName:"onErrorDeployment",type:{name:"Composite",className:"OnErrorDeploymentExtended"}},templateHash:{serializedName:"templateHash",readOnly:!0,type:{name:"String"}},outputResources:{serializedName:"outputResources",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ResourceReference"}}}},validatedResources:{serializedName:"validatedResources",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ResourceReference"}}}},error:{serializedName:"error",type:{name:"Composite",className:"ErrorResponse"}},diagnostics:{serializedName:"diagnostics",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DeploymentDiagnosticsDefinition"}}}},validationLevel:{serializedName:"validationLevel",type:{name:"String"}}}}},Zm={type:{name:"Composite",className:"Provider",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},namespace:{serializedName:"namespace",type:{name:"String"}},registrationState:{serializedName:"registrationState",readOnly:!0,type:{name:"String"}},registrationPolicy:{serializedName:"registrationPolicy",readOnly:!0,type:{name:"String"}},resourceTypes:{serializedName:"resourceTypes",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ProviderResourceType"}}}},providerAuthorizationConsentState:{serializedName:"providerAuthorizationConsentState",type:{name:"String"}}}}},ef={type:{name:"Composite",className:"ProviderResourceType",modelProperties:{resourceType:{serializedName:"resourceType",type:{name:"String"}},locations:{serializedName:"locations",type:{name:"Sequence",element:{type:{name:"String"}}}},locationMappings:{serializedName:"locationMappings",type:{name:"Sequence",element:{type:{name:"Composite",className:"ProviderExtendedLocation"}}}},aliases:{serializedName:"aliases",type:{name:"Sequence",element:{type:{name:"Composite",className:"Alias"}}}},apiVersions:{serializedName:"apiVersions",type:{name:"Sequence",element:{type:{name:"String"}}}},defaultApiVersion:{serializedName:"defaultApiVersion",readOnly:!0,type:{name:"String"}},zoneMappings:{serializedName:"zoneMappings",type:{name:"Sequence",element:{type:{name:"Composite",className:"ZoneMapping"}}}},apiProfiles:{serializedName:"apiProfiles",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ApiProfile"}}}},capabilities:{serializedName:"capabilities",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},tf={type:{name:"Composite",className:"ProviderExtendedLocation",modelProperties:{location:{serializedName:"location",type:{name:"String"}},type:{serializedName:"type",type:{name:"String"}},extendedLocations:{serializedName:"extendedLocations",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},nf={type:{name:"Composite",className:"Alias",modelProperties:{name:{serializedName:"name",type:{name:"String"}},paths:{serializedName:"paths",type:{name:"Sequence",element:{type:{name:"Composite",className:"AliasPath"}}}},type:{serializedName:"type",type:{name:"Enum",allowedValues:["NotSpecified","PlainText","Mask"]}},defaultPath:{serializedName:"defaultPath",type:{name:"String"}},defaultPattern:{serializedName:"defaultPattern",type:{name:"Composite",className:"AliasPattern"}},defaultMetadata:{serializedName:"defaultMetadata",type:{name:"Composite",className:"AliasPathMetadata"}}}}},rf={type:{name:"Composite",className:"AliasPath",modelProperties:{path:{serializedName:"path",type:{name:"String"}},apiVersions:{serializedName:"apiVersions",type:{name:"Sequence",element:{type:{name:"String"}}}},pattern:{serializedName:"pattern",type:{name:"Composite",className:"AliasPattern"}},metadata:{serializedName:"metadata",type:{name:"Composite",className:"AliasPathMetadata"}}}}},of={type:{name:"Composite",className:"AliasPattern",modelProperties:{phrase:{serializedName:"phrase",type:{name:"String"}},variable:{serializedName:"variable",type:{name:"String"}},type:{serializedName:"type",type:{name:"Enum",allowedValues:["NotSpecified","Extract"]}}}}},af={type:{name:"Composite",className:"AliasPathMetadata",modelProperties:{type:{serializedName:"type",readOnly:!0,type:{name:"String"}},attributes:{serializedName:"attributes",readOnly:!0,type:{name:"String"}}}}},sf={type:{name:"Composite",className:"ZoneMapping",modelProperties:{location:{serializedName:"location",type:{name:"String"}},zones:{serializedName:"zones",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},lf={type:{name:"Composite",className:"ApiProfile",modelProperties:{profileVersion:{serializedName:"profileVersion",readOnly:!0,type:{name:"String"}},apiVersion:{serializedName:"apiVersion",readOnly:!0,type:{name:"String"}}}}},cf={type:{name:"Composite",className:"Dependency",modelProperties:{dependsOn:{serializedName:"dependsOn",type:{name:"Sequence",element:{type:{name:"Composite",className:"BasicDependency"}}}},id:{serializedName:"id",type:{name:"String"}},resourceType:{serializedName:"resourceType",type:{name:"String"}},resourceName:{serializedName:"resourceName",type:{name:"String"}}}}},uf={type:{name:"Composite",className:"BasicDependency",modelProperties:{id:{serializedName:"id",type:{name:"String"}},resourceType:{serializedName:"resourceType",type:{name:"String"}},resourceName:{serializedName:"resourceName",type:{name:"String"}}}}},df={type:{name:"Composite",className:"DeploymentExtensionDefinition",modelProperties:{alias:{serializedName:"alias",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},version:{serializedName:"version",readOnly:!0,type:{name:"String"}},configId:{serializedName:"configId",readOnly:!0,type:{name:"String"}},config:{serializedName:"config",readOnly:!0,type:{name:"Dictionary",value:{type:{name:"Composite",className:"DeploymentExtensionConfigItem"}}}}}}},pf={type:{name:"Composite",className:"OnErrorDeploymentExtended",modelProperties:{provisioningState:{serializedName:"provisioningState",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",type:{name:"Enum",allowedValues:["LastSuccessful","SpecificDeployment"]}},deploymentName:{serializedName:"deploymentName",type:{name:"String"}}}}},hf={type:{name:"Composite",className:"ResourceReference",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},extension:{serializedName:"extension",type:{name:"Composite",className:"DeploymentExtensionDefinition"}},resourceType:{serializedName:"resourceType",readOnly:!0,type:{name:"String"}},identifiers:{serializedName:"identifiers",readOnly:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}},apiVersion:{serializedName:"apiVersion",readOnly:!0,type:{name:"String"}}}}},mf={type:{name:"Composite",className:"DeploymentDiagnosticsDefinition",modelProperties:{level:{serializedName:"level",required:!0,readOnly:!0,type:{name:"String"}},code:{serializedName:"code",required:!0,readOnly:!0,type:{name:"String"}},message:{serializedName:"message",required:!0,readOnly:!0,type:{name:"String"}},target:{serializedName:"target",readOnly:!0,type:{name:"String"}},additionalInfo:{serializedName:"additionalInfo",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorAdditionalInfo"}}}}}}},ff={type:{name:"Composite",className:"DeploymentValidateResult",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorResponse"}},id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"DeploymentPropertiesExtended"}}}}},gf={type:{name:"Composite",className:"DeploymentExportResult",modelProperties:{template:{serializedName:"template",type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},yf={type:{name:"Composite",className:"DeploymentListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"DeploymentExtended"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},vf={type:{name:"Composite",className:"ScopedDeployment",modelProperties:{location:{serializedName:"location",required:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"DeploymentProperties"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},bf={type:{name:"Composite",className:"ScopedDeploymentWhatIf",modelProperties:{location:{serializedName:"location",required:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"DeploymentWhatIfProperties"}}}}},wf={type:{name:"Composite",className:"DeploymentWhatIfSettings",modelProperties:{resultFormat:{serializedName:"resultFormat",type:{name:"Enum",allowedValues:["ResourceIdOnly","FullResourcePayloads"]}}}}},Sf={type:{name:"Composite",className:"WhatIfOperationResult",modelProperties:{status:{serializedName:"status",type:{name:"String"}},error:{serializedName:"error",type:{name:"Composite",className:"ErrorResponse"}},changes:{serializedName:"properties.changes",type:{name:"Sequence",element:{type:{name:"Composite",className:"WhatIfChange"}}}},potentialChanges:{serializedName:"properties.potentialChanges",type:{name:"Sequence",element:{type:{name:"Composite",className:"WhatIfChange"}}}},diagnostics:{serializedName:"properties.diagnostics",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DeploymentDiagnosticsDefinition"}}}}}}},Cf={type:{name:"Composite",className:"WhatIfChange",modelProperties:{resourceId:{serializedName:"resourceId",type:{name:"String"}},deploymentId:{serializedName:"deploymentId",type:{name:"String"}},symbolicName:{serializedName:"symbolicName",type:{name:"String"}},identifiers:{serializedName:"identifiers",type:{name:"Dictionary",value:{type:{name:"any"}}}},changeType:{serializedName:"changeType",required:!0,type:{name:"Enum",allowedValues:["Create","Delete","Ignore","Deploy","NoChange","Modify","Unsupported"]}},unsupportedReason:{serializedName:"unsupportedReason",type:{name:"String"}},before:{serializedName:"before",type:{name:"Dictionary",value:{type:{name:"any"}}}},after:{serializedName:"after",type:{name:"Dictionary",value:{type:{name:"any"}}}},delta:{serializedName:"delta",type:{name:"Sequence",element:{type:{name:"Composite",className:"WhatIfPropertyChange"}}}}}}},Pf={type:{name:"Composite",className:"WhatIfPropertyChange",modelProperties:{path:{serializedName:"path",required:!0,type:{name:"String"}},propertyChangeType:{serializedName:"propertyChangeType",required:!0,type:{name:"Enum",allowedValues:["Create","Delete","Modify","Array","NoEffect"]}},before:{serializedName:"before",type:{name:"Dictionary",value:{type:{name:"any"}}}},after:{serializedName:"after",type:{name:"Dictionary",value:{type:{name:"any"}}}},children:{serializedName:"children",type:{name:"Sequence",element:{type:{name:"Composite",className:"WhatIfPropertyChange"}}}}}}},kf={type:{name:"Composite",className:"DeploymentWhatIf",modelProperties:{location:{serializedName:"location",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"DeploymentWhatIfProperties"}}}}},Tf={type:{name:"Composite",className:"ProviderPermissionListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"ProviderPermission"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},If={type:{name:"Composite",className:"ProviderPermission",modelProperties:{applicationId:{serializedName:"applicationId",type:{name:"String"}},roleDefinition:{serializedName:"roleDefinition",type:{name:"Composite",className:"RoleDefinition"}},managedByRoleDefinition:{serializedName:"managedByRoleDefinition",type:{name:"Composite",className:"RoleDefinition"}},providerAuthorizationConsentState:{serializedName:"providerAuthorizationConsentState",type:{name:"String"}}}}},Af={type:{name:"Composite",className:"RoleDefinition",modelProperties:{id:{serializedName:"id",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}},isServiceRole:{serializedName:"isServiceRole",type:{name:"Boolean"}},permissions:{serializedName:"permissions",type:{name:"Sequence",element:{type:{name:"Composite",className:"Permission"}}}},scopes:{serializedName:"scopes",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},Nf={type:{name:"Composite",className:"Permission",modelProperties:{actions:{serializedName:"actions",type:{name:"Sequence",element:{type:{name:"String"}}}},notActions:{serializedName:"notActions",type:{name:"Sequence",element:{type:{name:"String"}}}},dataActions:{serializedName:"dataActions",type:{name:"Sequence",element:{type:{name:"String"}}}},notDataActions:{serializedName:"notDataActions",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},Rf={type:{name:"Composite",className:"ProviderRegistrationRequest",modelProperties:{thirdPartyProviderConsent:{serializedName:"thirdPartyProviderConsent",type:{name:"Composite",className:"ProviderConsentDefinition"}}}}},Ef={type:{name:"Composite",className:"ProviderConsentDefinition",modelProperties:{consentToAuthorization:{serializedName:"consentToAuthorization",type:{name:"Boolean"}}}}},Of={type:{name:"Composite",className:"ProviderListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"Provider"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},Mf={type:{name:"Composite",className:"ProviderResourceTypeListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"ProviderResourceType"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},_f={type:{name:"Composite",className:"ResourceListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"GenericResourceExpanded"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},xf={type:{name:"Composite",className:"Plan",modelProperties:{name:{serializedName:"name",type:{name:"String"}},publisher:{serializedName:"publisher",type:{name:"String"}},product:{serializedName:"product",type:{name:"String"}},promotionCode:{serializedName:"promotionCode",type:{name:"String"}},version:{serializedName:"version",type:{name:"String"}}}}},zf={type:{name:"Composite",className:"Sku",modelProperties:{name:{serializedName:"name",type:{name:"String"}},tier:{serializedName:"tier",type:{name:"String"}},size:{serializedName:"size",type:{name:"String"}},family:{serializedName:"family",type:{name:"String"}},model:{serializedName:"model",type:{name:"String"}},capacity:{serializedName:"capacity",type:{name:"Number"}}}}},qf={type:{name:"Composite",className:"Identity",modelProperties:{principalId:{serializedName:"principalId",readOnly:!0,type:{name:"String"}},tenantId:{serializedName:"tenantId",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",type:{name:"Enum",allowedValues:["SystemAssigned","UserAssigned","SystemAssigned, UserAssigned","None"]}},userAssignedIdentities:{serializedName:"userAssignedIdentities",type:{name:"Dictionary",value:{type:{name:"Composite",className:"IdentityUserAssignedIdentitiesValue"}}}}}}},Lf={type:{name:"Composite",className:"IdentityUserAssignedIdentitiesValue",modelProperties:{principalId:{serializedName:"principalId",readOnly:!0,type:{name:"String"}},clientId:{serializedName:"clientId",readOnly:!0,type:{name:"String"}}}}},Df={type:{name:"Composite",className:"Resource",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},location:{serializedName:"location",type:{name:"String"}},extendedLocation:{serializedName:"extendedLocation",type:{name:"Composite",className:"ExtendedLocation"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},Uf={type:{name:"Composite",className:"ExtendedLocation",modelProperties:{type:{serializedName:"type",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}}}}},Ff={type:{name:"Composite",className:"ResourceGroup",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"ResourceGroupProperties"}},location:{serializedName:"location",required:!0,type:{name:"String"}},managedBy:{serializedName:"managedBy",type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},jf={type:{name:"Composite",className:"ResourceGroupProperties",modelProperties:{provisioningState:{serializedName:"provisioningState",readOnly:!0,type:{name:"String"}}}}},Hf={type:{name:"Composite",className:"ResourceGroupPatchable",modelProperties:{name:{serializedName:"name",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"ResourceGroupProperties"}},managedBy:{serializedName:"managedBy",type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},Bf={type:{name:"Composite",className:"ExportTemplateRequest",modelProperties:{resources:{serializedName:"resources",type:{name:"Sequence",element:{type:{name:"String"}}}},options:{serializedName:"options",type:{name:"String"}},outputFormat:{serializedName:"outputFormat",type:{name:"String"}}}}},Gf={type:{name:"Composite",className:"ResourceGroupExportResult",modelProperties:{template:{serializedName:"template",type:{name:"Dictionary",value:{type:{name:"any"}}}},output:{serializedName:"output",type:{name:"String"}},error:{serializedName:"error",type:{name:"Composite",className:"ErrorResponse"}}}}},Kf={type:{name:"Composite",className:"ResourceGroupListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"ResourceGroup"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},Wf={type:{name:"Composite",className:"ResourcesMoveInfo",modelProperties:{resources:{serializedName:"resources",type:{name:"Sequence",element:{type:{name:"String"}}}},targetResourceGroup:{serializedName:"targetResourceGroup",type:{name:"String"}}}}},Vf={type:{name:"Composite",className:"TagValue",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},tagValue:{serializedName:"tagValue",type:{name:"String"}},count:{serializedName:"count",type:{name:"Composite",className:"TagCount"}}}}},Qf={type:{name:"Composite",className:"TagCount",modelProperties:{type:{serializedName:"type",type:{name:"String"}},value:{serializedName:"value",type:{name:"Number"}}}}},Jf={type:{name:"Composite",className:"TagDetails",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},tagName:{serializedName:"tagName",type:{name:"String"}},count:{serializedName:"count",type:{name:"Composite",className:"TagCount"}},values:{serializedName:"values",type:{name:"Sequence",element:{type:{name:"Composite",className:"TagValue"}}}}}}},$f={type:{name:"Composite",className:"TagsListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"TagDetails"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},Yf={type:{name:"Composite",className:"DeploymentOperation",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},operationId:{serializedName:"operationId",readOnly:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"DeploymentOperationProperties"}}}}},Xf={type:{name:"Composite",className:"DeploymentOperationProperties",modelProperties:{provisioningOperation:{serializedName:"provisioningOperation",readOnly:!0,type:{name:"Enum",allowedValues:["NotSpecified","Create","Delete","Waiting","AzureAsyncOperationWaiting","ResourceCacheWaiting","Action","Read","EvaluateDeploymentOutput","DeploymentCleanup"]}},provisioningState:{serializedName:"provisioningState",readOnly:!0,type:{name:"String"}},timestamp:{serializedName:"timestamp",readOnly:!0,type:{name:"DateTime"}},duration:{serializedName:"duration",readOnly:!0,type:{name:"String"}},serviceRequestId:{serializedName:"serviceRequestId",readOnly:!0,type:{name:"String"}},statusCode:{serializedName:"statusCode",readOnly:!0,type:{name:"String"}},statusMessage:{serializedName:"statusMessage",type:{name:"Composite",className:"StatusMessage"}},targetResource:{serializedName:"targetResource",type:{name:"Composite",className:"TargetResource"}},request:{serializedName:"request",type:{name:"Composite",className:"HttpMessage"}},response:{serializedName:"response",type:{name:"Composite",className:"HttpMessage"}}}}},Zf={type:{name:"Composite",className:"StatusMessage",modelProperties:{status:{serializedName:"status",type:{name:"String"}},error:{serializedName:"error",type:{name:"Composite",className:"ErrorResponse"}}}}},eg={type:{name:"Composite",className:"TargetResource",modelProperties:{id:{serializedName:"id",type:{name:"String"}},resourceName:{serializedName:"resourceName",type:{name:"String"}},resourceType:{serializedName:"resourceType",type:{name:"String"}},extension:{serializedName:"extension",type:{name:"Composite",className:"DeploymentExtensionDefinition"}},identifiers:{serializedName:"identifiers",type:{name:"Dictionary",value:{type:{name:"any"}}}},apiVersion:{serializedName:"apiVersion",type:{name:"String"}},symbolicName:{serializedName:"symbolicName",type:{name:"String"}}}}},tg={type:{name:"Composite",className:"HttpMessage",modelProperties:{content:{serializedName:"content",type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},ng={type:{name:"Composite",className:"DeploymentOperationsListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"DeploymentOperation"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},rg={type:{name:"Composite",className:"TemplateHashResult",modelProperties:{minifiedTemplate:{serializedName:"minifiedTemplate",type:{name:"String"}},templateHash:{serializedName:"templateHash",type:{name:"String"}}}}},og={type:{name:"Composite",className:"TagsResource",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"Tags"}}}}},ag={type:{name:"Composite",className:"Tags",modelProperties:{tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},ig={type:{name:"Composite",className:"TagsPatchResource",modelProperties:{operation:{serializedName:"operation",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"Tags"}}}}},sg={type:{name:"Composite",className:"DeploymentExtendedFilter",modelProperties:{provisioningState:{serializedName:"provisioningState",type:{name:"String"}}}}},lg={type:{name:"Composite",className:"GenericResourceFilter",modelProperties:{resourceType:{serializedName:"resourceType",type:{name:"String"}},tagname:{serializedName:"tagname",type:{name:"String"}},tagvalue:{serializedName:"tagvalue",type:{name:"String"}}}}},cg={type:{name:"Composite",className:"ResourceGroupFilter",modelProperties:{tagName:{serializedName:"tagName",type:{name:"String"}},tagValue:{serializedName:"tagValue",type:{name:"String"}}}}},ug={type:{name:"Composite",className:"ResourceProviderOperationDisplayProperties",modelProperties:{publisher:{serializedName:"publisher",type:{name:"String"}},provider:{serializedName:"provider",type:{name:"String"}},resource:{serializedName:"resource",type:{name:"String"}},operation:{serializedName:"operation",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}}}}},dg={type:{name:"Composite",className:"SubResource",modelProperties:{id:{serializedName:"id",type:{name:"String"}}}}},pg={type:{name:"Composite",className:"DeploymentWhatIfProperties",modelProperties:Object.assign(Object.assign({},jm.type.modelProperties),{whatIfSettings:{serializedName:"whatIfSettings",type:{name:"Composite",className:"DeploymentWhatIfSettings"}}})}},hg={type:{name:"Composite",className:"GenericResource",modelProperties:Object.assign(Object.assign({},Df.type.modelProperties),{plan:{serializedName:"plan",type:{name:"Composite",className:"Plan"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"any"}}}},kind:{constraints:{Pattern:new RegExp("^[-\\w\\._,\\(\\)]+$")},serializedName:"kind",type:{name:"String"}},managedBy:{serializedName:"managedBy",type:{name:"String"}},sku:{serializedName:"sku",type:{name:"Composite",className:"Sku"}},identity:{serializedName:"identity",type:{name:"Composite",className:"Identity"}}})}},mg={type:{name:"Composite",className:"GenericResourceExpanded",modelProperties:Object.assign(Object.assign({},hg.type.modelProperties),{createdTime:{serializedName:"createdTime",readOnly:!0,type:{name:"DateTime"}},changedTime:{serializedName:"changedTime",readOnly:!0,type:{name:"DateTime"}},provisioningState:{serializedName:"provisioningState",readOnly:!0,type:{name:"String"}}})}},fg={type:{name:"Composite",className:"DeploymentsWhatIfAtTenantScopeHeaders",modelProperties:{location:{serializedName:"location",type:{name:"String"}},retryAfter:{serializedName:"retry-after",type:{name:"String"}}}}},gg={type:{name:"Composite",className:"DeploymentsWhatIfAtManagementGroupScopeHeaders",modelProperties:{location:{serializedName:"location",type:{name:"String"}},retryAfter:{serializedName:"retry-after",type:{name:"String"}}}}},yg={type:{name:"Composite",className:"DeploymentsWhatIfAtSubscriptionScopeHeaders",modelProperties:{location:{serializedName:"location",type:{name:"String"}},retryAfter:{serializedName:"retry-after",type:{name:"String"}}}}},vg={type:{name:"Composite",className:"DeploymentsWhatIfHeaders",modelProperties:{location:{serializedName:"location",type:{name:"String"}},retryAfter:{serializedName:"retry-after",type:{name:"String"}}}}},bg={type:{name:"Composite",className:"ResourceGroupsDeleteHeaders",modelProperties:{location:{serializedName:"location",type:{name:"String"}}}}},wg={type:{name:"Composite",className:"TagsCreateOrUpdateAtScopeHeaders",modelProperties:{location:{serializedName:"location",type:{name:"String"}}}}},Sg={type:{name:"Composite",className:"TagsUpdateAtScopeHeaders",modelProperties:{location:{serializedName:"location",type:{name:"String"}}}}},Cg={type:{name:"Composite",className:"TagsDeleteAtScopeHeaders",modelProperties:{location:{serializedName:"location",type:{name:"String"}}}}},Pg={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},kg={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},Tg={parameterPath:"apiVersion",mapper:{defaultValue:"2025-03-01",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},Ig={parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0},Ag={parameterPath:"scope",mapper:{serializedName:"scope",required:!0,type:{name:"String"}},skipEncoding:!0},Ng={parameterPath:"deploymentName",mapper:{constraints:{Pattern:new RegExp("^[-\\w\\._\\(\\)]+$"),MaxLength:64,MinLength:1},serializedName:"deploymentName",required:!0,type:{name:"String"}}},Rg={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},Eg={parameterPath:"parameters",mapper:Fm},Og={parameterPath:["options","filter"],mapper:{serializedName:"$filter",type:{name:"String"}}},Mg={parameterPath:["options","top"],mapper:{serializedName:"$top",type:{name:"Number"}}},_g={parameterPath:"parameters",mapper:vf},xg={parameterPath:"parameters",mapper:bf},zg={parameterPath:"groupId",mapper:{constraints:{MaxLength:90,MinLength:1},serializedName:"groupId",required:!0,type:{name:"String"}}},qg={parameterPath:"subscriptionId",mapper:{serializedName:"subscriptionId",required:!0,type:{name:"String"}}},Lg={parameterPath:"parameters",mapper:kf},Dg={parameterPath:"resourceGroupName",mapper:{constraints:{Pattern:new RegExp("^[-\\w\\._\\(\\)]+$"),MaxLength:90,MinLength:1},serializedName:"resourceGroupName",required:!0,type:{name:"String"}}},Ug={parameterPath:"resourceProviderNamespace",mapper:{serializedName:"resourceProviderNamespace",required:!0,type:{name:"String"}}},Fg={parameterPath:["options","properties"],mapper:Rf},jg={parameterPath:["options","expand"],mapper:{serializedName:"$expand",type:{name:"String"}}},Hg={parameterPath:"parameters",mapper:Wf},Bg={parameterPath:"sourceResourceGroupName",mapper:{constraints:{Pattern:new RegExp("^[-\\w\\._\\(\\)]+$"),MaxLength:90,MinLength:1},serializedName:"sourceResourceGroupName",required:!0,type:{name:"String"}}},Gg={parameterPath:"parentResourcePath",mapper:{serializedName:"parentResourcePath",required:!0,type:{name:"String"}},skipEncoding:!0},Kg={parameterPath:"resourceType",mapper:{serializedName:"resourceType",required:!0,type:{name:"String"}},skipEncoding:!0},Wg={parameterPath:"resourceName",mapper:{serializedName:"resourceName",required:!0,type:{name:"String"}}},Vg={parameterPath:"apiVersion",mapper:{serializedName:"api-version",required:!0,type:{name:"String"}}},Qg={parameterPath:"parameters",mapper:hg},Jg={parameterPath:"resourceId",mapper:{serializedName:"resourceId",required:!0,type:{name:"String"}},skipEncoding:!0},$g={parameterPath:"parameters",mapper:Ff},Yg={parameterPath:"parameters",mapper:Hf},Xg={parameterPath:"parameters",mapper:Bf},Zg={parameterPath:"tagName",mapper:{serializedName:"tagName",required:!0,type:{name:"String"}}},ey={parameterPath:"tagValue",mapper:{serializedName:"tagValue",required:!0,type:{name:"String"}}},ty={parameterPath:"parameters",mapper:og},ny={parameterPath:"parameters",mapper:ig},ry={parameterPath:"operationId",mapper:{serializedName:"operationId",required:!0,type:{name:"String"}}};class oy{constructor(e){this.client=e}list(e){const t=this.listPagingAll(e);return{next:()=>t.next(),[Symbol.asyncIterator](){return this},byPage:t=>{if(null===t||void 0===t?void 0:t.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(e,t)}}}listPagingPage(e,t){return Om(this,arguments,(function*(){let n,r=null===t||void 0===t?void 0:t.continuationToken;if(!r){n=yield Em(this._list(e));let t=n.value||[];r=n.nextLink,Ad(t,r),yield yield Em(t)}for(;r;){n=yield Em(this._listNext(r,e)),r=n.nextLink;let t=n.value||[];Ad(t,r),yield yield Em(t)}}))}listPagingAll(e){return Om(this,arguments,(function*(){var t,n,r,o;try{for(var a,i=!0,s=_m(this.listPagingPage(e));!(t=(a=yield Em(s.next())).done);i=!0){o=a.value,i=!1;const e=o;yield Em(yield*Mm(_m(e)))}}catch(l){n={error:l}}finally{try{i||t||!(r=s.return)||(yield Em(r.call(s)))}finally{if(n)throw n.error}}}))}_list(e){return this.client.sendOperationRequest({options:e},iy)}_listNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},sy)}}const ay=Vd(r,!1),iy={path:"/providers/Microsoft.Resources/operations",httpMethod:"GET",responses:{200:{bodyMapper:xm},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg],headerParameters:[Pg],serializer:ay},sy={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:xm},default:{bodyMapper:Lm}},urlParameters:[kg,Ig],headerParameters:[Pg],serializer:ay},ly=Ph("core-lro"),cy=2e3,uy=["succeeded","canceled","failed"];function dy(e){try{return JSON.parse(e).state}catch(t){throw new Error("Unable to deserialize input state: ".concat(e))}}function py(e){const{state:t,stateProxy:n,isOperationError:r}=e;return e=>{throw r(e)&&(n.setError(t,e),n.setFailed(t)),e}}function hy(e,t){let n=e;return"."!==n.slice(-1)&&(n+="."),n+" "+t}function my(e){const{state:t,stateProxy:n,status:r,isDone:o,processResult:a,getError:i,response:s,setErrorAsResult:l}=e;switch(r){case"succeeded":n.setSucceeded(t);break;case"failed":{const e=null===i||void 0===i?void 0:i(s);let r="";if(e){const{code:t,message:n}=function(e){let t=e.message,n=e.code,r=e;for(;r.innererror;)r=r.innererror,n=r.code,t=hy(t,r.message);return{code:n,message:t}}(e);r=". ".concat(t,". ").concat(n)}const o="The long-running operation has failed".concat(r);n.setError(t,new Error(o)),n.setFailed(t),ly.warning(o);break}case"canceled":n.setCanceled(t)}((null===o||void 0===o?void 0:o(s,t))||void 0===o&&["succeeded","canceled"].concat(l?[]:["failed"]).includes(r))&&n.setResult(t,function(e){const{processResult:t,response:n,state:r}=e;return t?t(n,r):n}({response:s,state:t,processResult:a}))}async function fy(e){const{init:t,stateProxy:n,processResult:r,getOperationStatus:o,withOperationLocation:a,setErrorAsResult:i}=e,{operationLocation:s,resourceLocation:l,metadata:c,response:u}=await t();s&&(null===a||void 0===a||a(s,!1));const d={metadata:c,operationLocation:s,resourceLocation:l};ly.verbose("LRO: Operation description:",d);const p=n.initState(d);return my({state:p,status:o({response:u,state:p,operationLocation:s}),stateProxy:n,response:u,setErrorAsResult:i,processResult:r}),p}async function gy(e){const{poll:t,state:n,stateProxy:r,options:o,getOperationStatus:a,getResourceLocation:i,getOperationLocation:s,isOperationError:l,withOperationLocation:c,getPollingInterval:u,processResult:d,getError:p,updateState:h,setDelay:m,isDone:f,setErrorAsResult:g}=e,{operationLocation:y}=n.config;if(void 0!==y){const{response:e,status:v}=await async function(e){const{poll:t,state:n,stateProxy:r,operationLocation:o,getOperationStatus:a,getResourceLocation:i,isOperationError:s,options:l}=e,c=await t(o,l).catch(py({state:n,stateProxy:r,isOperationError:s})),u=a(c,n);if(ly.verbose("LRO: Status:\n\tPolling from: ".concat(n.config.operationLocation,"\n\tOperation status: ").concat(u,"\n\tPolling status: ").concat(uy.includes(u)?"Stopped":"Running")),"succeeded"===u){const e=i(c,n);if(void 0!==e)return{response:await t(e).catch(py({state:n,stateProxy:r,isOperationError:s})),status:u}}return{response:c,status:u}}({poll:t,getOperationStatus:a,state:n,stateProxy:r,operationLocation:y,getResourceLocation:i,isOperationError:l,options:o});if(my({status:v,response:e,state:n,stateProxy:r,isDone:f,processResult:d,getError:p,setErrorAsResult:g}),!uy.includes(v)){const t=null===u||void 0===u?void 0:u(e);t&&m(t);const r=null===s||void 0===s?void 0:s(e,n);if(void 0!==r){const e=y!==r;n.config.operationLocation=r,null===c||void 0===c||c(r,e)}else null===c||void 0===c||c(y,!1)}null===h||void 0===h||h(n,e)}}function yy(e){const{azureAsyncOperation:t,operationLocation:n}=e;return null!==n&&void 0!==n?n:t}function vy(e){return e.headers.location}function by(e){return e.headers["operation-location"]}function wy(e){return e.headers["azure-asyncoperation"]}function Sy(e){var t;const{location:n,requestMethod:r,requestPath:o,resourceLocationConfig:a}=e;switch(r){case"PUT":return o;case"DELETE":return;case"PATCH":return null!==(t=i())&&void 0!==t?t:o;default:return i()}function i(){switch(a){case"azure-async-operation":return;case"original-uri":return o;default:return n}}}function Cy(e){const{rawResponse:t,requestMethod:n,requestPath:r,resourceLocationConfig:o}=e,a=yy({operationLocation:by(t),azureAsyncOperation:wy(t)}),i=vy(t),s=null===n||void 0===n?void 0:n.toLocaleUpperCase();return void 0!==a?{mode:"OperationLocation",operationLocation:a,resourceLocation:Sy({requestMethod:s,location:i,requestPath:r,resourceLocationConfig:o})}:void 0!==i?{mode:"ResourceLocation",operationLocation:i}:"PUT"===s&&r?{mode:"Body",operationLocation:r}:void 0}function Py(e){const{status:t,statusCode:n}=e;if("string"!==typeof t&&void 0!==t)throw new Error("Polling was unsuccessful. Expected status to have a string value or no value but it has instead: ".concat(t,". This doesn't necessarily indicate the operation has failed. Check your Azure subscription or resource status for more information."));switch(null===t||void 0===t?void 0:t.toLocaleLowerCase()){case void 0:return ky(n);case"succeeded":return"succeeded";case"failed":return"failed";case"running":case"accepted":case"started":case"canceling":case"cancelling":return"running";case"canceled":case"cancelled":return"canceled";default:return ly.verbose("LRO: unrecognized operation status: ".concat(t)),t}}function ky(e){return 202===e?"running":e<300?"succeeded":"failed"}function Ty(e){let{rawResponse:t}=e;const n=t.headers["retry-after"];if(void 0!==n){const e=parseInt(n);return isNaN(e)?function(e){const t=Math.floor((new Date).getTime()),n=e.getTime();if(t<n)return n-t;return}(new Date(n)):1e3*e}}function Iy(e){const t=Ey(e,"error");if(t){if(t.code&&t.message)return t;ly.warning("The long-running operation failed but the error property in the response's body doesn't contain code or message")}else ly.warning("The long-running operation failed but there is no error property in the response's body")}function Ay(e){const{response:t,state:n,operationLocation:r}=e;const o=function(){var e;switch(null===(e=n.config.metadata)||void 0===e?void 0:e.mode){case void 0:return ky(t.rawResponse.statusCode);case"Body":return Ry(t,n);default:return"running"}}();return"running"===o&&void 0===r?"succeeded":o}function Ny(e,t){let{rawResponse:n}=e;var r;switch(null===(r=t.config.metadata)||void 0===r?void 0:r.mode){case"OperationLocation":return yy({operationLocation:by(n),azureAsyncOperation:wy(n)});case"ResourceLocation":return vy(n);default:return}}function Ry(e,t){let{rawResponse:n}=e;var r;const o=null===(r=t.config.metadata)||void 0===r?void 0:r.mode;switch(o){case"OperationLocation":return function(e){var t;const{status:n}=null!==(t=e.body)&&void 0!==t?t:{};return Py({status:n,statusCode:e.statusCode})}(n);case"ResourceLocation":return ky(n.statusCode);case"Body":return function(e){var t,n;const{properties:r,provisioningState:o}=null!==(t=e.body)&&void 0!==t?t:{};return Py({status:null!==(n=null===r||void 0===r?void 0:r.provisioningState)&&void 0!==n?n:o,statusCode:e.statusCode})}(n);default:throw new Error("Internal error: Unexpected operation mode: ".concat(o))}}function Ey(e,t){let{flatResponse:n,rawResponse:r}=e;var o,a;return null!==(o=null===n||void 0===n?void 0:n[t])&&void 0!==o?o:null===(a=r.body)||void 0===a?void 0:a[t]}function Oy(e,t){const n=Ey(e,"resourceLocation");return n&&"string"===typeof n&&(t.config.resourceLocation=n),t.config.resourceLocation}function My(e){return"RestError"===e.name}function _y(e){const{getOperationLocation:t,getStatusFromInitialResponse:n,getStatusFromPollResponse:r,isOperationError:o,getResourceLocation:a,getPollingInterval:i,getError:s,resolveOnUnsuccessful:l}=e;return async(e,c)=>{let{init:u,poll:d}=e;const{processResult:p,updateState:h,withOperationLocation:m,intervalInMs:f=cy,restoreFrom:g}=c||{},y={initState:e=>({status:"running",config:e}),setCanceled:e=>e.status="canceled",setError:(e,t)=>e.error=t,setResult:(e,t)=>e.result=t,setRunning:e=>e.status="running",setSucceeded:e=>e.status="succeeded",setFailed:e=>e.status="failed",getError:e=>e.error,getResult:e=>e.result,isCanceled:e=>"canceled"===e.status,isFailed:e=>"failed"===e.status,isRunning:e=>"running"===e.status,isSucceeded:e=>"succeeded"===e.status},v=m?(()=>{let e=!1;return(t,n)=>{n?m(t):e||m(t),e=!0}})():void 0,b=g?dy(g):await fy({init:u,stateProxy:y,processResult:p,getOperationStatus:n,withOperationLocation:v,setErrorAsResult:!l});let w;const S=new AbortController,C=new Map,P="Operation was canceled";let k=f;const T={getOperationState:()=>b,getResult:()=>b.result,isDone:()=>["succeeded","failed","canceled"].includes(b.status),isStopped:()=>void 0===w,stopPolling:()=>{S.abort()},toString:()=>JSON.stringify({state:b}),onProgress:e=>{const t=Symbol();return C.set(t,e),()=>C.delete(t)},pollUntilDone:e=>null!==w&&void 0!==w?w:w=(async()=>{const{abortSignal:t}=e||{};function n(){S.abort()}const r=S.signal;(null===t||void 0===t?void 0:t.aborted)?S.abort():r.aborted||null===t||void 0===t||t.addEventListener("abort",n,{once:!0});try{if(!T.isDone())for(await T.poll({abortSignal:r});!T.isDone();)await xh(k,{abortSignal:r}),await T.poll({abortSignal:r})}finally{null===t||void 0===t||t.removeEventListener("abort",n)}if(l)return T.getResult();switch(b.status){case"succeeded":return T.getResult();case"canceled":throw new Error(P);case"failed":throw b.error;case"notStarted":case"running":throw new Error("Polling completed without succeeding or failing")}})().finally((()=>{w=void 0})),async poll(e){if(l){if(T.isDone())return}else switch(b.status){case"succeeded":return;case"canceled":throw new Error(P);case"failed":throw b.error}if(await gy({poll:d,state:b,stateProxy:y,getOperationLocation:t,isOperationError:o,withOperationLocation:v,getPollingInterval:i,getOperationStatus:r,getResourceLocation:a,processResult:p,getError:s,updateState:h,options:e,setDelay:e=>{k=e},setErrorAsResult:!l}),await(async()=>C.forEach((e=>e(b))))(),!l)switch(b.status){case"canceled":throw new Error(P);case"failed":throw b.error}}};return T}}async function xy(e,t){const{resourceLocationConfig:n,intervalInMs:r,processResult:o,restoreFrom:a,updateState:i,withOperationLocation:s,resolveOnUnsuccessful:l=!1}=t||{};return _y({getStatusFromInitialResponse:Ay,getStatusFromPollResponse:Ry,isOperationError:My,getOperationLocation:Ny,getResourceLocation:Oy,getPollingInterval:Ty,getError:Iy,resolveOnUnsuccessful:l})({init:async()=>{const t=await e.sendInitialRequest(),r=Cy({rawResponse:t.rawResponse,requestPath:e.requestPath,requestMethod:e.requestMethod,resourceLocationConfig:n});return Object.assign({response:t,operationLocation:null===r||void 0===r?void 0:r.operationLocation,resourceLocation:null===r||void 0===r?void 0:r.resourceLocation},(null===r||void 0===r?void 0:r.mode)?{metadata:{mode:r.mode}}:{})},poll:e.sendPollRequest},{intervalInMs:r,withOperationLocation:s,restoreFrom:a,updateState:i,processResult:o?(e,t)=>{let{flatResponse:n}=e;return o(n,t)}:e=>{let{flatResponse:t}=e;return t}})}Error;Error;function zy(e){const{args:t,spec:n,sendOperationFn:r}=e;return{requestMethod:n.httpMethod,requestPath:n.path,sendInitialRequest:()=>r(t,n),sendPollRequest:(e,o)=>{const{requestBody:a}=n,i=Nm(n,["requestBody"]);return r(t,Object.assign(Object.assign({},i),{httpMethod:"GET",path:e,abortSignal:null===o||void 0===o?void 0:o.abortSignal}))}}}class qy{constructor(e){this.client=e}listAtScope(e,t){const n=this.listAtScopePagingAll(e,t);return{next:()=>n.next(),[Symbol.asyncIterator](){return this},byPage:n=>{if(null===n||void 0===n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listAtScopePagingPage(e,t,n)}}}listAtScopePagingPage(e,t,n){return Om(this,arguments,(function*(){let r,o=null===n||void 0===n?void 0:n.continuationToken;if(!o){r=yield Em(this._listAtScope(e,t));let n=r.value||[];o=r.nextLink,Ad(n,o),yield yield Em(n)}for(;o;){r=yield Em(this._listAtScopeNext(e,o,t)),o=r.nextLink;let n=r.value||[];Ad(n,o),yield yield Em(n)}}))}listAtScopePagingAll(e,t){return Om(this,arguments,(function*(){var n,r,o,a;try{for(var i,s=!0,l=_m(this.listAtScopePagingPage(e,t));!(n=(i=yield Em(l.next())).done);s=!0){a=i.value,s=!1;const e=a;yield Em(yield*Mm(_m(e)))}}catch(c){r={error:c}}finally{try{s||n||!(o=l.return)||(yield Em(o.call(l)))}finally{if(r)throw r.error}}}))}listAtTenantScope(e){const t=this.listAtTenantScopePagingAll(e);return{next:()=>t.next(),[Symbol.asyncIterator](){return this},byPage:t=>{if(null===t||void 0===t?void 0:t.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listAtTenantScopePagingPage(e,t)}}}listAtTenantScopePagingPage(e,t){return Om(this,arguments,(function*(){let n,r=null===t||void 0===t?void 0:t.continuationToken;if(!r){n=yield Em(this._listAtTenantScope(e));let t=n.value||[];r=n.nextLink,Ad(t,r),yield yield Em(t)}for(;r;){n=yield Em(this._listAtTenantScopeNext(r,e)),r=n.nextLink;let t=n.value||[];Ad(t,r),yield yield Em(t)}}))}listAtTenantScopePagingAll(e){return Om(this,arguments,(function*(){var t,n,r,o;try{for(var a,i=!0,s=_m(this.listAtTenantScopePagingPage(e));!(t=(a=yield Em(s.next())).done);i=!0){o=a.value,i=!1;const e=o;yield Em(yield*Mm(_m(e)))}}catch(l){n={error:l}}finally{try{i||t||!(r=s.return)||(yield Em(r.call(s)))}finally{if(n)throw n.error}}}))}listAtManagementGroupScope(e,t){const n=this.listAtManagementGroupScopePagingAll(e,t);return{next:()=>n.next(),[Symbol.asyncIterator](){return this},byPage:n=>{if(null===n||void 0===n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listAtManagementGroupScopePagingPage(e,t,n)}}}listAtManagementGroupScopePagingPage(e,t,n){return Om(this,arguments,(function*(){let r,o=null===n||void 0===n?void 0:n.continuationToken;if(!o){r=yield Em(this._listAtManagementGroupScope(e,t));let n=r.value||[];o=r.nextLink,Ad(n,o),yield yield Em(n)}for(;o;){r=yield Em(this._listAtManagementGroupScopeNext(e,o,t)),o=r.nextLink;let n=r.value||[];Ad(n,o),yield yield Em(n)}}))}listAtManagementGroupScopePagingAll(e,t){return Om(this,arguments,(function*(){var n,r,o,a;try{for(var i,s=!0,l=_m(this.listAtManagementGroupScopePagingPage(e,t));!(n=(i=yield Em(l.next())).done);s=!0){a=i.value,s=!1;const e=a;yield Em(yield*Mm(_m(e)))}}catch(c){r={error:c}}finally{try{s||n||!(o=l.return)||(yield Em(o.call(l)))}finally{if(r)throw r.error}}}))}listAtSubscriptionScope(e){const t=this.listAtSubscriptionScopePagingAll(e);return{next:()=>t.next(),[Symbol.asyncIterator](){return this},byPage:t=>{if(null===t||void 0===t?void 0:t.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listAtSubscriptionScopePagingPage(e,t)}}}listAtSubscriptionScopePagingPage(e,t){return Om(this,arguments,(function*(){let n,r=null===t||void 0===t?void 0:t.continuationToken;if(!r){n=yield Em(this._listAtSubscriptionScope(e));let t=n.value||[];r=n.nextLink,Ad(t,r),yield yield Em(t)}for(;r;){n=yield Em(this._listAtSubscriptionScopeNext(r,e)),r=n.nextLink;let t=n.value||[];Ad(t,r),yield yield Em(t)}}))}listAtSubscriptionScopePagingAll(e){return Om(this,arguments,(function*(){var t,n,r,o;try{for(var a,i=!0,s=_m(this.listAtSubscriptionScopePagingPage(e));!(t=(a=yield Em(s.next())).done);i=!0){o=a.value,i=!1;const e=o;yield Em(yield*Mm(_m(e)))}}catch(l){n={error:l}}finally{try{i||t||!(r=s.return)||(yield Em(r.call(s)))}finally{if(n)throw n.error}}}))}listByResourceGroup(e,t){const n=this.listByResourceGroupPagingAll(e,t);return{next:()=>n.next(),[Symbol.asyncIterator](){return this},byPage:n=>{if(null===n||void 0===n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listByResourceGroupPagingPage(e,t,n)}}}listByResourceGroupPagingPage(e,t,n){return Om(this,arguments,(function*(){let r,o=null===n||void 0===n?void 0:n.continuationToken;if(!o){r=yield Em(this._listByResourceGroup(e,t));let n=r.value||[];o=r.nextLink,Ad(n,o),yield yield Em(n)}for(;o;){r=yield Em(this._listByResourceGroupNext(e,o,t)),o=r.nextLink;let n=r.value||[];Ad(n,o),yield yield Em(n)}}))}listByResourceGroupPagingAll(e,t){return Om(this,arguments,(function*(){var n,r,o,a;try{for(var i,s=!0,l=_m(this.listByResourceGroupPagingPage(e,t));!(n=(i=yield Em(l.next())).done);s=!0){a=i.value,s=!1;const e=a;yield Em(yield*Mm(_m(e)))}}catch(c){r={error:c}}finally{try{s||n||!(o=l.return)||(yield Em(o.call(l)))}finally{if(r)throw r.error}}}))}async beginDeleteAtScope(e,t,n){const r=async(e,t)=>this.client.sendOperationRequest(e,t),o=zy({sendOperationFn:async(e,t)=>{var n;let o;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await r(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{scope:e,deploymentName:t,options:n},spec:Dy}),a=await xy(o,{restoreFrom:null===n||void 0===n?void 0:n.resumeFrom,intervalInMs:null===n||void 0===n?void 0:n.updateIntervalInMs});return await a.poll(),a}async beginDeleteAtScopeAndWait(e,t,n){return(await this.beginDeleteAtScope(e,t,n)).pollUntilDone()}checkExistenceAtScope(e,t,n){return this.client.sendOperationRequest({scope:e,deploymentName:t,options:n},Uy)}async beginCreateOrUpdateAtScope(e,t,n,r){const o=async(e,t)=>this.client.sendOperationRequest(e,t),a=zy({sendOperationFn:async(e,t)=>{var n;let r;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{r=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await o(i,t),rawResponse:{statusCode:r.status,body:r.parsedBody,headers:r.headers.toJSON()}}},args:{scope:e,deploymentName:t,parameters:n,options:r},spec:Fy}),i=await xy(a,{restoreFrom:null===r||void 0===r?void 0:r.resumeFrom,intervalInMs:null===r||void 0===r?void 0:r.updateIntervalInMs});return await i.poll(),i}async beginCreateOrUpdateAtScopeAndWait(e,t,n,r){return(await this.beginCreateOrUpdateAtScope(e,t,n,r)).pollUntilDone()}getAtScope(e,t,n){return this.client.sendOperationRequest({scope:e,deploymentName:t,options:n},jy)}cancelAtScope(e,t,n){return this.client.sendOperationRequest({scope:e,deploymentName:t,options:n},Hy)}async beginValidateAtScope(e,t,n,r){const o=async(e,t)=>this.client.sendOperationRequest(e,t),a=zy({sendOperationFn:async(e,t)=>{var n;let r;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{r=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await o(i,t),rawResponse:{statusCode:r.status,body:r.parsedBody,headers:r.headers.toJSON()}}},args:{scope:e,deploymentName:t,parameters:n,options:r},spec:By}),i=await xy(a,{restoreFrom:null===r||void 0===r?void 0:r.resumeFrom,intervalInMs:null===r||void 0===r?void 0:r.updateIntervalInMs});return await i.poll(),i}async beginValidateAtScopeAndWait(e,t,n,r){return(await this.beginValidateAtScope(e,t,n,r)).pollUntilDone()}exportTemplateAtScope(e,t,n){return this.client.sendOperationRequest({scope:e,deploymentName:t,options:n},Gy)}_listAtScope(e,t){return this.client.sendOperationRequest({scope:e,options:t},Ky)}async beginDeleteAtTenantScope(e,t){const n=async(e,t)=>this.client.sendOperationRequest(e,t),r=zy({sendOperationFn:async(e,t)=>{var r;let o;const a=null===(r=e.options)||void 0===r?void 0:r.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await n(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{deploymentName:e,options:t},spec:Wy}),o=await xy(r,{restoreFrom:null===t||void 0===t?void 0:t.resumeFrom,intervalInMs:null===t||void 0===t?void 0:t.updateIntervalInMs});return await o.poll(),o}async beginDeleteAtTenantScopeAndWait(e,t){return(await this.beginDeleteAtTenantScope(e,t)).pollUntilDone()}checkExistenceAtTenantScope(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},Vy)}async beginCreateOrUpdateAtTenantScope(e,t,n){const r=async(e,t)=>this.client.sendOperationRequest(e,t),o=zy({sendOperationFn:async(e,t)=>{var n;let o;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await r(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{deploymentName:e,parameters:t,options:n},spec:Qy}),a=await xy(o,{restoreFrom:null===n||void 0===n?void 0:n.resumeFrom,intervalInMs:null===n||void 0===n?void 0:n.updateIntervalInMs});return await a.poll(),a}async beginCreateOrUpdateAtTenantScopeAndWait(e,t,n){return(await this.beginCreateOrUpdateAtTenantScope(e,t,n)).pollUntilDone()}getAtTenantScope(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},Jy)}cancelAtTenantScope(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},$y)}async beginValidateAtTenantScope(e,t,n){const r=async(e,t)=>this.client.sendOperationRequest(e,t),o=zy({sendOperationFn:async(e,t)=>{var n;let o;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await r(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{deploymentName:e,parameters:t,options:n},spec:Yy}),a=await xy(o,{restoreFrom:null===n||void 0===n?void 0:n.resumeFrom,intervalInMs:null===n||void 0===n?void 0:n.updateIntervalInMs});return await a.poll(),a}async beginValidateAtTenantScopeAndWait(e,t,n){return(await this.beginValidateAtTenantScope(e,t,n)).pollUntilDone()}async beginWhatIfAtTenantScope(e,t,n){const r=async(e,t)=>this.client.sendOperationRequest(e,t),o=zy({sendOperationFn:async(e,t)=>{var n;let o;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await r(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{deploymentName:e,parameters:t,options:n},spec:Xy}),a=await xy(o,{restoreFrom:null===n||void 0===n?void 0:n.resumeFrom,intervalInMs:null===n||void 0===n?void 0:n.updateIntervalInMs,resourceLocationConfig:"location"});return await a.poll(),a}async beginWhatIfAtTenantScopeAndWait(e,t,n){return(await this.beginWhatIfAtTenantScope(e,t,n)).pollUntilDone()}exportTemplateAtTenantScope(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},Zy)}_listAtTenantScope(e){return this.client.sendOperationRequest({options:e},ev)}async beginDeleteAtManagementGroupScope(e,t,n){const r=async(e,t)=>this.client.sendOperationRequest(e,t),o=zy({sendOperationFn:async(e,t)=>{var n;let o;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await r(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{groupId:e,deploymentName:t,options:n},spec:tv}),a=await xy(o,{restoreFrom:null===n||void 0===n?void 0:n.resumeFrom,intervalInMs:null===n||void 0===n?void 0:n.updateIntervalInMs});return await a.poll(),a}async beginDeleteAtManagementGroupScopeAndWait(e,t,n){return(await this.beginDeleteAtManagementGroupScope(e,t,n)).pollUntilDone()}checkExistenceAtManagementGroupScope(e,t,n){return this.client.sendOperationRequest({groupId:e,deploymentName:t,options:n},nv)}async beginCreateOrUpdateAtManagementGroupScope(e,t,n,r){const o=async(e,t)=>this.client.sendOperationRequest(e,t),a=zy({sendOperationFn:async(e,t)=>{var n;let r;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{r=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await o(i,t),rawResponse:{statusCode:r.status,body:r.parsedBody,headers:r.headers.toJSON()}}},args:{groupId:e,deploymentName:t,parameters:n,options:r},spec:rv}),i=await xy(a,{restoreFrom:null===r||void 0===r?void 0:r.resumeFrom,intervalInMs:null===r||void 0===r?void 0:r.updateIntervalInMs});return await i.poll(),i}async beginCreateOrUpdateAtManagementGroupScopeAndWait(e,t,n,r){return(await this.beginCreateOrUpdateAtManagementGroupScope(e,t,n,r)).pollUntilDone()}getAtManagementGroupScope(e,t,n){return this.client.sendOperationRequest({groupId:e,deploymentName:t,options:n},ov)}cancelAtManagementGroupScope(e,t,n){return this.client.sendOperationRequest({groupId:e,deploymentName:t,options:n},av)}async beginValidateAtManagementGroupScope(e,t,n,r){const o=async(e,t)=>this.client.sendOperationRequest(e,t),a=zy({sendOperationFn:async(e,t)=>{var n;let r;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{r=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await o(i,t),rawResponse:{statusCode:r.status,body:r.parsedBody,headers:r.headers.toJSON()}}},args:{groupId:e,deploymentName:t,parameters:n,options:r},spec:iv}),i=await xy(a,{restoreFrom:null===r||void 0===r?void 0:r.resumeFrom,intervalInMs:null===r||void 0===r?void 0:r.updateIntervalInMs});return await i.poll(),i}async beginValidateAtManagementGroupScopeAndWait(e,t,n,r){return(await this.beginValidateAtManagementGroupScope(e,t,n,r)).pollUntilDone()}async beginWhatIfAtManagementGroupScope(e,t,n,r){const o=async(e,t)=>this.client.sendOperationRequest(e,t),a=zy({sendOperationFn:async(e,t)=>{var n;let r;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{r=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await o(i,t),rawResponse:{statusCode:r.status,body:r.parsedBody,headers:r.headers.toJSON()}}},args:{groupId:e,deploymentName:t,parameters:n,options:r},spec:sv}),i=await xy(a,{restoreFrom:null===r||void 0===r?void 0:r.resumeFrom,intervalInMs:null===r||void 0===r?void 0:r.updateIntervalInMs,resourceLocationConfig:"location"});return await i.poll(),i}async beginWhatIfAtManagementGroupScopeAndWait(e,t,n,r){return(await this.beginWhatIfAtManagementGroupScope(e,t,n,r)).pollUntilDone()}exportTemplateAtManagementGroupScope(e,t,n){return this.client.sendOperationRequest({groupId:e,deploymentName:t,options:n},lv)}_listAtManagementGroupScope(e,t){return this.client.sendOperationRequest({groupId:e,options:t},cv)}async beginDeleteAtSubscriptionScope(e,t){const n=async(e,t)=>this.client.sendOperationRequest(e,t),r=zy({sendOperationFn:async(e,t)=>{var r;let o;const a=null===(r=e.options)||void 0===r?void 0:r.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await n(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{deploymentName:e,options:t},spec:uv}),o=await xy(r,{restoreFrom:null===t||void 0===t?void 0:t.resumeFrom,intervalInMs:null===t||void 0===t?void 0:t.updateIntervalInMs});return await o.poll(),o}async beginDeleteAtSubscriptionScopeAndWait(e,t){return(await this.beginDeleteAtSubscriptionScope(e,t)).pollUntilDone()}checkExistenceAtSubscriptionScope(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},dv)}async beginCreateOrUpdateAtSubscriptionScope(e,t,n){const r=async(e,t)=>this.client.sendOperationRequest(e,t),o=zy({sendOperationFn:async(e,t)=>{var n;let o;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await r(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{deploymentName:e,parameters:t,options:n},spec:pv}),a=await xy(o,{restoreFrom:null===n||void 0===n?void 0:n.resumeFrom,intervalInMs:null===n||void 0===n?void 0:n.updateIntervalInMs});return await a.poll(),a}async beginCreateOrUpdateAtSubscriptionScopeAndWait(e,t,n){return(await this.beginCreateOrUpdateAtSubscriptionScope(e,t,n)).pollUntilDone()}getAtSubscriptionScope(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},hv)}cancelAtSubscriptionScope(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},mv)}async beginValidateAtSubscriptionScope(e,t,n){const r=async(e,t)=>this.client.sendOperationRequest(e,t),o=zy({sendOperationFn:async(e,t)=>{var n;let o;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await r(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{deploymentName:e,parameters:t,options:n},spec:fv}),a=await xy(o,{restoreFrom:null===n||void 0===n?void 0:n.resumeFrom,intervalInMs:null===n||void 0===n?void 0:n.updateIntervalInMs});return await a.poll(),a}async beginValidateAtSubscriptionScopeAndWait(e,t,n){return(await this.beginValidateAtSubscriptionScope(e,t,n)).pollUntilDone()}async beginWhatIfAtSubscriptionScope(e,t,n){const r=async(e,t)=>this.client.sendOperationRequest(e,t),o=zy({sendOperationFn:async(e,t)=>{var n;let o;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await r(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{deploymentName:e,parameters:t,options:n},spec:gv}),a=await xy(o,{restoreFrom:null===n||void 0===n?void 0:n.resumeFrom,intervalInMs:null===n||void 0===n?void 0:n.updateIntervalInMs,resourceLocationConfig:"location"});return await a.poll(),a}async beginWhatIfAtSubscriptionScopeAndWait(e,t,n){return(await this.beginWhatIfAtSubscriptionScope(e,t,n)).pollUntilDone()}exportTemplateAtSubscriptionScope(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},yv)}_listAtSubscriptionScope(e){return this.client.sendOperationRequest({options:e},vv)}async beginDelete(e,t,n){const r=async(e,t)=>this.client.sendOperationRequest(e,t),o=zy({sendOperationFn:async(e,t)=>{var n;let o;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await r(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{resourceGroupName:e,deploymentName:t,options:n},spec:bv}),a=await xy(o,{restoreFrom:null===n||void 0===n?void 0:n.resumeFrom,intervalInMs:null===n||void 0===n?void 0:n.updateIntervalInMs});return await a.poll(),a}async beginDeleteAndWait(e,t,n){return(await this.beginDelete(e,t,n)).pollUntilDone()}checkExistence(e,t,n){return this.client.sendOperationRequest({resourceGroupName:e,deploymentName:t,options:n},wv)}async beginCreateOrUpdate(e,t,n,r){const o=async(e,t)=>this.client.sendOperationRequest(e,t),a=zy({sendOperationFn:async(e,t)=>{var n;let r;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{r=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await o(i,t),rawResponse:{statusCode:r.status,body:r.parsedBody,headers:r.headers.toJSON()}}},args:{resourceGroupName:e,deploymentName:t,parameters:n,options:r},spec:Sv}),i=await xy(a,{restoreFrom:null===r||void 0===r?void 0:r.resumeFrom,intervalInMs:null===r||void 0===r?void 0:r.updateIntervalInMs});return await i.poll(),i}async beginCreateOrUpdateAndWait(e,t,n,r){return(await this.beginCreateOrUpdate(e,t,n,r)).pollUntilDone()}get(e,t,n){return this.client.sendOperationRequest({resourceGroupName:e,deploymentName:t,options:n},Cv)}cancel(e,t,n){return this.client.sendOperationRequest({resourceGroupName:e,deploymentName:t,options:n},Pv)}async beginValidate(e,t,n,r){const o=async(e,t)=>this.client.sendOperationRequest(e,t),a=zy({sendOperationFn:async(e,t)=>{var n;let r;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{r=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await o(i,t),rawResponse:{statusCode:r.status,body:r.parsedBody,headers:r.headers.toJSON()}}},args:{resourceGroupName:e,deploymentName:t,parameters:n,options:r},spec:kv}),i=await xy(a,{restoreFrom:null===r||void 0===r?void 0:r.resumeFrom,intervalInMs:null===r||void 0===r?void 0:r.updateIntervalInMs});return await i.poll(),i}async beginValidateAndWait(e,t,n,r){return(await this.beginValidate(e,t,n,r)).pollUntilDone()}async beginWhatIf(e,t,n,r){const o=async(e,t)=>this.client.sendOperationRequest(e,t),a=zy({sendOperationFn:async(e,t)=>{var n;let r;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{r=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await o(i,t),rawResponse:{statusCode:r.status,body:r.parsedBody,headers:r.headers.toJSON()}}},args:{resourceGroupName:e,deploymentName:t,parameters:n,options:r},spec:Tv}),i=await xy(a,{restoreFrom:null===r||void 0===r?void 0:r.resumeFrom,intervalInMs:null===r||void 0===r?void 0:r.updateIntervalInMs,resourceLocationConfig:"location"});return await i.poll(),i}async beginWhatIfAndWait(e,t,n,r){return(await this.beginWhatIf(e,t,n,r)).pollUntilDone()}exportTemplate(e,t,n){return this.client.sendOperationRequest({resourceGroupName:e,deploymentName:t,options:n},Iv)}_listByResourceGroup(e,t){return this.client.sendOperationRequest({resourceGroupName:e,options:t},Av)}calculateTemplateHash(e,t){return this.client.sendOperationRequest({template:e,options:t},Nv)}_listAtScopeNext(e,t,n){return this.client.sendOperationRequest({scope:e,nextLink:t,options:n},Rv)}_listAtTenantScopeNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},Ev)}_listAtManagementGroupScopeNext(e,t,n){return this.client.sendOperationRequest({groupId:e,nextLink:t,options:n},Ov)}_listAtSubscriptionScopeNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},Mv)}_listByResourceGroupNext(e,t,n){return this.client.sendOperationRequest({resourceGroupName:e,nextLink:t,options:n},_v)}}const Ly=Vd(r,!1),Dy={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ag,Ng],headerParameters:[Pg],serializer:Ly},Uy={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"HEAD",responses:{204:{},404:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ag,Ng],headerParameters:[Pg],serializer:Ly},Fy={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"PUT",responses:{200:{bodyMapper:Ym},201:{bodyMapper:Ym},202:{bodyMapper:Ym},204:{bodyMapper:Ym},default:{bodyMapper:Lm}},requestBody:Eg,queryParameters:[Tg],urlParameters:[kg,Ag,Ng],headerParameters:[Pg,Rg],mediaType:"json",serializer:Ly},jy={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"GET",responses:{200:{bodyMapper:Ym},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ag,Ng],headerParameters:[Pg],serializer:Ly},Hy={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}/cancel",httpMethod:"POST",responses:{204:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ag,Ng],headerParameters:[Pg],serializer:Ly},By={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}/validate",httpMethod:"POST",responses:{200:{bodyMapper:ff},201:{bodyMapper:ff},202:{bodyMapper:ff},204:{bodyMapper:ff},default:{bodyMapper:Lm}},requestBody:Eg,queryParameters:[Tg],urlParameters:[kg,Ag,Ng],headerParameters:[Pg,Rg],mediaType:"json",serializer:Ly},Gy={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}/exportTemplate",httpMethod:"POST",responses:{200:{bodyMapper:gf},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ag,Ng],headerParameters:[Pg],serializer:Ly},Ky={path:"/{scope}/providers/Microsoft.Resources/deployments/",httpMethod:"GET",responses:{200:{bodyMapper:yf},default:{bodyMapper:Lm}},queryParameters:[Tg,Og,Mg],urlParameters:[kg,Ag],headerParameters:[Pg],serializer:Ly},Wy={path:"/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng],headerParameters:[Pg],serializer:Ly},Vy={path:"/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"HEAD",responses:{204:{},404:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng],headerParameters:[Pg],serializer:Ly},Qy={path:"/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"PUT",responses:{200:{bodyMapper:Ym},201:{bodyMapper:Ym},202:{bodyMapper:Ym},204:{bodyMapper:Ym},default:{bodyMapper:Lm}},requestBody:_g,queryParameters:[Tg],urlParameters:[kg,Ng],headerParameters:[Pg,Rg],mediaType:"json",serializer:Ly},Jy={path:"/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"GET",responses:{200:{bodyMapper:Ym},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng],headerParameters:[Pg],serializer:Ly},$y={path:"/providers/Microsoft.Resources/deployments/{deploymentName}/cancel",httpMethod:"POST",responses:{204:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng],headerParameters:[Pg],serializer:Ly},Yy={path:"/providers/Microsoft.Resources/deployments/{deploymentName}/validate",httpMethod:"POST",responses:{200:{bodyMapper:ff},201:{bodyMapper:ff},202:{bodyMapper:ff},204:{bodyMapper:ff},default:{bodyMapper:Lm}},requestBody:_g,queryParameters:[Tg],urlParameters:[kg,Ng],headerParameters:[Pg,Rg],mediaType:"json",serializer:Ly},Xy={path:"/providers/Microsoft.Resources/deployments/{deploymentName}/whatIf",httpMethod:"POST",responses:{200:{bodyMapper:Sf},201:{bodyMapper:Sf},202:{bodyMapper:Sf},204:{bodyMapper:Sf},default:{bodyMapper:Lm}},requestBody:xg,queryParameters:[Tg],urlParameters:[kg,Ng],headerParameters:[Pg,Rg],mediaType:"json",serializer:Ly},Zy={path:"/providers/Microsoft.Resources/deployments/{deploymentName}/exportTemplate",httpMethod:"POST",responses:{200:{bodyMapper:gf},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng],headerParameters:[Pg],serializer:Ly},ev={path:"/providers/Microsoft.Resources/deployments/",httpMethod:"GET",responses:{200:{bodyMapper:yf},default:{bodyMapper:Lm}},queryParameters:[Tg,Og,Mg],urlParameters:[kg],headerParameters:[Pg],serializer:Ly},tv={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,zg],headerParameters:[Pg],serializer:Ly},nv={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"HEAD",responses:{204:{},404:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,zg],headerParameters:[Pg],serializer:Ly},rv={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"PUT",responses:{200:{bodyMapper:Ym},201:{bodyMapper:Ym},202:{bodyMapper:Ym},204:{bodyMapper:Ym},default:{bodyMapper:Lm}},requestBody:_g,queryParameters:[Tg],urlParameters:[kg,Ng,zg],headerParameters:[Pg,Rg],mediaType:"json",serializer:Ly},ov={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"GET",responses:{200:{bodyMapper:Ym},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,zg],headerParameters:[Pg],serializer:Ly},av={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}/cancel",httpMethod:"POST",responses:{204:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,zg],headerParameters:[Pg],serializer:Ly},iv={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}/validate",httpMethod:"POST",responses:{200:{bodyMapper:ff},201:{bodyMapper:ff},202:{bodyMapper:ff},204:{bodyMapper:ff},default:{bodyMapper:Lm}},requestBody:_g,queryParameters:[Tg],urlParameters:[kg,Ng,zg],headerParameters:[Pg,Rg],mediaType:"json",serializer:Ly},sv={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}/whatIf",httpMethod:"POST",responses:{200:{bodyMapper:Sf},201:{bodyMapper:Sf},202:{bodyMapper:Sf},204:{bodyMapper:Sf},default:{bodyMapper:Lm}},requestBody:xg,queryParameters:[Tg],urlParameters:[kg,Ng,zg],headerParameters:[Pg,Rg],mediaType:"json",serializer:Ly},lv={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}/exportTemplate",httpMethod:"POST",responses:{200:{bodyMapper:gf},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,zg],headerParameters:[Pg],serializer:Ly},cv={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/",httpMethod:"GET",responses:{200:{bodyMapper:yf},default:{bodyMapper:Lm}},queryParameters:[Tg,Og,Mg],urlParameters:[kg,zg],headerParameters:[Pg],serializer:Ly},uv={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,qg],headerParameters:[Pg],serializer:Ly},dv={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"HEAD",responses:{204:{},404:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,qg],headerParameters:[Pg],serializer:Ly},pv={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"PUT",responses:{200:{bodyMapper:Ym},201:{bodyMapper:Ym},202:{bodyMapper:Ym},204:{bodyMapper:Ym},default:{bodyMapper:Lm}},requestBody:Eg,queryParameters:[Tg],urlParameters:[kg,Ng,qg],headerParameters:[Pg,Rg],mediaType:"json",serializer:Ly},hv={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"GET",responses:{200:{bodyMapper:Ym},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,qg],headerParameters:[Pg],serializer:Ly},mv={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}/cancel",httpMethod:"POST",responses:{204:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,qg],headerParameters:[Pg],serializer:Ly},fv={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}/validate",httpMethod:"POST",responses:{200:{bodyMapper:ff},201:{bodyMapper:ff},202:{bodyMapper:ff},204:{bodyMapper:ff},default:{bodyMapper:Lm}},requestBody:Eg,queryParameters:[Tg],urlParameters:[kg,Ng,qg],headerParameters:[Pg,Rg],mediaType:"json",serializer:Ly},gv={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}/whatIf",httpMethod:"POST",responses:{200:{bodyMapper:Sf},201:{bodyMapper:Sf},202:{bodyMapper:Sf},204:{bodyMapper:Sf},default:{bodyMapper:Lm}},requestBody:Lg,queryParameters:[Tg],urlParameters:[kg,Ng,qg],headerParameters:[Pg,Rg],mediaType:"json",serializer:Ly},yv={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}/exportTemplate",httpMethod:"POST",responses:{200:{bodyMapper:gf},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,qg],headerParameters:[Pg],serializer:Ly},vv={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/",httpMethod:"GET",responses:{200:{bodyMapper:yf},default:{bodyMapper:Lm}},queryParameters:[Tg,Og,Mg],urlParameters:[kg,qg],headerParameters:[Pg],serializer:Ly},bv={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,qg,Dg],headerParameters:[Pg],serializer:Ly},wv={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"HEAD",responses:{204:{},404:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,qg,Dg],headerParameters:[Pg],serializer:Ly},Sv={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"PUT",responses:{200:{bodyMapper:Ym},201:{bodyMapper:Ym},202:{bodyMapper:Ym},204:{bodyMapper:Ym},default:{bodyMapper:Lm}},requestBody:Eg,queryParameters:[Tg],urlParameters:[kg,Ng,qg,Dg],headerParameters:[Pg,Rg],mediaType:"json",serializer:Ly},Cv={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"GET",responses:{200:{bodyMapper:Ym},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,qg,Dg],headerParameters:[Pg],serializer:Ly},Pv={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}/cancel",httpMethod:"POST",responses:{204:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,qg,Dg],headerParameters:[Pg],serializer:Ly},kv={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}/validate",httpMethod:"POST",responses:{200:{bodyMapper:ff},201:{bodyMapper:ff},202:{bodyMapper:ff},204:{bodyMapper:ff},default:{bodyMapper:Lm}},requestBody:Eg,queryParameters:[Tg],urlParameters:[kg,Ng,qg,Dg],headerParameters:[Pg,Rg],mediaType:"json",serializer:Ly},Tv={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}/whatIf",httpMethod:"POST",responses:{200:{bodyMapper:Sf},201:{bodyMapper:Sf},202:{bodyMapper:Sf},204:{bodyMapper:Sf},default:{bodyMapper:Lm}},requestBody:Lg,queryParameters:[Tg],urlParameters:[kg,Ng,qg,Dg],headerParameters:[Pg,Rg],mediaType:"json",serializer:Ly},Iv={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}/exportTemplate",httpMethod:"POST",responses:{200:{bodyMapper:gf},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,qg,Dg],headerParameters:[Pg],serializer:Ly},Av={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/",httpMethod:"GET",responses:{200:{bodyMapper:yf},default:{bodyMapper:Lm}},queryParameters:[Tg,Og,Mg],urlParameters:[kg,qg,Dg],headerParameters:[Pg],serializer:Ly},Nv={path:"/providers/Microsoft.Resources/calculateTemplateHash",httpMethod:"POST",responses:{200:{bodyMapper:rg},default:{bodyMapper:Lm}},requestBody:{parameterPath:"template",mapper:{serializedName:"template",required:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}}},queryParameters:[Tg],urlParameters:[kg],headerParameters:[Pg,Rg],mediaType:"json",serializer:Ly},Rv={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:yf},default:{bodyMapper:Lm}},urlParameters:[kg,Ig,Ag],headerParameters:[Pg],serializer:Ly},Ev={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:yf},default:{bodyMapper:Lm}},urlParameters:[kg,Ig],headerParameters:[Pg],serializer:Ly},Ov={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:yf},default:{bodyMapper:Lm}},urlParameters:[kg,Ig,zg],headerParameters:[Pg],serializer:Ly},Mv={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:yf},default:{bodyMapper:Lm}},urlParameters:[kg,Ig,qg],headerParameters:[Pg],serializer:Ly},_v={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:yf},default:{bodyMapper:Lm}},urlParameters:[kg,Ig,qg,Dg],headerParameters:[Pg],serializer:Ly};class xv{constructor(e){this.client=e}list(e){const t=this.listPagingAll(e);return{next:()=>t.next(),[Symbol.asyncIterator](){return this},byPage:t=>{if(null===t||void 0===t?void 0:t.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(e,t)}}}listPagingPage(e,t){return Om(this,arguments,(function*(){let n,r=null===t||void 0===t?void 0:t.continuationToken;if(!r){n=yield Em(this._list(e));let t=n.value||[];r=n.nextLink,Ad(t,r),yield yield Em(t)}for(;r;){n=yield Em(this._listNext(r,e)),r=n.nextLink;let t=n.value||[];Ad(t,r),yield yield Em(t)}}))}listPagingAll(e){return Om(this,arguments,(function*(){var t,n,r,o;try{for(var a,i=!0,s=_m(this.listPagingPage(e));!(t=(a=yield Em(s.next())).done);i=!0){o=a.value,i=!1;const e=o;yield Em(yield*Mm(_m(e)))}}catch(l){n={error:l}}finally{try{i||t||!(r=s.return)||(yield Em(r.call(s)))}finally{if(n)throw n.error}}}))}listAtTenantScope(e){const t=this.listAtTenantScopePagingAll(e);return{next:()=>t.next(),[Symbol.asyncIterator](){return this},byPage:t=>{if(null===t||void 0===t?void 0:t.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listAtTenantScopePagingPage(e,t)}}}listAtTenantScopePagingPage(e,t){return Om(this,arguments,(function*(){let n,r=null===t||void 0===t?void 0:t.continuationToken;if(!r){n=yield Em(this._listAtTenantScope(e));let t=n.value||[];r=n.nextLink,Ad(t,r),yield yield Em(t)}for(;r;){n=yield Em(this._listAtTenantScopeNext(r,e)),r=n.nextLink;let t=n.value||[];Ad(t,r),yield yield Em(t)}}))}listAtTenantScopePagingAll(e){return Om(this,arguments,(function*(){var t,n,r,o;try{for(var a,i=!0,s=_m(this.listAtTenantScopePagingPage(e));!(t=(a=yield Em(s.next())).done);i=!0){o=a.value,i=!1;const e=o;yield Em(yield*Mm(_m(e)))}}catch(l){n={error:l}}finally{try{i||t||!(r=s.return)||(yield Em(r.call(s)))}finally{if(n)throw n.error}}}))}unregister(e,t){return this.client.sendOperationRequest({resourceProviderNamespace:e,options:t},qv)}registerAtManagementGroupScope(e,t,n){return this.client.sendOperationRequest({resourceProviderNamespace:e,groupId:t,options:n},Lv)}providerPermissions(e,t){return this.client.sendOperationRequest({resourceProviderNamespace:e,options:t},Dv)}register(e,t){return this.client.sendOperationRequest({resourceProviderNamespace:e,options:t},Uv)}_list(e){return this.client.sendOperationRequest({options:e},Fv)}_listAtTenantScope(e){return this.client.sendOperationRequest({options:e},jv)}get(e,t){return this.client.sendOperationRequest({resourceProviderNamespace:e,options:t},Hv)}getAtTenantScope(e,t){return this.client.sendOperationRequest({resourceProviderNamespace:e,options:t},Bv)}_listNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},Gv)}_listAtTenantScopeNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},Kv)}}const zv=Vd(r,!1),qv={path:"/subscriptions/{subscriptionId}/providers/{resourceProviderNamespace}/unregister",httpMethod:"POST",responses:{200:{bodyMapper:Zm},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,qg,Ug],headerParameters:[Pg],serializer:zv},Lv={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/{resourceProviderNamespace}/register",httpMethod:"POST",responses:{200:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,zg,Ug],headerParameters:[Pg],serializer:zv},Dv={path:"/subscriptions/{subscriptionId}/providers/{resourceProviderNamespace}/providerPermissions",httpMethod:"GET",responses:{200:{bodyMapper:Tf},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,qg,Ug],headerParameters:[Pg],serializer:zv},Uv={path:"/subscriptions/{subscriptionId}/providers/{resourceProviderNamespace}/register",httpMethod:"POST",responses:{200:{bodyMapper:Zm},default:{bodyMapper:Lm}},requestBody:Fg,queryParameters:[Tg],urlParameters:[kg,qg,Ug],headerParameters:[Pg,Rg],mediaType:"json",serializer:zv},Fv={path:"/subscriptions/{subscriptionId}/providers",httpMethod:"GET",responses:{200:{bodyMapper:Of},default:{bodyMapper:Lm}},queryParameters:[Tg,jg],urlParameters:[kg,qg],headerParameters:[Pg],serializer:zv},jv={path:"/providers",httpMethod:"GET",responses:{200:{bodyMapper:Of},default:{bodyMapper:Lm}},queryParameters:[Tg,jg],urlParameters:[kg],headerParameters:[Pg],serializer:zv},Hv={path:"/subscriptions/{subscriptionId}/providers/{resourceProviderNamespace}",httpMethod:"GET",responses:{200:{bodyMapper:Zm},default:{bodyMapper:Lm}},queryParameters:[Tg,jg],urlParameters:[kg,qg,Ug],headerParameters:[Pg],serializer:zv},Bv={path:"/providers/{resourceProviderNamespace}",httpMethod:"GET",responses:{200:{bodyMapper:Zm},default:{bodyMapper:Lm}},queryParameters:[Tg,jg],urlParameters:[kg,Ug],headerParameters:[Pg],serializer:zv},Gv={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:Of},default:{bodyMapper:Lm}},urlParameters:[kg,Ig,qg],headerParameters:[Pg],serializer:zv},Kv={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:Of},default:{bodyMapper:Lm}},urlParameters:[kg,Ig],headerParameters:[Pg],serializer:zv};class Wv{constructor(e){this.client=e}list(e,t){return this.client.sendOperationRequest({resourceProviderNamespace:e,options:t},Qv)}}const Vv=Vd(r,!1),Qv={path:"/subscriptions/{subscriptionId}/providers/{resourceProviderNamespace}/resourceTypes",httpMethod:"GET",responses:{200:{bodyMapper:Mf},default:{bodyMapper:Lm}},queryParameters:[Tg,jg],urlParameters:[kg,qg,Ug],headerParameters:[Pg],serializer:Vv};class Jv{constructor(e){this.client=e}listByResourceGroup(e,t){const n=this.listByResourceGroupPagingAll(e,t);return{next:()=>n.next(),[Symbol.asyncIterator](){return this},byPage:n=>{if(null===n||void 0===n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listByResourceGroupPagingPage(e,t,n)}}}listByResourceGroupPagingPage(e,t,n){return Om(this,arguments,(function*(){let r,o=null===n||void 0===n?void 0:n.continuationToken;if(!o){r=yield Em(this._listByResourceGroup(e,t));let n=r.value||[];o=r.nextLink,Ad(n,o),yield yield Em(n)}for(;o;){r=yield Em(this._listByResourceGroupNext(e,o,t)),o=r.nextLink;let n=r.value||[];Ad(n,o),yield yield Em(n)}}))}listByResourceGroupPagingAll(e,t){return Om(this,arguments,(function*(){var n,r,o,a;try{for(var i,s=!0,l=_m(this.listByResourceGroupPagingPage(e,t));!(n=(i=yield Em(l.next())).done);s=!0){a=i.value,s=!1;const e=a;yield Em(yield*Mm(_m(e)))}}catch(c){r={error:c}}finally{try{s||n||!(o=l.return)||(yield Em(o.call(l)))}finally{if(r)throw r.error}}}))}list(e){const t=this.listPagingAll(e);return{next:()=>t.next(),[Symbol.asyncIterator](){return this},byPage:t=>{if(null===t||void 0===t?void 0:t.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(e,t)}}}listPagingPage(e,t){return Om(this,arguments,(function*(){let n,r=null===t||void 0===t?void 0:t.continuationToken;if(!r){n=yield Em(this._list(e));let t=n.value||[];r=n.nextLink,Ad(t,r),yield yield Em(t)}for(;r;){n=yield Em(this._listNext(r,e)),r=n.nextLink;let t=n.value||[];Ad(t,r),yield yield Em(t)}}))}listPagingAll(e){return Om(this,arguments,(function*(){var t,n,r,o;try{for(var a,i=!0,s=_m(this.listPagingPage(e));!(t=(a=yield Em(s.next())).done);i=!0){o=a.value,i=!1;const e=o;yield Em(yield*Mm(_m(e)))}}catch(l){n={error:l}}finally{try{i||t||!(r=s.return)||(yield Em(r.call(s)))}finally{if(n)throw n.error}}}))}_listByResourceGroup(e,t){return this.client.sendOperationRequest({resourceGroupName:e,options:t},Yv)}async beginMoveResources(e,t,n){const r=async(e,t)=>this.client.sendOperationRequest(e,t),o=zy({sendOperationFn:async(e,t)=>{var n;let o;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await r(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{sourceResourceGroupName:e,parameters:t,options:n},spec:Xv}),a=await xy(o,{restoreFrom:null===n||void 0===n?void 0:n.resumeFrom,intervalInMs:null===n||void 0===n?void 0:n.updateIntervalInMs});return await a.poll(),a}async beginMoveResourcesAndWait(e,t,n){return(await this.beginMoveResources(e,t,n)).pollUntilDone()}async beginValidateMoveResources(e,t,n){const r=async(e,t)=>this.client.sendOperationRequest(e,t),o=zy({sendOperationFn:async(e,t)=>{var n;let o;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await r(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{sourceResourceGroupName:e,parameters:t,options:n},spec:Zv}),a=await xy(o,{restoreFrom:null===n||void 0===n?void 0:n.resumeFrom,intervalInMs:null===n||void 0===n?void 0:n.updateIntervalInMs});return await a.poll(),a}async beginValidateMoveResourcesAndWait(e,t,n){return(await this.beginValidateMoveResources(e,t,n)).pollUntilDone()}_list(e){return this.client.sendOperationRequest({options:e},eb)}checkExistence(e,t,n,r,o,a,i){return this.client.sendOperationRequest({resourceGroupName:e,resourceProviderNamespace:t,parentResourcePath:n,resourceType:r,resourceName:o,apiVersion:a,options:i},tb)}async beginDelete(e,t,n,r,o,a,i){const s=async(e,t)=>this.client.sendOperationRequest(e,t),l=zy({sendOperationFn:async(e,t)=>{var n;let r;const o=null===(n=e.options)||void 0===n?void 0:n.onResponse,a=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{r=e,null===o||void 0===o||o(e,t)}})});return{flatResponse:await s(a,t),rawResponse:{statusCode:r.status,body:r.parsedBody,headers:r.headers.toJSON()}}},args:{resourceGroupName:e,resourceProviderNamespace:t,parentResourcePath:n,resourceType:r,resourceName:o,apiVersion:a,options:i},spec:nb}),c=await xy(l,{restoreFrom:null===i||void 0===i?void 0:i.resumeFrom,intervalInMs:null===i||void 0===i?void 0:i.updateIntervalInMs});return await c.poll(),c}async beginDeleteAndWait(e,t,n,r,o,a,i){return(await this.beginDelete(e,t,n,r,o,a,i)).pollUntilDone()}async beginCreateOrUpdate(e,t,n,r,o,a,i,s){const l=async(e,t)=>this.client.sendOperationRequest(e,t),c=zy({sendOperationFn:async(e,t)=>{var n;let r;const o=null===(n=e.options)||void 0===n?void 0:n.onResponse,a=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{r=e,null===o||void 0===o||o(e,t)}})});return{flatResponse:await l(a,t),rawResponse:{statusCode:r.status,body:r.parsedBody,headers:r.headers.toJSON()}}},args:{resourceGroupName:e,resourceProviderNamespace:t,parentResourcePath:n,resourceType:r,resourceName:o,apiVersion:a,parameters:i,options:s},spec:rb}),u=await xy(c,{restoreFrom:null===s||void 0===s?void 0:s.resumeFrom,intervalInMs:null===s||void 0===s?void 0:s.updateIntervalInMs});return await u.poll(),u}async beginCreateOrUpdateAndWait(e,t,n,r,o,a,i,s){return(await this.beginCreateOrUpdate(e,t,n,r,o,a,i,s)).pollUntilDone()}async beginUpdate(e,t,n,r,o,a,i,s){const l=async(e,t)=>this.client.sendOperationRequest(e,t),c=zy({sendOperationFn:async(e,t)=>{var n;let r;const o=null===(n=e.options)||void 0===n?void 0:n.onResponse,a=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{r=e,null===o||void 0===o||o(e,t)}})});return{flatResponse:await l(a,t),rawResponse:{statusCode:r.status,body:r.parsedBody,headers:r.headers.toJSON()}}},args:{resourceGroupName:e,resourceProviderNamespace:t,parentResourcePath:n,resourceType:r,resourceName:o,apiVersion:a,parameters:i,options:s},spec:ob}),u=await xy(c,{restoreFrom:null===s||void 0===s?void 0:s.resumeFrom,intervalInMs:null===s||void 0===s?void 0:s.updateIntervalInMs});return await u.poll(),u}async beginUpdateAndWait(e,t,n,r,o,a,i,s){return(await this.beginUpdate(e,t,n,r,o,a,i,s)).pollUntilDone()}get(e,t,n,r,o,a,i){return this.client.sendOperationRequest({resourceGroupName:e,resourceProviderNamespace:t,parentResourcePath:n,resourceType:r,resourceName:o,apiVersion:a,options:i},ab)}checkExistenceById(e,t,n){return this.client.sendOperationRequest({resourceId:e,apiVersion:t,options:n},ib)}async beginDeleteById(e,t,n){const r=async(e,t)=>this.client.sendOperationRequest(e,t),o=zy({sendOperationFn:async(e,t)=>{var n;let o;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await r(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{resourceId:e,apiVersion:t,options:n},spec:sb}),a=await xy(o,{restoreFrom:null===n||void 0===n?void 0:n.resumeFrom,intervalInMs:null===n||void 0===n?void 0:n.updateIntervalInMs});return await a.poll(),a}async beginDeleteByIdAndWait(e,t,n){return(await this.beginDeleteById(e,t,n)).pollUntilDone()}async beginCreateOrUpdateById(e,t,n,r){const o=async(e,t)=>this.client.sendOperationRequest(e,t),a=zy({sendOperationFn:async(e,t)=>{var n;let r;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{r=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await o(i,t),rawResponse:{statusCode:r.status,body:r.parsedBody,headers:r.headers.toJSON()}}},args:{resourceId:e,apiVersion:t,parameters:n,options:r},spec:lb}),i=await xy(a,{restoreFrom:null===r||void 0===r?void 0:r.resumeFrom,intervalInMs:null===r||void 0===r?void 0:r.updateIntervalInMs});return await i.poll(),i}async beginCreateOrUpdateByIdAndWait(e,t,n,r){return(await this.beginCreateOrUpdateById(e,t,n,r)).pollUntilDone()}async beginUpdateById(e,t,n,r){const o=async(e,t)=>this.client.sendOperationRequest(e,t),a=zy({sendOperationFn:async(e,t)=>{var n;let r;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{r=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await o(i,t),rawResponse:{statusCode:r.status,body:r.parsedBody,headers:r.headers.toJSON()}}},args:{resourceId:e,apiVersion:t,parameters:n,options:r},spec:cb}),i=await xy(a,{restoreFrom:null===r||void 0===r?void 0:r.resumeFrom,intervalInMs:null===r||void 0===r?void 0:r.updateIntervalInMs});return await i.poll(),i}async beginUpdateByIdAndWait(e,t,n,r){return(await this.beginUpdateById(e,t,n,r)).pollUntilDone()}getById(e,t,n){return this.client.sendOperationRequest({resourceId:e,apiVersion:t,options:n},ub)}_listByResourceGroupNext(e,t,n){return this.client.sendOperationRequest({resourceGroupName:e,nextLink:t,options:n},db)}_listNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},pb)}}const $v=Vd(r,!1),Yv={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/resources",httpMethod:"GET",responses:{200:{bodyMapper:_f},default:{bodyMapper:Lm}},queryParameters:[Tg,Og,Mg,jg],urlParameters:[kg,qg,Dg],headerParameters:[Pg],serializer:$v},Xv={path:"/subscriptions/{subscriptionId}/resourceGroups/{sourceResourceGroupName}/moveResources",httpMethod:"POST",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:Lm}},requestBody:Hg,queryParameters:[Tg],urlParameters:[kg,qg,Bg],headerParameters:[Pg,Rg],mediaType:"json",serializer:$v},Zv={path:"/subscriptions/{subscriptionId}/resourceGroups/{sourceResourceGroupName}/validateMoveResources",httpMethod:"POST",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:Lm}},requestBody:Hg,queryParameters:[Tg],urlParameters:[kg,qg,Bg],headerParameters:[Pg,Rg],mediaType:"json",serializer:$v},eb={path:"/subscriptions/{subscriptionId}/resources",httpMethod:"GET",responses:{200:{bodyMapper:_f},default:{bodyMapper:Lm}},queryParameters:[Tg,Og,Mg,jg],urlParameters:[kg,qg],headerParameters:[Pg],serializer:$v},tb={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{parentResourcePath}/{resourceType}/{resourceName}",httpMethod:"HEAD",responses:{204:{},404:{},default:{bodyMapper:Lm}},queryParameters:[Vg],urlParameters:[kg,qg,Dg,Ug,Gg,Kg,Wg],headerParameters:[Pg],serializer:$v},nb={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{parentResourcePath}/{resourceType}/{resourceName}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:Lm}},queryParameters:[Vg],urlParameters:[kg,qg,Dg,Ug,Gg,Kg,Wg],headerParameters:[Pg],serializer:$v},rb={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{parentResourcePath}/{resourceType}/{resourceName}",httpMethod:"PUT",responses:{200:{bodyMapper:hg},201:{bodyMapper:hg},202:{bodyMapper:hg},204:{bodyMapper:hg},default:{bodyMapper:Lm}},requestBody:Qg,queryParameters:[Vg],urlParameters:[kg,qg,Dg,Ug,Gg,Kg,Wg],headerParameters:[Pg,Rg],mediaType:"json",serializer:$v},ob={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{parentResourcePath}/{resourceType}/{resourceName}",httpMethod:"PATCH",responses:{200:{bodyMapper:hg},201:{bodyMapper:hg},202:{bodyMapper:hg},204:{bodyMapper:hg},default:{bodyMapper:Lm}},requestBody:Qg,queryParameters:[Vg],urlParameters:[kg,qg,Dg,Ug,Gg,Kg,Wg],headerParameters:[Pg,Rg],mediaType:"json",serializer:$v},ab={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{parentResourcePath}/{resourceType}/{resourceName}",httpMethod:"GET",responses:{200:{bodyMapper:hg},default:{bodyMapper:Lm}},queryParameters:[Vg],urlParameters:[kg,qg,Dg,Ug,Gg,Kg,Wg],headerParameters:[Pg],serializer:$v},ib={path:"/{resourceId}",httpMethod:"HEAD",responses:{204:{},404:{},default:{bodyMapper:Lm}},queryParameters:[Vg],urlParameters:[kg,Jg],headerParameters:[Pg],serializer:$v},sb={path:"/{resourceId}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:Lm}},queryParameters:[Vg],urlParameters:[kg,Jg],headerParameters:[Pg],serializer:$v},lb={path:"/{resourceId}",httpMethod:"PUT",responses:{200:{bodyMapper:hg},201:{bodyMapper:hg},202:{bodyMapper:hg},204:{bodyMapper:hg},default:{bodyMapper:Lm}},requestBody:Qg,queryParameters:[Vg],urlParameters:[kg,Jg],headerParameters:[Pg,Rg],mediaType:"json",serializer:$v},cb={path:"/{resourceId}",httpMethod:"PATCH",responses:{200:{bodyMapper:hg},201:{bodyMapper:hg},202:{bodyMapper:hg},204:{bodyMapper:hg},default:{bodyMapper:Lm}},requestBody:Qg,queryParameters:[Vg],urlParameters:[kg,Jg],headerParameters:[Pg,Rg],mediaType:"json",serializer:$v},ub={path:"/{resourceId}",httpMethod:"GET",responses:{200:{bodyMapper:hg},default:{bodyMapper:Lm}},queryParameters:[Vg],urlParameters:[kg,Jg],headerParameters:[Pg],serializer:$v},db={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:_f},default:{bodyMapper:Lm}},urlParameters:[kg,Ig,qg,Dg],headerParameters:[Pg],serializer:$v},pb={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:_f},default:{bodyMapper:Lm}},urlParameters:[kg,Ig,qg],headerParameters:[Pg],serializer:$v};class hb{constructor(e){this.client=e}list(e){const t=this.listPagingAll(e);return{next:()=>t.next(),[Symbol.asyncIterator](){return this},byPage:t=>{if(null===t||void 0===t?void 0:t.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(e,t)}}}listPagingPage(e,t){return Om(this,arguments,(function*(){let n,r=null===t||void 0===t?void 0:t.continuationToken;if(!r){n=yield Em(this._list(e));let t=n.value||[];r=n.nextLink,Ad(t,r),yield yield Em(t)}for(;r;){n=yield Em(this._listNext(r,e)),r=n.nextLink;let t=n.value||[];Ad(t,r),yield yield Em(t)}}))}listPagingAll(e){return Om(this,arguments,(function*(){var t,n,r,o;try{for(var a,i=!0,s=_m(this.listPagingPage(e));!(t=(a=yield Em(s.next())).done);i=!0){o=a.value,i=!1;const e=o;yield Em(yield*Mm(_m(e)))}}catch(l){n={error:l}}finally{try{i||t||!(r=s.return)||(yield Em(r.call(s)))}finally{if(n)throw n.error}}}))}checkExistence(e,t){return this.client.sendOperationRequest({resourceGroupName:e,options:t},fb)}createOrUpdate(e,t,n){return this.client.sendOperationRequest({resourceGroupName:e,parameters:t,options:n},gb)}async beginDelete(e,t){const n=async(e,t)=>this.client.sendOperationRequest(e,t),r=zy({sendOperationFn:async(e,t)=>{var r;let o;const a=null===(r=e.options)||void 0===r?void 0:r.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await n(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{resourceGroupName:e,options:t},spec:yb}),o=await xy(r,{restoreFrom:null===t||void 0===t?void 0:t.resumeFrom,intervalInMs:null===t||void 0===t?void 0:t.updateIntervalInMs});return await o.poll(),o}async beginDeleteAndWait(e,t){return(await this.beginDelete(e,t)).pollUntilDone()}get(e,t){return this.client.sendOperationRequest({resourceGroupName:e,options:t},vb)}update(e,t,n){return this.client.sendOperationRequest({resourceGroupName:e,parameters:t,options:n},bb)}async beginExportTemplate(e,t,n){const r=async(e,t)=>this.client.sendOperationRequest(e,t),o=zy({sendOperationFn:async(e,t)=>{var n;let o;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await r(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{resourceGroupName:e,parameters:t,options:n},spec:wb}),a=await xy(o,{restoreFrom:null===n||void 0===n?void 0:n.resumeFrom,intervalInMs:null===n||void 0===n?void 0:n.updateIntervalInMs,resourceLocationConfig:"location"});return await a.poll(),a}async beginExportTemplateAndWait(e,t,n){return(await this.beginExportTemplate(e,t,n)).pollUntilDone()}_list(e){return this.client.sendOperationRequest({options:e},Sb)}_listNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},Cb)}}const mb=Vd(r,!1),fb={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}",httpMethod:"HEAD",responses:{204:{},404:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,qg,Dg],headerParameters:[Pg],serializer:mb},gb={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}",httpMethod:"PUT",responses:{200:{bodyMapper:Ff},201:{bodyMapper:Ff},default:{bodyMapper:Lm}},requestBody:$g,queryParameters:[Tg],urlParameters:[kg,qg,Dg],headerParameters:[Pg,Rg],mediaType:"json",serializer:mb},yb={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:Lm}},queryParameters:[Tg,{parameterPath:["options","forceDeletionTypes"],mapper:{serializedName:"forceDeletionTypes",type:{name:"String"}}}],urlParameters:[kg,qg,Dg],headerParameters:[Pg],serializer:mb},vb={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}",httpMethod:"GET",responses:{200:{bodyMapper:Ff},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,qg,Dg],headerParameters:[Pg],serializer:mb},bb={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}",httpMethod:"PATCH",responses:{200:{bodyMapper:Ff},default:{bodyMapper:Lm}},requestBody:Yg,queryParameters:[Tg],urlParameters:[kg,qg,Dg],headerParameters:[Pg,Rg],mediaType:"json",serializer:mb},wb={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/exportTemplate",httpMethod:"POST",responses:{200:{bodyMapper:Gf},201:{bodyMapper:Gf},202:{bodyMapper:Gf},204:{bodyMapper:Gf},default:{bodyMapper:Lm}},requestBody:Xg,queryParameters:[Tg],urlParameters:[kg,qg,{parameterPath:"resourceGroupName",mapper:{constraints:{MaxLength:90,MinLength:1},serializedName:"resourceGroupName",required:!0,type:{name:"String"}}}],headerParameters:[Pg,Rg],mediaType:"json",serializer:mb},Sb={path:"/subscriptions/{subscriptionId}/resourcegroups",httpMethod:"GET",responses:{200:{bodyMapper:Kf},default:{bodyMapper:Lm}},queryParameters:[Tg,Og,Mg],urlParameters:[kg,qg],headerParameters:[Pg],serializer:mb},Cb={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:Kf},default:{bodyMapper:Lm}},urlParameters:[kg,Ig,qg],headerParameters:[Pg],serializer:mb};class Pb{constructor(e){this.client=e}list(e){const t=this.listPagingAll(e);return{next:()=>t.next(),[Symbol.asyncIterator](){return this},byPage:t=>{if(null===t||void 0===t?void 0:t.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(e,t)}}}listPagingPage(e,t){return Om(this,arguments,(function*(){let n,r=null===t||void 0===t?void 0:t.continuationToken;if(!r){n=yield Em(this._list(e));let t=n.value||[];r=n.nextLink,Ad(t,r),yield yield Em(t)}for(;r;){n=yield Em(this._listNext(r,e)),r=n.nextLink;let t=n.value||[];Ad(t,r),yield yield Em(t)}}))}listPagingAll(e){return Om(this,arguments,(function*(){var t,n,r,o;try{for(var a,i=!0,s=_m(this.listPagingPage(e));!(t=(a=yield Em(s.next())).done);i=!0){o=a.value,i=!1;const e=o;yield Em(yield*Mm(_m(e)))}}catch(l){n={error:l}}finally{try{i||t||!(r=s.return)||(yield Em(r.call(s)))}finally{if(n)throw n.error}}}))}deleteValue(e,t,n){return this.client.sendOperationRequest({tagName:e,tagValue:t,options:n},Tb)}createOrUpdateValue(e,t,n){return this.client.sendOperationRequest({tagName:e,tagValue:t,options:n},Ib)}createOrUpdate(e,t){return this.client.sendOperationRequest({tagName:e,options:t},Ab)}delete(e,t){return this.client.sendOperationRequest({tagName:e,options:t},Nb)}_list(e){return this.client.sendOperationRequest({options:e},Rb)}async beginCreateOrUpdateAtScope(e,t,n){const r=async(e,t)=>this.client.sendOperationRequest(e,t),o=zy({sendOperationFn:async(e,t)=>{var n;let o;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await r(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{scope:e,parameters:t,options:n},spec:Eb}),a=await xy(o,{restoreFrom:null===n||void 0===n?void 0:n.resumeFrom,intervalInMs:null===n||void 0===n?void 0:n.updateIntervalInMs});return await a.poll(),a}async beginCreateOrUpdateAtScopeAndWait(e,t,n){return(await this.beginCreateOrUpdateAtScope(e,t,n)).pollUntilDone()}async beginUpdateAtScope(e,t,n){const r=async(e,t)=>this.client.sendOperationRequest(e,t),o=zy({sendOperationFn:async(e,t)=>{var n;let o;const a=null===(n=e.options)||void 0===n?void 0:n.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await r(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{scope:e,parameters:t,options:n},spec:Ob}),a=await xy(o,{restoreFrom:null===n||void 0===n?void 0:n.resumeFrom,intervalInMs:null===n||void 0===n?void 0:n.updateIntervalInMs});return await a.poll(),a}async beginUpdateAtScopeAndWait(e,t,n){return(await this.beginUpdateAtScope(e,t,n)).pollUntilDone()}getAtScope(e,t){return this.client.sendOperationRequest({scope:e,options:t},Mb)}async beginDeleteAtScope(e,t){const n=async(e,t)=>this.client.sendOperationRequest(e,t),r=zy({sendOperationFn:async(e,t)=>{var r;let o;const a=null===(r=e.options)||void 0===r?void 0:r.onResponse,i=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:(e,t)=>{o=e,null===a||void 0===a||a(e,t)}})});return{flatResponse:await n(i,t),rawResponse:{statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()}}},args:{scope:e,options:t},spec:_b}),o=await xy(r,{restoreFrom:null===t||void 0===t?void 0:t.resumeFrom,intervalInMs:null===t||void 0===t?void 0:t.updateIntervalInMs});return await o.poll(),o}async beginDeleteAtScopeAndWait(e,t){return(await this.beginDeleteAtScope(e,t)).pollUntilDone()}_listNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},xb)}}const kb=Vd(r,!1),Tb={path:"/subscriptions/{subscriptionId}/tagNames/{tagName}/tagValues/{tagValue}",httpMethod:"DELETE",responses:{200:{},204:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,qg,Zg,ey],headerParameters:[Pg],serializer:kb},Ib={path:"/subscriptions/{subscriptionId}/tagNames/{tagName}/tagValues/{tagValue}",httpMethod:"PUT",responses:{200:{bodyMapper:Vf},201:{bodyMapper:Vf},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,qg,Zg,ey],headerParameters:[Pg],serializer:kb},Ab={path:"/subscriptions/{subscriptionId}/tagNames/{tagName}",httpMethod:"PUT",responses:{200:{bodyMapper:Jf},201:{bodyMapper:Jf},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,qg,Zg],headerParameters:[Pg],serializer:kb},Nb={path:"/subscriptions/{subscriptionId}/tagNames/{tagName}",httpMethod:"DELETE",responses:{200:{},204:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,qg,Zg],headerParameters:[Pg],serializer:kb},Rb={path:"/subscriptions/{subscriptionId}/tagNames",httpMethod:"GET",responses:{200:{bodyMapper:$f},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,qg],headerParameters:[Pg],serializer:kb},Eb={path:"/{scope}/providers/Microsoft.Resources/tags/default",httpMethod:"PUT",responses:{200:{bodyMapper:og},201:{bodyMapper:og},202:{bodyMapper:og},204:{bodyMapper:og},default:{bodyMapper:Lm}},requestBody:ty,queryParameters:[Tg],urlParameters:[kg,Ag],headerParameters:[Pg,Rg],mediaType:"json",serializer:kb},Ob={path:"/{scope}/providers/Microsoft.Resources/tags/default",httpMethod:"PATCH",responses:{200:{bodyMapper:og},201:{bodyMapper:og},202:{bodyMapper:og},204:{bodyMapper:og},default:{bodyMapper:Lm}},requestBody:ny,queryParameters:[Tg],urlParameters:[kg,Ag],headerParameters:[Pg,Rg],mediaType:"json",serializer:kb},Mb={path:"/{scope}/providers/Microsoft.Resources/tags/default",httpMethod:"GET",responses:{200:{bodyMapper:og},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ag],headerParameters:[Pg],serializer:kb},_b={path:"/{scope}/providers/Microsoft.Resources/tags/default",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ag],headerParameters:[Pg],serializer:kb},xb={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:$f},default:{bodyMapper:Lm}},urlParameters:[kg,Ig,qg],headerParameters:[Pg],serializer:kb};class zb{constructor(e){this.client=e}listAtScope(e,t,n){const r=this.listAtScopePagingAll(e,t,n);return{next:()=>r.next(),[Symbol.asyncIterator](){return this},byPage:r=>{if(null===r||void 0===r?void 0:r.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listAtScopePagingPage(e,t,n,r)}}}listAtScopePagingPage(e,t,n,r){return Om(this,arguments,(function*(){let o,a=null===r||void 0===r?void 0:r.continuationToken;if(!a){o=yield Em(this._listAtScope(e,t,n));let r=o.value||[];a=o.nextLink,Ad(r,a),yield yield Em(r)}for(;a;){o=yield Em(this._listAtScopeNext(e,t,a,n)),a=o.nextLink;let r=o.value||[];Ad(r,a),yield yield Em(r)}}))}listAtScopePagingAll(e,t,n){return Om(this,arguments,(function*(){var r,o,a,i;try{for(var s,l=!0,c=_m(this.listAtScopePagingPage(e,t,n));!(r=(s=yield Em(c.next())).done);l=!0){i=s.value,l=!1;const e=i;yield Em(yield*Mm(_m(e)))}}catch(u){o={error:u}}finally{try{l||r||!(a=c.return)||(yield Em(a.call(c)))}finally{if(o)throw o.error}}}))}listAtTenantScope(e,t){const n=this.listAtTenantScopePagingAll(e,t);return{next:()=>n.next(),[Symbol.asyncIterator](){return this},byPage:n=>{if(null===n||void 0===n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listAtTenantScopePagingPage(e,t,n)}}}listAtTenantScopePagingPage(e,t,n){return Om(this,arguments,(function*(){let r,o=null===n||void 0===n?void 0:n.continuationToken;if(!o){r=yield Em(this._listAtTenantScope(e,t));let n=r.value||[];o=r.nextLink,Ad(n,o),yield yield Em(n)}for(;o;){r=yield Em(this._listAtTenantScopeNext(e,o,t)),o=r.nextLink;let n=r.value||[];Ad(n,o),yield yield Em(n)}}))}listAtTenantScopePagingAll(e,t){return Om(this,arguments,(function*(){var n,r,o,a;try{for(var i,s=!0,l=_m(this.listAtTenantScopePagingPage(e,t));!(n=(i=yield Em(l.next())).done);s=!0){a=i.value,s=!1;const e=a;yield Em(yield*Mm(_m(e)))}}catch(c){r={error:c}}finally{try{s||n||!(o=l.return)||(yield Em(o.call(l)))}finally{if(r)throw r.error}}}))}listAtManagementGroupScope(e,t,n){const r=this.listAtManagementGroupScopePagingAll(e,t,n);return{next:()=>r.next(),[Symbol.asyncIterator](){return this},byPage:r=>{if(null===r||void 0===r?void 0:r.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listAtManagementGroupScopePagingPage(e,t,n,r)}}}listAtManagementGroupScopePagingPage(e,t,n,r){return Om(this,arguments,(function*(){let o,a=null===r||void 0===r?void 0:r.continuationToken;if(!a){o=yield Em(this._listAtManagementGroupScope(e,t,n));let r=o.value||[];a=o.nextLink,Ad(r,a),yield yield Em(r)}for(;a;){o=yield Em(this._listAtManagementGroupScopeNext(e,t,a,n)),a=o.nextLink;let r=o.value||[];Ad(r,a),yield yield Em(r)}}))}listAtManagementGroupScopePagingAll(e,t,n){return Om(this,arguments,(function*(){var r,o,a,i;try{for(var s,l=!0,c=_m(this.listAtManagementGroupScopePagingPage(e,t,n));!(r=(s=yield Em(c.next())).done);l=!0){i=s.value,l=!1;const e=i;yield Em(yield*Mm(_m(e)))}}catch(u){o={error:u}}finally{try{l||r||!(a=c.return)||(yield Em(a.call(c)))}finally{if(o)throw o.error}}}))}listAtSubscriptionScope(e,t){const n=this.listAtSubscriptionScopePagingAll(e,t);return{next:()=>n.next(),[Symbol.asyncIterator](){return this},byPage:n=>{if(null===n||void 0===n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listAtSubscriptionScopePagingPage(e,t,n)}}}listAtSubscriptionScopePagingPage(e,t,n){return Om(this,arguments,(function*(){let r,o=null===n||void 0===n?void 0:n.continuationToken;if(!o){r=yield Em(this._listAtSubscriptionScope(e,t));let n=r.value||[];o=r.nextLink,Ad(n,o),yield yield Em(n)}for(;o;){r=yield Em(this._listAtSubscriptionScopeNext(e,o,t)),o=r.nextLink;let n=r.value||[];Ad(n,o),yield yield Em(n)}}))}listAtSubscriptionScopePagingAll(e,t){return Om(this,arguments,(function*(){var n,r,o,a;try{for(var i,s=!0,l=_m(this.listAtSubscriptionScopePagingPage(e,t));!(n=(i=yield Em(l.next())).done);s=!0){a=i.value,s=!1;const e=a;yield Em(yield*Mm(_m(e)))}}catch(c){r={error:c}}finally{try{s||n||!(o=l.return)||(yield Em(o.call(l)))}finally{if(r)throw r.error}}}))}list(e,t,n){const r=this.listPagingAll(e,t,n);return{next:()=>r.next(),[Symbol.asyncIterator](){return this},byPage:r=>{if(null===r||void 0===r?void 0:r.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(e,t,n,r)}}}listPagingPage(e,t,n,r){return Om(this,arguments,(function*(){let o,a=null===r||void 0===r?void 0:r.continuationToken;if(!a){o=yield Em(this._list(e,t,n));let r=o.value||[];a=o.nextLink,Ad(r,a),yield yield Em(r)}for(;a;){o=yield Em(this._listNext(e,t,a,n)),a=o.nextLink;let r=o.value||[];Ad(r,a),yield yield Em(r)}}))}listPagingAll(e,t,n){return Om(this,arguments,(function*(){var r,o,a,i;try{for(var s,l=!0,c=_m(this.listPagingPage(e,t,n));!(r=(s=yield Em(c.next())).done);l=!0){i=s.value,l=!1;const e=i;yield Em(yield*Mm(_m(e)))}}catch(u){o={error:u}}finally{try{l||r||!(a=c.return)||(yield Em(a.call(c)))}finally{if(o)throw o.error}}}))}getAtScope(e,t,n,r){return this.client.sendOperationRequest({scope:e,deploymentName:t,operationId:n,options:r},Lb)}_listAtScope(e,t,n){return this.client.sendOperationRequest({scope:e,deploymentName:t,options:n},Db)}getAtTenantScope(e,t,n){return this.client.sendOperationRequest({deploymentName:e,operationId:t,options:n},Ub)}_listAtTenantScope(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},Fb)}getAtManagementGroupScope(e,t,n,r){return this.client.sendOperationRequest({groupId:e,deploymentName:t,operationId:n,options:r},jb)}_listAtManagementGroupScope(e,t,n){return this.client.sendOperationRequest({groupId:e,deploymentName:t,options:n},Hb)}getAtSubscriptionScope(e,t,n){return this.client.sendOperationRequest({deploymentName:e,operationId:t,options:n},Bb)}_listAtSubscriptionScope(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},Gb)}get(e,t,n,r){return this.client.sendOperationRequest({resourceGroupName:e,deploymentName:t,operationId:n,options:r},Kb)}_list(e,t,n){return this.client.sendOperationRequest({resourceGroupName:e,deploymentName:t,options:n},Wb)}_listAtScopeNext(e,t,n,r){return this.client.sendOperationRequest({scope:e,deploymentName:t,nextLink:n,options:r},Vb)}_listAtTenantScopeNext(e,t,n){return this.client.sendOperationRequest({deploymentName:e,nextLink:t,options:n},Qb)}_listAtManagementGroupScopeNext(e,t,n,r){return this.client.sendOperationRequest({groupId:e,deploymentName:t,nextLink:n,options:r},Jb)}_listAtSubscriptionScopeNext(e,t,n){return this.client.sendOperationRequest({deploymentName:e,nextLink:t,options:n},$b)}_listNext(e,t,n,r){return this.client.sendOperationRequest({resourceGroupName:e,deploymentName:t,nextLink:n,options:r},Yb)}}const qb=Vd(r,!1),Lb={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}/operations/{operationId}",httpMethod:"GET",responses:{200:{bodyMapper:Yf},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ag,Ng,ry],headerParameters:[Pg],serializer:qb},Db={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}/operations",httpMethod:"GET",responses:{200:{bodyMapper:ng},default:{bodyMapper:Lm}},queryParameters:[Tg,Mg],urlParameters:[kg,Ag,Ng],headerParameters:[Pg],serializer:qb},Ub={path:"/providers/Microsoft.Resources/deployments/{deploymentName}/operations/{operationId}",httpMethod:"GET",responses:{200:{bodyMapper:Yf},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,ry],headerParameters:[Pg],serializer:qb},Fb={path:"/providers/Microsoft.Resources/deployments/{deploymentName}/operations",httpMethod:"GET",responses:{200:{bodyMapper:ng},default:{bodyMapper:Lm}},queryParameters:[Tg,Mg],urlParameters:[kg,Ng],headerParameters:[Pg],serializer:qb},jb={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}/operations/{operationId}",httpMethod:"GET",responses:{200:{bodyMapper:Yf},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,zg,ry],headerParameters:[Pg],serializer:qb},Hb={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}/operations",httpMethod:"GET",responses:{200:{bodyMapper:ng},default:{bodyMapper:Lm}},queryParameters:[Tg,Mg],urlParameters:[kg,Ng,zg],headerParameters:[Pg],serializer:qb},Bb={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}/operations/{operationId}",httpMethod:"GET",responses:{200:{bodyMapper:Yf},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,qg,ry],headerParameters:[Pg],serializer:qb},Gb={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}/operations",httpMethod:"GET",responses:{200:{bodyMapper:ng},default:{bodyMapper:Lm}},queryParameters:[Tg,Mg],urlParameters:[kg,Ng,qg],headerParameters:[Pg],serializer:qb},Kb={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/deployments/{deploymentName}/operations/{operationId}",httpMethod:"GET",responses:{200:{bodyMapper:Yf},default:{bodyMapper:Lm}},queryParameters:[Tg],urlParameters:[kg,Ng,qg,Dg,ry],headerParameters:[Pg],serializer:qb},Wb={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/deployments/{deploymentName}/operations",httpMethod:"GET",responses:{200:{bodyMapper:ng},default:{bodyMapper:Lm}},queryParameters:[Tg,Mg],urlParameters:[kg,Ng,qg,Dg],headerParameters:[Pg],serializer:qb},Vb={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ng},default:{bodyMapper:Lm}},urlParameters:[kg,Ig,Ag,Ng],headerParameters:[Pg],serializer:qb},Qb={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ng},default:{bodyMapper:Lm}},urlParameters:[kg,Ig,Ng],headerParameters:[Pg],serializer:qb},Jb={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ng},default:{bodyMapper:Lm}},urlParameters:[kg,Ig,Ng,zg],headerParameters:[Pg],serializer:qb},$b={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ng},default:{bodyMapper:Lm}},urlParameters:[kg,Ig,Ng,qg],headerParameters:[Pg],serializer:qb},Yb={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ng},default:{bodyMapper:Lm}},urlParameters:[kg,Ig,Ng,qg,Dg],headerParameters:[Pg],serializer:qb};class Xb extends Im{constructor(e,t,n){var r,o,a;if(void 0===e)throw new Error("'credentials' cannot be null");let i;"string"===typeof t?i=t:"object"===typeof t&&(n=t),n||(n={});const s={requestContentType:"application/json; charset=utf-8",credential:e},l="azsdk-js-arm-resources/6.1.0",c=n.userAgentOptions&&n.userAgentOptions.userAgentPrefix?"".concat(n.userAgentOptions.userAgentPrefix," ").concat(l):"".concat(l),u=Object.assign(Object.assign(Object.assign({},s),n),{userAgentOptions:{userAgentPrefix:c},endpoint:null!==(o=null!==(r=n.endpoint)&&void 0!==r?r:n.baseUri)&&void 0!==o?o:"https://management.azure.com"});super(u);let d=!1;if((null===n||void 0===n?void 0:n.pipeline)&&n.pipeline.getOrderedPolicies().length>0){d=n.pipeline.getOrderedPolicies().some((e=>e.name===rm))}n&&n.pipeline&&0!=n.pipeline.getOrderedPolicies().length&&d||(this.pipeline.removePolicy({name:rm}),this.pipeline.addPolicy(lm({credential:e,scopes:null!==(a=u.credentialScopes)&&void 0!==a?a:"".concat(u.endpoint,"/.default"),challengeCallbacks:{authorizeRequestOnChallenge:Am}}))),this.subscriptionId=i,this.$host=n.$host||"https://management.azure.com",this.apiVersion=n.apiVersion||"2025-03-01",this.operations=new oy(this),this.deployments=new qy(this),this.providers=new xv(this),this.providerResourceTypes=new Wv(this),this.resources=new Jv(this),this.resourceGroups=new hb(this),this.tagsOperations=new Pb(this),this.deploymentOperations=new zb(this),this.addCustomApiVersionPolicy(n.apiVersion)}addCustomApiVersionPolicy(e){if(!e)return;const t={name:"CustomApiVersionPolicy",async sendRequest(t,n){const r=t.url.split("?");if(r.length>1){const n=r[1].split("&").map((t=>t.indexOf("api-version")>-1?"api-version="+e:t));t.url=r[0]+"?"+n.join("&")}return n(t)}};this.pipeline.addPolicy(t)}}class Zb{constructor(e){if(this.client=void 0,this.subscriptionId=void 0,this.resourceGroupName=void 0,this.subscriptionId={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AZURE_SUBSCRIPTION_ID,this.resourceGroupName={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AZURE_RESOURCE_GROUP,!this.subscriptionId||!this.resourceGroupName)throw new Error("Missing required environment variables: REACT_APP_AZURE_SUBSCRIPTION_ID or REACT_APP_AZURE_RESOURCE_GROUP");this.client=new Xb(e,this.subscriptionId)}extractParameters(e){return e&&"object"===typeof e&&e.parameters?e.parameters:e}async deployTemplate(e){try{var t;const n=this.extractParameters(e.parameters),r={properties:{template:e.template,parameters:n,mode:"Incremental"}};console.log("Starting deployment: ".concat(e.deploymentName));const o=await this.client.deployments.beginCreateOrUpdateAndWait(this.resourceGroupName,e.deploymentName,r);return{success:!0,deploymentName:e.deploymentName,resourceGroupName:this.resourceGroupName,outputs:null===(t=o.properties)||void 0===t?void 0:t.outputs}}catch(n){return console.error("Deployment failed:",n),{success:!1,deploymentName:e.deploymentName,resourceGroupName:this.resourceGroupName,error:n instanceof Error?n.message:"Unknown deployment error"}}}async getDeploymentStatus(e){try{var t;return null===(t=(await this.client.deployments.get(this.resourceGroupName,e)).properties)||void 0===t?void 0:t.provisioningState}catch(n){return console.error("Failed to get deployment status:",n),"Failed"}}}class ew{constructor(e){this.instance=e}async getToken(e){try{var t;const n=this.instance.getAllAccounts()[0];if(!n)throw new Error("No account found");const r=Array.isArray(e)?e:[e],o=await this.instance.acquireTokenSilent(Wt(Wt({},Sd),{},{scopes:r,account:n}));return{token:o.accessToken,expiresOnTimestamp:(null===(t=o.expiresOn)||void 0===t?void 0:t.getTime())||0}}catch(n){return console.error("Failed to acquire token:",n),null}}}const tw=new bd(wd),nw=()=>{const[e,t]=(0,o.useState)(null),[n,r]=(0,o.useState)(null),[a,i]=(0,o.useState)("idle"),[s,l]=(0,o.useState)(""),[c,u]=(0,o.useState)(""),d=(()=>{const{instance:e,accounts:t}=An();return 0===t.length?null:new ew(e)})(),p=async e=>{const t=await e.text();try{return JSON.parse(t)}catch(n){throw new Error("Invalid JSON in file ".concat(e.name,": ").concat(n))}},h=e&&n&&d&&"running"!==a;return(0,Cd.jsxs)("div",{className:"App",children:[(0,Cd.jsxs)("header",{className:"App-header",children:[(0,Cd.jsx)("h1",{children:"\ud83d\ude80 Azure ARM Template Deployment Tool"}),(0,Cd.jsx)("p",{children:"Deploy Azure resources using ARM templates"})]}),(0,Cd.jsxs)("main",{className:"App-main",children:[(0,Cd.jsx)(Td,{}),d&&(0,Cd.jsxs)(Cd.Fragment,{children:[(0,Cd.jsx)(Pd,{onTemplateFileChange:t,onParametersFileChange:r,templateFile:e,parametersFile:n}),(0,Cd.jsxs)("div",{className:"deploy-section",children:[(0,Cd.jsx)("button",{onClick:async()=>{if(e&&n)if(d)try{i("running");const t=(()=>{const e=(new Date).toISOString().replace(/[:.]/g,"-").slice(0,-5);return"arm-deployment-".concat(e)})();u(t),l("");const r=await p(e),o=await p(n),a=new Zb(d),s=await a.deployTemplate({template:r,parameters:o,deploymentName:t});s.success?(i("success"),l("Resources deployed successfully!")):(i("error"),l(s.error||"Unknown error occurred"))}catch(t){i("error"),l(t instanceof Error?t.message:"Unknown error occurred")}else alert("Please sign in to Azure first");else alert("Please select both template and parameters files")},disabled:!h,className:"deploy-button ".concat(h?"":"disabled"),children:"running"===a?"\u23f3 Deploying...":"\ud83d\ude80 Deploy to Azure"}),(0,Cd.jsxs)("div",{className:"deployment-info",children:[(0,Cd.jsxs)("p",{children:[(0,Cd.jsx)("strong",{children:"Target Subscription:"})," ",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AZURE_SUBSCRIPTION_ID||"Not configured"]}),(0,Cd.jsxs)("p",{children:[(0,Cd.jsx)("strong",{children:"Target Resource Group:"})," ",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AZURE_RESOURCE_GROUP||"Not configured"]})]})]}),(0,Cd.jsx)(kd,{state:a,message:s,deploymentName:c,resourceGroup:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AZURE_RESOURCE_GROUP})]}),!d&&(0,Cd.jsxs)("div",{className:"not-authenticated",children:[(0,Cd.jsx)("h3",{children:"\ud83d\udd10 Authentication Required"}),(0,Cd.jsx)("p",{children:"Please sign in with your Microsoft account to deploy Azure resources."})]})]})]})};const rw=function(){return(0,Cd.jsx)(In,{instance:tw,children:(0,Cd.jsx)(nw,{})})},ow=e=>{e&&e instanceof Function&&n.e(400).then(n.bind(n,400)).then((t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:a,getTTFB:i}=t;n(e),r(e),o(e),a(e),i(e)}))};a.createRoot(document.getElementById("root")).render((0,Cd.jsx)(o.StrictMode,{children:(0,Cd.jsx)(rw,{})})),ow()})();
//# sourceMappingURL=main.0f12f5f9.js.map